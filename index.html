<!DOCTYPE html>
<html>
	<head>
		<title>Murder Games by Orteil</title>
		<meta charset="utf-8">
		<!--
		
		Code and graphics copyright Orteil, 2018
		Modified and improved by TrueWolves for the first and second edition of the Dashnet murder games in the Dashnet forums discord server
		Modified and improved by CursedSliver for the third and fourth edition of the Dashnet murder games
		Special thanks to sage for making a murder games act creator (cactus), leo for the dashnet games setups converter, and kruta for making a bit of art
		
		FORKED: FLO - 06-MAY-2025

		//TODO : 
			-more trait events and moves
			-allow action func to override the text; this way, we can have special conditional events (ie. scrappy finding different kinds of items in one action)
			-localstorage save
			-load from pastebin
			-better parsing : [1:they] find[-s|] (>he finds, she finds, they find)
			-helping moves
			-implement intercepts
		-->
		
		<script src=" https://cdn.jsdelivr.net/npm/sortablejs@1.15.6/Sortable.min.js "></script>
	
		<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700" rel="stylesheet">
		<style>
		* {box-sizing:border-box;}
		div,input,select,cap
		{
			vertical-align:middle;
		}
		html
		{
			background:url(assets/ui/shadedbgtest.png),url(https://orteil.dashnet.org/murdergames/bg.jpg);
			background-size:100% 100%,auto;
			background-attachment:fixed,scroll;
			background-color:#4b413b;
			width:100%;
			height:100%;
		}
		html,body
		{
			margin:0px;
			padding:0px;
		}
		body
		{
			font-family:Verdana;
			font-family:'Roboto Slab',serif;
			font-size:14px;
			line-height:125%;
			color:rgba(255,255,255,0.9);
			text-shadow:0px 1px 0px rgba(0,0,0,0.75);
			overflow:auto;
			min-height:100%;
			position:relative;
			padding-bottom:178px;
		}
		#main
		{
			max-width:672px;
			margin:0px auto;
			padding:16px;
			text-align:center;
		}
		#backToDashnet
		{
			max-width:720px;
			font-size:10px;
			text-align:center;
			margin:0px auto;
			color:rgba(255,255,255,0.6);
			margin-bottom:-20px;
		}
		#backToDashnet > cap {
			display: flex;
			justify-content: center;
			align-items: center;
			gap: 30%;
		}
		#credits
		{
			max-width:720px;
			font-size:10px;
			text-align:center;
			margin:0px auto;
			color:rgba(255,255,255,0.6);
		}
		#ad
		{
			text-align:center;
			margin:0px auto;
			/*margin-top:88px;*/
			/*width:720px;
			height:128px;*/
			max-width:970px;
			height:90px;
			/*background:rgba(0,0,0,0.1);*/
			position:absolute;
			left:0px;right:0px;bottom:4px;
		}
		
		a{color:#fff;}
		a:hover{text-shadow:0px 0px 2px #fff;color:#fff;}
		a:active{opacity:0.8;}
		.logbutton{
			padding-top: 12px;
			background-image: url(assets/ui/logsign.png);
			height: 3em;
			display: inline-block;
			width: 128px;
		}
		.button,input,select
		{
			color:inherit;
			display:inline-block;
			font-size:10px;
			background:rgba(0,0,0,0.5);
			border-radius:2px;
			box-shadow:0px 1px 0px rgba(255,255,255,0.25) inset,0px 0px 0px 1px #000,0px 1px 0px 1px rgba(255,255,255,0.1);
			padding:1px 4px;
			margin:2px;
			height:2em;
			border:none;
		}
		input
		{
			box-shadow:0px 0px 0px 1px rgba(255,255,255,0.25) inset,0px 0px 0px 1px #000,0px 1px 0px 1px rgba(255,255,255,0.1);
		}
		.button
		{
			cursor:pointer;
			height:auto;
			padding:1px 8px;
		}
		.bigButton
		{
			background-image:url(assets/ui/background.png);
			font-size:12px;
			padding:4px 8px;
			letter-spacing:3px;
			font-variant:small-caps;
			font-weight:bold;
		}
		.button:hover,input:hover,select:hover
		{
			box-shadow:2px 2px 2px rgba(0,0,0,0.25);
		}
		.button:active,input:active,select:active,.button:focus,input:focus,select:focus
		{
			box-shadow: 2px 2px 2px rgba(0,0,0,0.75);
		}
		/*.button:active
		{
			padding-bottom:0px;
			margin-top:3px;
		}*/
		
		.bigButton:hover
		{box-shadow:2px 2px 2px rgba(16,54,94,0.25);color:#fff;}
		.bigButton:active,.bigButton:focus
		{box-shadow:4px 4px 4px rgba(16,54,94,0.75);}
		
		.box,.team
		{
			border-radius:8px;
			padding:4px 8px;
			margin:8px 0px;
			box-shadow:0px 0px 0px 1px rgba(0,0,0,0.5),0px 1px 0px rgba(255,255,255,0.25) inset;
			text-align:left;
			background:rgba(0,0,0,0.1);
		}
		.box.red,.box.blue,.box.green,.box.teamless
		{font-size:12px;padding:8px 12px;}
		.box.red
		{background:url(https://orteil.dashnet.org/murdergames/bgRed.jpg) fixed,rgba(151,47,26,0.5);color:#ff9333;}
		.box.blue
		{background:url(https://orteil.dashnet.org/murdergames/bgBlue.jpg) fixed,rgba(16,54,94,0.5);color:#33e0ff;}
		.box.blue e{color:#fff;}
		.box.green
		{background:url(https://i.imgur.com/aiOP5BR.png) fixed,rgba(16,54,94,0.5);color:#5afa85}
		.box.deathsBox {
			text-align: center;
			background:url(assets/ui/shittyrock.png);
			background-size: contain;
			background-position-y: center;
			box-shadow:6px 4px 6px rgba(0, 0, 0,0.25) inset, -6px -4px 6px rgba(0,0,0,0.25) inset
		}
		.box.deathsBox:hover {
			background: rgba(0, 0, 0, 0.25);
		} 



		.team
		{
			position:relative;
		}
		.team.teamless{background:rgba(128,128,128,0.2);}
		.membersList{min-height:24px;}
		.char
		{
			border-radius:10px;
			font-size:10px;
			background:rgba(255,255,255,0.05);
			box-shadow:0px 1px 0px rgba(255,255,255,0.1) inset;
			padding:2px;
			transition:background 0.1s;
			padding-left:58px;
			min-height:52px;
			position:relative;
		}
		.char:nth-child(odd)
		{
			background:rgba(0,0,0,0.05);
			box-shadow:0px 1px 0px rgba(0,0,0,0.1) inset;
		}
		
		.action
		{
			text-align:center;
			font-size:12px;
		}
		
		#WeatherIcon {
			position: relative;
		}
		e
		{
			color:#33e0ff;
			font-weight:bold;
		}
		
		header
		{
			display: block;
			background-image: url(assets/ui/border.png);
			font-variant: small-caps;
			font-weight: bold;
			font-size: 16px;
			letter-spacing: 3px;
			padding: 4px 8px;
			margin: 2px 4px;
			color: #59c135;
			text-shadow: 1px 1px 4px #1a7a3e,-1px 1px 8px rgba(0,0,0,0.5), 1px 0px 8px rgba(0,0,0,0.5); 
			background-position-y: center;
			box-shadow:6px 4px 6px rgba(0, 0, 0,0.25) inset, -6px -4px 6px rgba(0,0,0,0.25) inset
		}

		.smallHeader {
			font-size: 10px;
			text-align: center;
		}
		.smallHeader:after
		{
			content:'';
			display:block;
			background:linear-gradient(to right,rgba(16,54,94,0),rgba(16,54,94,0.75),rgba(16,54,94,0));
			height:1px;
			width:80%;
			margin:4px 0px;
		}
		#roundStatsGrid {
			display: grid; 
			text-align: center;
			grid-template-rows: 1; 
			gap: 5px;
		}
		cap
		{
			font-variant:small-caps;
			font-weight:bold;
			display:inline-block;
		}

		.actionCharContainer {
			display: flex; 
			justify-content: center; 
			align-items: center;
			gap: 6px; /* why wasn't this included before? */
		}
		.charDisplay {
			display: flex;
			max-height: 54px;
 			margin-bottom: 10px;
			border-radius: 9px;
			filter: drop-shadow(2px 2px 2px #000);
			box-shadow: 0px 1px 0px rgba(255,255,255,0.25) inset,0px 0px 0px 1px #000,0px 1px 0px 1px rgba(255,255,255,0.1);
			background: rgba(0,0,0,0.5);
			
		}
		.charStats {
			display: flex;
			padding-right: 1px;
		}
		.charStats > * {
			margin: 0px 2px;
		}
		.charBG{
			position: absolute;
			height: 24px;
			width: 70px;
			
			border-radius: 12px;
			left: 56px;
			top: 3px;
			z-index: -1;
			box-shadow: 1px 0px 1px 1px rgba(11, 10, 10, 0.5),0px 1px 0px 1px rgba(255,255,255,0.1);
  			background: url(https://orteil.dashnet.org/murdergames/friction.png) rgba(189, 189, 189, 0.1);
		}

		.charTraits {
			display: flex;
			gap: 4px;
			height: 24px; 
			padding: 0px 4px;
			padding-right: 6px;
		}
		.icon {
			width: 16px;
			height: 16px;
			background-size: cover;
			background-color: #eee;
			border-radius: 233px;
			margin-top:6px;
			box-shadow: 0px 1px 0px rgba(255,255,255,0.25) inset,0px 0px 0px 1px #000,0px 1px 0px 1px rgba(255,255,255,0.1);
			filter: drop-shadow(1px 1px 2px #000);
		}
		.pic
		{
			width:48px;
			height:48px;
			overflow:hidden;
			border-radius:8px;
			padding:1px;
			margin:1px;
			box-shadow:0px 0px 0px 1px rgba(0,0,0,0.5),2px 2px 2px rgba(0,0,0,0.5);
			background:rgba(255,255,255,0.5);
		}
		/*.char>.pic{margin:0px 8px 0px 0px;float:left;}*/
		.picBox
		{
			line-height:0px;
			position:absolute;
			left:0px;top:0px;
			margin:1px;
		}
		.action .pic{margin:4px;}
		.pic.intext
		{
			width:1.5em;height:1.5em;
			box-shadow:none;
			border-radius:0px;
			vertical-align:middle;
			margin-top:-2px;
		}
		
		.picSkull
		{
			display:inline-block;
			position:relative;
			width:0px;
			height:0px;
			z-index:10;
			filter:drop-shadow(2px 2px 2px rgba(0,0,0,0.5));
			pointer-events:none;
			bottom: -54px; /* evil hack */
		}
		.picSkull:before
		{
			content:'';
			display:block;
			width:18px;
			height:20px;
			background:url(https://orteil.dashnet.org/murdergames/skull.png);
			position:absolute;
			left:-18px;top:-18px;
		}
		.picAngel
		{
			display:inline-block;
			position:relative;
			background-size: cover;
			width:0px;
			height:0px;
			z-index:10;
			filter:drop-shadow(2px 2px 2px rgba(0,0,0,0.5));
			pointer-events:none;
			bottom: -54px; 
		}
		.picAngel:before
		{
			content:'';
			display:block;
			width:22px;
			height:16px;
			background-image:url(https://orteil.dashnet.org/murdergames/revival.png);
			transform: scale(0.95);
			position:absolute;
			left:-18px;top:-14px;
		}

		.teamIcon {
			position:absolute;
			width:24px;
			height:24px;
			transform: translate(-5px, -24px);
			z-index:10;
			filter:drop-shadow(2px 2px 2px rgba(0,0,0,0.5));
			background-size: cover;
			pointer-events:none;
		}
		
		.bit
		{
			border-radius:4px;
			padding:1px 6px;
			background:rgba(0,0,0,0.2);
			cursor:pointer;
			display:inline-block;
			vertical-align:initial;
			box-shadow:0px 1px 0px rgba(255,255,255,0.2) inset,0px 0px 0px 1px rgba(0,0,0,0.5);
		}
		.bit:hover
		{
			background:rgba(0,0,0,0.4);
		}
		
		#popups
		{
			display:flex;
			justify-content:center;
			align-items:center;
			z-index:1000000;
			position:fixed;
			left:0px;top:0px;right:0px;bottom:0px;
			pointer-events:none;
		}
		.darken
		{
			position:absolute;
			left:0px;top:0px;right:0px;bottom:0px;
			pointer-events:auto;
			background:rgba(0,0,0,0.25);
			z-index:100;
		}
		.popup
		{
			width:40%;
			max-height:90%;
			overflow-y:auto;
			pointer-events:auto;
			z-index:1000;
			background:rgba(0,0,0,0.75);
			padding:12px 16px;
			text-align:center;
			filter:drop-shadow(4px 4px 8px rgba(0,0,0,0.5));
		}
		
		#calibrator
		{
			position:absolute;left:0px;top:0px;visibility:hidden;pointer-events:none;
		}
		.beingAdded
		{
			height:0px;min-height:initial;transition:height 0.1s;overflow-y:hidden;
		}
		.beingRemoved
		{
			transition:height 0.25s;min-height:initial;overflow-y:hidden;
			pointer-events:none;
		}
		
		.team.hasHandle{margin-left:15px;border-top-left-radius:0px;border-bottom-left-radius:0px;}
		.char.hasHandle{margin-left:15px;border-top-left-radius:0px;border-bottom-left-radius:0px;}
		.handle
		{
			cursor:move;
			background:url(https://orteil.dashnet.org/murdergames/friction.png) rgba(255,255,255,0.1);
			box-shadow:0px 0px 0px 1px rgba(0,0,0,0.5),0px 1px 0px rgba(255,255,255,0.25) inset,0px 0px 0px 1px rgba(255,255,255,0.15) inset;
			border-radius:4px 0px 0px 4px;
			position:absolute;left:-15px;top:0px;bottom:0px;
			width:14px;
		}
		.handle:hover{background-color:rgba(255,255,255,0.2);}
		
		.dragGhost
		{
			background:rgba(255,255,255,0.2) !important;
			filter:brightness(150%);
			position:relative;
			left:-4px;
		}
		
		.transition{
			animation:fade 1.5s ease-in-out;animation-fill-mode:forwards;
		}
		@keyframes fade 
		{
			0% {background: radial-gradient(circle,rgba(0, 0, 0, 0.0) 0%, rgba(184, 165, 165, 0.0) 50%, rgba(117, 117, 117, 0.0) 100%);}
			33% {background: radial-gradient(circle,rgba(0, 0, 0, 0.5) 0%, rgba(184, 165, 165, 0.5) 50%, rgba(117, 117, 117, 0.3) 100%);}
			60% {background: radial-gradient(circle,rgba(0, 0, 0, 0.8) 0%, rgba(184, 165, 165, 0.3) 50%, rgba(117, 117, 117, 1) 100%);}
			100% {background: radial-gradient(circle,rgba(0, 0, 0, 0.0) 0%, rgba(184, 165, 165, 0.0) 50%, rgba(117, 117, 117, 0.0) 100%);}
		}

		.pucker{animation:pucker 0.2s ease-out;animation-fill-mode:forwards;}
		@keyframes pucker
		{
			0% {transform:scale(1,1);}
			10% {transform:scale(1.15,0.85);}
			20% {transform:scale(1.2,0.8);}
			50% {transform:scale(0.75,1.25);}
			70% {transform:scale(1.05,0.95);}
			90% {transform:scale(0.95,1.05);}
			100% {transform:scale(1,1);}
		}
		.enter{animation: enterPage 2s ease-in-out 0s 1 normal forwards;}
		@keyframes enterPage {
			0% {
				opacity: 0;
				transform: translateY(-50px);
			}

			100% {
				opacity: 1;
				transform: translateY(0);
			}
		}
		#stretchy{transition:height 0.5s ease-out;}
		#cornertips {
			position: fixed;
			bottom: 24px;
			right: 24px;
			opacity:0.5;
		  	-webkit-user-select: none; /* Safari */
			-ms-user-select: none; /* IE 10 and IE 11 */
			user-select: none; /* Standard syntax */
			line-height: 10px;
			text-align: end;
			z-index:100;
		}
		#cornertips > p {
			color: #ccc;
		}
		.vinecontainer {
			position: relative;
			display: inline-block;
		}
		.vines {
			position:absolute;
			
			left: 20%;
			width:60%;
			height: 16px;
			background: url(assets/ui/leaves/vines.png), url(assets/ui/leaves/vines29.png);
			z-index: -1

		}
				/* Flo Visual stuff*/
		.horizontal {
			background-image:url(assets/ui/horiz2.png);
			height:48px;
			width:100%;
			margin-top:-8px;
			margin-bottom:8px;
			position: relative;
			background-position-y: -14px;
		}
		.horizontal::before {
			content: '';
			display: block;
			position: absolute;
			top: 0;
			left:-48px;
			height: 100%;
			width: 48px;
			background-image:url(assets/ui/horiedge.png);
			background-repeat: no-repeat;
			background-position-y: -14px;
		}
		.horizontal::after {
			content: '';
			display: block;
			position: absolute;
			top: 0;
			right:-48px;
			height: 100%;
			width: 48px;
			background-image:url(assets/ui/horiedge.png);
			background-repeat: no-repeat;
			transform: scaleX(-1);
			background-position-y: -14px;
		}		
		.blackbg {
			background-image:url(assets/test/darkstone.png);
			box-shadow: 6px 4px 6px rgba(0, 0, 0,0.25) inset, -6px -4px 6px rgba(0,0,0,0.25) inset;
		}
		/* turnstile stuff */ 
		.turnstilepage{
			display: grid;
 			grid-template: 1fr / 1fr;
  			place-items: center;
		}
		.turnstilepage > * {
			grid-column: 1 / 1;
			grid-row: 1 / 1;
		}
		.turnstilebox {
			display: flex;
		}
		.turnstilecontainer {
			position: relative;
			width:100%;
			height: 100vh;
			display:flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
		.turnstileteam {
			position:absolute;
			width: 300px;
			padding:20px;
			border-radius:12px;
			box-shadow: 0 4px 8px rgba(0,0,0,0.2);
			transition: all 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
		}
		.teama{
			top: 5%;
			transform: translateY(0);
		}

		.teamb{
			bottom:5%;
			transform: translateY(0);
		}
		.unaffiliated-left {
			right: 75%;
		}
		.unaffiliated-right {
			left: 75%;
		}
		.begincontainer{
			position: relative; 
			display: flex;
			justify-content:center;
			align-items:center;
			width: 100%;
			z-index: 2;
		}
		.beginbutton {
			background-image: url(assets/ui/stonetabletcracked.png);
			height: 32px;
			transition: transform 0.3s ease;
		}
		.beginbutton:hover {
			transform: scale(1.05);
		}
		/* Animation classes */
        .turnstile-in .turnstileteam {
            opacity: 1;
            transform: none !important;
        }

        .turnstile-out .teama {
            transform: translateY(-100vh) rotate(-15deg);
            opacity: 0;
        }

        .turnstile-out .teamb {
            transform: translateY(100vh) rotate(15deg);
            opacity: 0;
        }

        .turnstile-out .unaffiliated-left {
            transform: translateX(-100vw) rotate(-10deg);
            opacity: 0;
        }

        .turnstile-out .unaffiliated-right {
            transform: translateX(100vw) rotate(10deg);
            opacity: 0;
        }
		</style>
	</head>
	<body id="body">
		<div id="popups"></div>
		<div id="cornertips"></div>
		<div id="backToDashnet"><cap>
			<div class="vinecontainer">
				<img src="assets/ui/leaves/leaf1.png"/ style="position:absolute;position: absolute;top: 16px;left:-8px;">
				<img src="assets/ui/leaves/leaf2.png"/ style="position:absolute;top:22px;left:-8px;">
				<img src="assets/ui/leaves/leaf3.png" style="z-index:1;position:absolute;top:30px;left:7px;transform:rotate(80deg);">
				<img src="assets/ui/leaves/leaf1.png"/ style="position:absolute;position: absolute;top: 28px;right:22px;transform:scaleX(-1);">
				<img src="assets/ui/leaves/leaf1.png"/ style="position:absolute;position: absolute;top: 28px;right:24px;transform:rotate(-40deg);">
				<img src="assets/ui/leaves/leaf2.png"/ style="position:absolute;top:22px;left:-8px;">
				<a class="logbutton" href="https://dashnet.org/" target="_blank">&lt; back to DashNet</a>
				<div class="vines"></div>
			</div>
			<div class="vinecontainer">
				<img src="assets/ui/leaves/leaf1.png"/ style="position:absolute;position: absolute;top: 2px;left:2px;">
				<img src="assets/ui/leaves/leaf2.png"/ style="position:absolute;top:24px;left:-8px;">
				<img src="assets/ui/leaves/leaf3.png" style="z-index:1;position:absolute;top:28px;left:7px;transform:scaleX(-1);">
				<img src="assets/ui/leaves/leaf3.png" style="position:absolute;top:32px;left:0px;transform:rotate(10deg);">
				
				<a class="logbutton" href="https://discordapp.com/invite/cookie" target="_blank">official Discord</a>
				<div class="vines">
					<img src="assets/ui/leaves/leaf3.png" style="position:absolute;top:-1px;right:-12px;"></div>
				</div>
			</cap></div>
		<div id="main"></div>
		<div id="credits">by <a href="http://orteil.dashnet.org/" target="_blank">Orteil</a>, 2018 | Modded by the Dashnet Forums community</div>
	</body>
</html>


<script>

//lib
l=function(d){return document.getElementById(d);};
c=function(a){return a[Math.floor(Math.random()*a.length)];};

shuffle=function(a){
    var j, x, i;
    for (i = a.length - 1; i > 0; i--) {
        j = Math.floor(Math.random() * (i + 1));
        x = a[i];
        a[i] = a[j];
        a[j] = x;
    }
    return a;
}

/*String.prototype.replaceAll = function(search, replacement) {
    var target = this;
    return target.replace(new RegExp(search, 'g'), replacement);
};*/

String.prototype.replaceAll=function(search,replacement)
{return this.split(search).join(replacement);};

rand=function()
{
	if (arguments.length==2) return Math.floor(Math.random()*(arguments[1]-arguments[0])+arguments[0]);
	else return Math.floor(Math.random()*arguments[0]);
};
frand=function()
{
	if (arguments.length==2) return (Math.random()*(arguments[1]-arguments[0])+arguments[0]);
	else return (Math.random()*arguments[0]);
};

function capitalize(str) {
	return str[0].toUpperCase() + str.slice(1, str.length);
}

addEvent=function(html_element,event_name,event_function)
{
	return html_element.addEventListener(event_name,event_function,false);
};
triggerAnim=function(element,anim)
{
	if (!element) return;
	element.classList.remove(anim);
	void element.offsetWidth;
	element.classList.add(anim);
};
function choose(arr) {return arr[Math.floor(Math.random()*arr.length)];}

cloneDom=function(el)
{
	//return a clone of el with all IDs stripped
	var alias=el.cloneNode();
	alias.innerHTML=el.innerHTML;
	alias.removeAttribute('id');
	var elems=alias.getElementsByTagName('*');for (var i=0;i<elems.length;i++){elems[i].removeAttribute('id');}
	return alias;
}
function randomFloor(x) {if ((x%1)<Math.random()) return Math.floor(x); else return Math.ceil(x);}
function deepArrCopy(arr) {
	if (!Array.isArray(arr)) { return arr; }
	let newArr = [];
	for (let i in arr) {
		newArr.push(deepArrCopy(arr[i]));
	}
	return newArr;
}
function cNegate(bool, negate) {
	if (negate) { return !bool; } else { return bool; }
}
function oxfordsConcat(strs) {
	if (strs.length == 0) { return ''; }
	if (strs.length == 1) { return strs[0]; }
	if (strs.length == 2) { return strs[0] + ' and ' + strs[1]; }
	var str = '';
	for (let i = 0; i < strs.length - 1; i++) {
		str += strs[i] + ', ';
	}
	str += 'and ' + strs[strs.length - 1];
	return str;
}

SmoothToggles=function()
{
	let calibrator=document.createElement('div');
	document.body.appendChild(calibrator);
	animAdd=function(el)
	{
		var alias=cloneDom(el);
		calibrator.appendChild(alias);
		el.classList.add('beingAdded');
		let h=alias.offsetHeight;
		alias.remove();
		el.style.height=h+'px';
		setTimeout(function(){if (el){el.classList.remove('beingAdded');el.style.removeProperty('height');}},100);
	}
	animRemove=function(el)
	{
		var alias=cloneDom(el);
		calibrator.appendChild(alias);
		let h=alias.offsetHeight;
		alias.remove();
		el.style.height=h+'px';
		void el.offsetWidth;
		el.classList.add('beingRemoved');
		el.style.height='0px';
		setTimeout(function(){if (el){el.remove();}},250);
	}
}();
	countOccurrences = function (a, e) {
		let count = 0;
		for (let i = 0; i < a.length; i++) {
			if (a[i] == e) { count++; }
		}
		return count;
	}

//dubious reliability
STRCLN=function(str)
{
	str=str.toString();
	str=str.replaceAll('<','&lt;');
	str=str.replaceAll('>','&gt;');
	str=str.replaceAll('\'','&#39;');
	str=str.replaceAll('"','&#34;');
	return str;
};
INTCLN=function(str)
{
	str=parseInt(str);
	return str;
}

function getIcon(str) {
	str = str.replaceAll(' ', '_');
	return "assets/" + str + ".png";
}
function saveToLocal(name, obj) {
	if (typeof(Storage) !== "undefined") {
		localStorage.setItem("saves:::"+name, JSON.stringify(obj));
	} else {
		alert("Sorry, your browser does not support web storage...");
	}
}
function loadFromLocal(name) {
	if (typeof(Storage) !== "undefined") {
		return JSON.parse(localStorage.getItem("saves:::"+name));
	} else {
		alert("Sorry, your browser does not support web storage...");
	}
}

function loadSaves() {
	if (typeof(Storage) !== "undefined") {
		let saves = localStorage.getItem("saves:::");
		if (saves) {
			saves = saves.split(':::');
			for (let i = 0; i < saves.length; i++) {
				if (saves[i] != "") {
					let obj = JSON.parse(localStorage.getItem("saves:::" + saves[i]));
					G.glob[saves[i]] = obj;
				}
			}
		}
	} else {
		alert("Sorry, your browser does not support web storage...");
	}
}


G={
	init:function()
	{
		G.launched=true;
		
		G.popup=function(text,func)
		{
			var str=`
				<div class="darken" id="darken"></div>
				<div class="popup box" id="popup">${text}<div><div id="closePopup" class="button bigButton">Close</div></div></div>
			`;
			l('popups').innerHTML=str;
			addEvent(l('darken'),'click',G.closePopup);
			addEvent(l('closePopup'),'click',G.closePopup);
			if (func) func();
			//animAdd(l('popup'));
		}
		G.closePopup=function()
		{
			if (l('popup'))
			{
				l('popups').innerHTML='';
				//animRemove(l('popup'));
			}
		}
		addEvent(document,'keydown',function(e){if (e.key=='Escape'){G.closePopup();}});
		G.glob={};
		//perks
		
		G.perks=[];
		G.perksBN={};
		G.perk=function(o)
		{
			for (var i in G.glob){this[i]=G.glob[i];}
			for (var i in o){this[i]=o[i];}
			this.id=G.perks.length;
			G.perks.push(this);
			G.perksBN[this.name]=this;
		}
		G.perkToken = function(perk, owner, obj) {
			this.perk = perk;
			this.owner = owner; 
			this.roundN = 0;
			this.t = 0;
			if (obj) { for (let i in obj) { this[i] = obj[i]; } }
			if (this.perk.combat) { this.mt = 0; }
			if (this.perk.init) { for (let i in this.perk.init) { this[i] = deepArrCopy(this.perk.init[i]); } }
		}

		/*
  		DOCUMENTATION:
    		"name": the name of the perk
      		"desc": description
		"init": object, all properties in the object will be copied over to the token on creation
  		"onGain": function, called on gain and a bool for already having perk or not will be passed in
    		"onLose": function, called on lose
      		"update": function, called every round
		"onMove": function, called at the start of every move selection
  		"onInterrupt": function, called when interrupted in combat
    		"aggro": number, adds the number to the count for target selection (tier does the same thing but more complicated and actually represents something else)
	  	"onDeath": function, called when the carrying character dies
		"countFunc": function, uses its return value for the amount of disabled, injured, or ailed that it counts for (default 1 if it isnt defined, *5 for any hard disables); a type argument is passed into it (string) between "disable", "injury", "ailment", and "out" indicating which function is calling it
  		*/
		G.glob={type:'trait',def:true};
		let TRAIT_ASSETS = `assets/traits/`
		new G.perk({name:`no perk`,desc:`No perk selected.`});
		new G.perk({name:`leader`,desc:`Capable of bringing people together to accomplish great deeds.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`peaceful`,desc:`Has no interest in violence.`,icon:TRAIT_ASSETS,tier:-1});
		new G.perk({name:`sociopath`,desc:`Will lie, steal and kill at a moment's notice.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`kind`,desc:`Will act selflessly and generously to help others.`,icon:TRAIT_ASSETS,tier:0});
		new G.perk({name:`unstable`,desc:`May snap at any moment.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`bulky`,desc:`Capable of both delivering and resisting stronger attacks.`,icon:TRAIT_ASSETS,tier:2});
		new G.perk({name:`meek`,desc:`Very fragile and physically inept.`,icon:TRAIT_ASSETS,tier:-1});
		new G.perk({name:`naive`,desc:`Gullible and easy to mislead.`,icon:TRAIT_ASSETS,tier:-1});
		new G.perk({name:`devious`,desc:`Will manipulate and betray others if given the chance.`,icon:TRAIT_ASSETS,tier:0});
		new G.perk({name:`seductive`,desc:`Capable of romancing others into doing their bidding.`,icon:TRAIT_ASSETS,tier:0});
		new G.perk({name:`suicidal`,desc:`Probably won't survive very long.`,icon:TRAIT_ASSETS,tier:-1});
		new G.perk({name:`cute`,desc:`Everybody likes them! Others may go out of their way to protect them.`,icon:TRAIT_ASSETS,tier:0});
		new G.perk({name:`annoying`,desc:`Horrible to be around. Tends to get killed off first.`,icon:TRAIT_ASSETS,tier:-1});
		new G.perk({name:`scrappy`,desc:`Finds more resources than most.`,icon:TRAIT_ASSETS,tier:2});
		new G.perk({name:`survivalist`,desc:`Strives better alone, and will not let others get in their way.`,icon:TRAIT_ASSETS,tier:2});
		new G.perk({name:`rich`,desc:`Armed with a large fortune to cater every whim.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`inventor`,desc:`Can devise strange machines for various purposes.`,icon:TRAIT_ASSETS,tier:2});
		new G.perk({name:`goth`,desc:`Channels the dark energies.`,icon:TRAIT_ASSETS,tier:0});
		new G.perk({name:`lunatic`,desc:`Susceptible to gain and lose random perks regularly.`,icon:TRAIT_ASSETS,tier:0});

		//inventir synergy
		//pyro synergy
		//garden hose upgrade
		//limit looting of the dead to have self 10 points total at max
		//guidebook or kind at 50% chance: gives away items to teammates
		//more likely to find higher point items the further into the game (the more people have died)
		//charismatic in fights: for finisihing moves, if charismatic have chance to instead recruit them, or if about to be finished join their team
		//fix the team actions not happening bug
		//coerced turn into hypnotized given enough time
		//instead of "a horrible struggle for survival is taking place" every time have something different depending on the amount of blue, green, or red boxes parsed
		
		// Additional Traits
		new G.perk({name:`medic`,desc:`Knows how to treat illness and injury while preserving life.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`marksmen`,desc:`Perceptive and steady handed, skilled at range weapons.`,icon:TRAIT_ASSETS,tier:2});
		new G.perk({name:`animal ken`,desc:`One with the natural world, animals are drawn to them.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`ninja`,desc:`Believes they are a ninja of great finesse, one with the darkness.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`stubborn`,desc:`Very strong willed. Will not give up for better or worse.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`analytical`,desc:`Prone to thinking through problems and intellectual persuits.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`artist`,desc:`Creatively inclined and can be unpredictable.`,icon:TRAIT_ASSETS,tier:1});
		new G.perk({name:`pyromania`,desc:`Likes fire, like, really likes fire.`,icon:TRAIT_ASSETS,tier:0});
		new G.perk({name:`cowardly`,desc:`Will avoid direct conflict and hide from danger.`,icon:TRAIT_ASSETS,tier:0});
		new G.perk({name:`glasses`,desc:`Wears glasses to compensate for their poor eyesight.`,icon:TRAIT_ASSETS,tier:-1});
		new G.perk({name:`clumsy`,desc:`Prone to injury and dropping things.`,icon:TRAIT_ASSETS,tier:-1});
		new G.perk({name:`the gift`,desc:`Has a rare supernatural talent and is attracted to the strange.`,icon:TRAIT_ASSETS,tier:2});
		
		new G.perk({name:`plot armor`,desc:`This character is almost impossible to kill. Not for serious games.`,icon:TRAIT_ASSETS});
		new G.perk({name:`nerd`,desc:`Filled to the brim with obscure knowledge and technical gossips.`,tier:-1});
		new G.perk({name:`vigilant`,desc:`Especially observant and keen.`,tier:2});
		new G.perk({name:`haste`,desc:`Fast and agile.`,tier:1});
		new G.perk({name:`omnipotence`,desc:`Unnecessary.`,tier:Infinity});
		new G.perk({name:`charismatic`,desc:`Extremely charming. Perhaps dangerously so.`,tier:2});
		new G.perk({name:`hypersomniac`,desc:`Might just fall asleep at any moment.`,tier:-1});

		// reality bender abilities
		new G.perk({name:`pixelate`,desc:`Reality bender ability - rendering your enemies as mere pixels, detaching them from reality!`,tier:4});
		new G.perk({name:`disassemble`,desc:`Reality bender ability - pick apart your enemies flesh and soul with your mind!`,tier:4});

		G.glob={type:'trait',def:false};
		new G.perk({name:`any`,desc:`Applies to everyone.`});

		
		G.glob={type:'status'};
			G.glob.disable = true;//mark the character as disabled; disabled characters cannot do any actions that don't specifically call for this perk
			G.glob.out = false;//mark the character as out; out characters cannot do any actions that don't specifically call for this perk
			G.glob.ailment = true; 
			G.glob.injury = false;
			G.glob.combat = false; //whether this applies to combat only; any perks marked with this will be removed after fleeing from combat
			G.glob.hard = false; //for perks marked with disable; indicates that the perk is "hard disable", meaning that most disabled actions wont apply but out actions wont apply either (such as unconscious, shell-shocked). For combat, each hard disabled counts as 5 disabled
			G.glob.identificator = false; //if something has a perk marked with this, it will not longer be sanitized for realness
		new G.perk({name:`frenzied`,desc:`Experiencing a fit of violent rage and, when met with trouble, an incredible surge of adrenaline.`,disable:false});
		new G.perk({name:`shell-shocked`,desc:`Has seen too much. May not be of much use for a while.`,hard:true});
		new G.perk({name:`dazed`,desc:`Not quite in full control of their faculties. May wander off unpredictably.`});
		new G.perk({name:`heroic`,desc:`Having a moment of heroism. Resolved and unstoppable.`,ailment:false,onGain:function(){ if (this.owner.has('cowardly') || this.owner.has('terrified')) { this.owner.lose(this.perk.name); } }});
		new G.perk({name:`determined`,desc:`Set to give their all, whatever the cost.`,ailment:false,onGain:function(){ if (this.owner.has('cowardly') || this.owner.has('terrified')) { this.owner.lose(this.perk.name); } }});
		new G.perk({name:`terrified`,desc:`Running away from something horrifying.`});
		new G.perk({name:`has killed`,desc:`Caused someone's death.`,init:{count:1},disable:false,ailment:false,onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } }});
		new G.perk({name:`revived`,desc:`Has been revived.`,ailment:false});
		new G.perk({name:`set trap`,desc:`Laid down some traps that others may get caught in...`,disable:false,ailment:false});
		new G.perk({name:`mint enhanced`,desc:`Has successfully swallowed a mint essence, gaining immunity to all magical attacks.`,disable:false,ailment:false});

		//combat stuff
		G.glob.combat = true;
		G.glob.disable = false;
		G.glob.ailment = false;

		G.glob.onGain = function() { this.mt = 0; };
		new G.perk({name:`fallen`,desc:`Has fallen to the ground and can\'t get back up...`,disable:true,onGain:function() { if (this.owner.has('flying')) { this.owner.lose(this); }}}); //quite possibly the most used perk ever
		new G.perk({name:`defensive`,desc:`In a defensive stance.`});
		new G.perk({name:`fortified`,desc:`In a very defensive stance, but can\'t really do much else.`,disable:true});
		new G.perk({name:`skipped`,desc:`Turn skipped!`,init:{count:1},cannotLose:true,onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } },onLose:function() { this.count--; if (this.count <= 0) { this.count += 1000; this.owner.lose('skipped', true); } }});
		new G.perk({name:`in stasis`,desc:`Can no longer make turns!`});
		new G.perk({name:`embedded`,desc:`Warning: DO NOT remove sharp object embedded in vital arteries.`,init:{embeddedItem:null},setItem:function(itemPerk) { itemPerk.owner = this.owner; this.embeddedItem = itemPerk; }});
		new G.perk({name:`marked`,desc:`All eyes on them!`,init:{duration:1,maxDuration:1},setDuration:function(dur){this.duration = Math.max(this.duration, dur); this.maxDuration = Math.max(this.maxDuration, dur); },onMove:function() { this.duration--; if (this.duration <= 0) { this.owner.lose(this); } }});
		new G.perk({name:`high morale`,desc:`Confidence at an all-time high!`,init:{duration:5},onMove:function() { this.duration--; }});
		new G.perk({name:`ironskin`,desc:`Skin as hard as steel!`,init:{duration:5},onMove:function() { this.duration--; }});
		new G.perk({name:`invigorated`,desc:`Stronger than ever!`,init:{power:1},onGain: function(alreadyHasPerk) { if (alreadyHasPerk) { this.power++; } }});
		new G.perk({name:`weak`,desc:`Muscles no longer work properly.`,init:{duration:5},onMove:function() { this.duration--; }});
		new G.perk({name:`vulnerable`,desc:`No matter what you wear, it still hurts...`,init:{duration:5},onMove:function() { this.duration--; }});
		new G.perk({name:`hallucinating`,desc:`Enchanted in a trance.`,init:{duration:5},onMove:function() { this.duration--; },disable:true,hard:true});
		new G.perk({name:`alert`,desc:`Anticipating what comes next.`,init:{duration:0},onMove:function() { if (this.duration <= 0) { this.owner.lose(this); } this.duration--; }});
		new G.perk({name:`invulnerable`,desc:`Completely invincible.`});
		new G.perk({name:`infallible`,desc:`Will never be slow.`});
		new G.perk({name:`immaterial`,desc:`Does not possess a directly interactable physical form.`});
		new G.perk({name:`untargetable`,desc:`Cannot be targeted.`});
		new G.perk({name:`invisible`,desc:`Vanished into thin air!`,init:{duration:2},onMove:function() { this.duration--; }});
		new G.perk({name:`levitating`,desc:`Is higher than everyone else.`,init:{duration:2},onMove:function() { this.duration--; this.owner.combat.vertical += 5; },disable:true});
		new G.perk({name:`paralyzed`,desc:`For whatever reason, none of your muscles want to listen anymore.`,disable:true,hard:true});
		new G.perk({name:`ignorable`,desc:`No one really takes notice of them.`});
		new G.perk({name:`oiled`,desc:`Prone to bursting into flames, which is actually not a good thing.`});
		new G.perk({name:`slimed`,desc:`Good luck doing anything with this on you!`,disable:true,hard:true,init:{duration:4},onMove:function() { this.duration--; }});
		new G.perk({name:`carrying`,desc:`Carrying something heavy.`,init:{items:[]},addItem:function(item){ this.items.push(item); },onMove:function() { this.owner.combat.vertical = Math.max(this.owner.combat.overseer.getHeightAt(this.owner.combat.horizontal), this.owner.combat.vertical - 2.5); },onLose:function() { this.items = []; }});
		new G.perk({name:`flying`,desc:`Burrowing through the air!`,init:{heightMult:1},onMove:function() { this.owner.combat.vertical += (15 + 10 * Math.random()) * this.heightMult; }});
		new G.perk({name:`coupled`,desc:`Horizontal and vertical position locked to the partner.`,init:{partner:null},onMove: function() { if (this.partner) { this.owner.combat.horizontal = this.partner.combat.horizontal; this.owner.combat.vertical = this.partner.combat.vertical; } else { this.owner.lose(this); } }});
		new G.perk({name:`ancient charging`,desc:`Your Ancient scepter is charging up!`,onMove:function() { this.owner.has('ancient scepter').charges++; this.owner.lose(this); },onInterrupt:function() { this.owner.lose(this); this.owner.combat.overseer.injectBack('<br><e>'+this.owner.name+'</e>\'s focus on the ancient scepter has been disrupted!'); },aggro:10});
		new G.perk({name:`snake climbing`,desc:`You are climbing on a snake!`,disable:true,init:{height:5},onMove:function() { this.owner.combat.vertical += this.height; this.height += 10; }});
		//summon perks
		new G.perk({name:`grieving`,desc:`Grieving about the loss of a good friend.`,init:{power:1},onMove:function() { this.power--; if (this.power <= 0) { this.owner.lose(this); } }});
		new G.perk({name:`wolves' mark`,desc:`Attracting the attention of nearby wolves.`,init:{duration:2},onMove:function() { this.duration--; if (this.duration <= 0) { this.owner.lose(this); } }});
		new G.perk({name:`mark of the void`,desc:`You feel an evil presence watching you...`,init:{duration:3},onMove:function() { this.duration--; if (this.duration <= 0) { this.owner.lose(this); } }});
		G.glob.identificator = true;
		new G.perk({name:`turtle`,desc:`A cute turtle to do its owner\'s bidding.`});
		new G.perk({name:`wolf`,desc:`A fierce wolf to help its owner defeat the enemies.`});
		new G.perk({name:`hawk`,desc:`A vigilant hawk to watch over the world with its owner.`});
		new G.perk({name:`tiger`,desc:`A hungry tiger to tear its owner\'s enemies to shreds.`});
		new G.perk({name:`phantasmal dragon`,desc:`A nice ethereal dragon to brutally and painfully atomize your enemies into a quadrillion fragments.`});
		new G.perk({name:`eye of the void`,desc:`????`});
		new G.perk({name:`heavenly hypercane`,desc:`Let fate befall upon the unlucky one.`});
		G.glob.identificator = false;

		delete G.glob.onGain;
		G.glob.disable = true;
		G.glob.injury = true;
		G.glob.ailment = false;
		G.glob.combat = false;
		new G.perk({name:`wet`,desc:`Is dripping with water.`,disable:false,injury:false});
		new G.perk({name:`scratched`,desc:`Lightly scratched and bleeding a little bit.`,disable:false});
		new G.perk({name:`bruised`,desc:`Been pounded badly.`,disable:false,injury:false,init:{count: 1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } if (this.count > Math.round(Math.random() * 3) + 2 && Math.random() < 0.8) { this.owner.gain('crippled'); } }, update:function() { if (Math.random() < 0.2) { this.count--; if (this.count == 0) { this.owner.lose('bruised'); }}}});
			new G.perk({name:`crippled`,desc:`Been pounded to the point of immobility.`,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } if (this.count > Math.round(Math.random() * 5) + 2 && Math.random() < 0.8) { this.owner.gain('bleeding out'); } },countFunc:function() { return this.count; }});
		new G.perk({name:`cut up`,desc:`Received some slicing damage.`,disable:false,injury:false,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } if (this.count > Math.round(Math.random() * 2) + 2 && Math.random() < 0.8) { this.owner.gain('lacerated'); } }, update:function() { if (Math.random() < 0.1) { this.count--; if (this.count == 0) { this.owner.lose('cut up'); }}}});
			new G.perk({name:`lacerated`,desc:`Received a lot of slicing damage, and it really hurts.`,disable:false,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } if (this.count > Math.round(Math.random() * 2) + 1 && Math.random() < 0.8) { this.owner.gain('sick'); } },countFunc:function() { return this.count; }});
			new G.perk({name:`bleeding out`,desc:`Losing blood at an alarming rate. Needs immediate treatment.`,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } if (this.count > Math.round(Math.random() * 2) + 1 && Math.random() < 0.8) { this.owner.gain(choose(['sick', 'dizzy', 'dazed', 'terrified', 'broken'])); if (Math.random() < 0.1) { this.owner.gain('unconscious'); } } },countFunc:function() { return this.count * 2; }});
		new G.perk({name:`singed`,desc:`Mildly burned and in some pain.`,disable:false,injury:false,ailment:false,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } if (this.count > Math.round(Math.random() * 2) + 2 && Math.random() < 0.8) { this.owner.gain('seared'); this.count = Math.max(this.count - 3, 1); } }});
			new G.perk({name:`seared`,desc:`Has received some bad burns, but it is still somewhat manageable.`,disable:false,ailment:true,injury:false,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } if (this.count > Math.round(Math.random() * 2) + 2 && Math.random() < 0.8) { this.owner.gain('burnt'); this.count = Math.max(this.count - 3, 1); } },countFunc:function() { return this.count; }});
			new G.perk({name:`burnt`,desc:`Singed quite a lot. Everything hurts.`,ailment:true,injury:false,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } },countFunc: function() { return this.count; }});
		new G.perk({name:`deep frozen`,desc:`Encased in ice!`,hard:true,init:{duration:1},onMove: function() { this.duration--; }});
		new G.perk({name:`poisoned`,desc:`Slowly dying due to poison.`,disable:false,ailment:true,injury:false}); // Removed Disabled
			new G.perk({name:`badly poisoned`,desc:`Bloodstream saturated with poison; will most likely die soon.`,ailment:true,injury:false});
		new G.perk({name:`missing leg`,desc:`Missing a whole leg!`});
		new G.perk({name:`missing arm`,desc:`Missing a whole arm!`,disable:false}); // Temporarily Removed until better handled.
		new G.perk({name:`sleeping`,desc:`Floated off into dreamland.`,hard:true});
		new G.perk({name:`trapped`,desc:`Stuck in a trap, and waiting to be freed, if something doesn't kill them first.`});
		new G.perk({name:`unconscious`,desc:`Not quite comatose, but almost there.`,hard:true});
		new G.perk({name:`comatose`,desc:`Unconscious, and unable to speak or move.`,out:true});
		new G.perk({name:`revived`,desc:`Was just resurrected through some miracle or other.`,out:true,injury:false});
		new G.perk({name:`will respawn`,desc:`Respawn anchor set!`,disable:false,injury:false});
		new G.perk({name:`angel\'s revival`,desc:`Resurrection is imminent...`,disable:false,injury:false});
		new G.perk({name:`dead`,desc:`Dead and gone. Sorry!`,out:true});
		new G.perk({name:`ghost`,desc:`Brought back from the dead in a mischievous incorporeal form.`,out:true});
		new G.perk({name:`zombie`,desc:`Brought back from the dead in a smelly, mindless form.`,out:true});
		new G.perk({name:`sheep`,desc:`Has been turned into a sheep through some magical mean.`,out:true,ailment:true});
		new G.perk({name:`duck`,desc:`Has been turned into a duck by a magical incantation.`,out:true,ailment:true});
		new G.perk({name:`pixelated`,desc:`Has been rendered a mess of pixels.`,out:true,ailment:true});
		new G.perk({name:`disassembled`,desc:`Has been completely sorted and nicely compartmentalized.`,out:true,ailment:true});
        //Additional flags/statuses -TW
		G.glob.injury = false;
		G.glob.ailment = true;
		new G.perk({name:`sick`,desc:`Is feeling ill and feverish.`,disable:false});
		new G.perk({name:`dizzy`,desc:`Has suffered recent head trauma making it harder to think.`,disable:false});
		new G.perk({name:`broken`,desc:`Something's broken, but its not an arm or a leg.`,disable:false});
		new G.perk({name:`shot`,desc:`Has been shot by an arrow or bullet.`,disable:false,init:{count:1},onGain:function(alreadyHasPerk) { if (alreadyHasPerk) { this.count++; } }});
		new G.perk({name:`bitten`,desc:`Becoming a zombie isn't infectious, right?`,disable:false});
		new G.perk({name:`blind`,desc:`Has lost their glasses.`,ailment:false});
		new G.perk({name:`gremlin`,desc:`Has gone into gremlin mode, causing chaos everywhere.`});
		G.glob.ailment = false;
        new G.perk({name:`laughed`,desc:`AH HA HA HA HA -Tidus`});
		new G.perk({name:`act again`,desc:`Act another time in the same round!`,disable:false});
		new G.perk({name:`fleed`,desc:`Has managed to successfully flee from combat!`,disable:false});
		new G.perk({name:`has fought`,desc:`Has recently fought in a big conflict.`,disable:false,init:{count:1},onGain:function(alreadyHasPerk){ if (alreadyHasPerk) { this.count++; }}});
		new G.perk({name:`hypnotized`,desc:`Has their worldview turned around in a flash.`,disable:false});
		new G.perk({name:`disillusioned`,desc:`Strengthened conviction.`,disable:false});
		new G.perk({name:`coerced`,desc:`Has no choice but to fight alongside their enemies.`,disable:false});
        //Make sure people stay "gone" -TW
        new G.perk({name:`nihil`,desc:`Has ceased to exist entirely.`,out:true});
        new G.perk({name:`confirmed`,desc:`Has been confirmed to not be mostly dead.`,out:true});
		
		G.glob={type:'item'};
			G.glob.def=true;
		let ITEM_ASSETS = `assets/items/`
		new G.perk({name:`no item`,desc:`No item selected.`});
		
		new G.perk({name:`big stick`,desc:`Rather crude, but can bash an unsuspecting enemy just fine.`,tier:0});
		new G.perk({name:`pitchfork`,desc:`Used to stack hay and stab your friends.`,tier:1});
		new G.perk({name:`sword`,desc:`A classic bladed weapon popular since medieval times.`,tier:2});
		new G.perk({name:`axe`,desc:`Makes quick, if messy work of anyone who'd stand in your way.`,tier:2});
		new G.perk({name:`handgun`,desc:`Takes down a target quite reliably if you know how to aim.`,tier:1,init:{loaded:1}});
		new G.perk({name:`shotgun`,desc:`Delivers a powerful, low-accuracy blow.`,tier:2,init:{loaded:1}});
		new G.perk({name:`grenade`,desc:`A single-use explosive device to blow several enemies to bits.`,tier:0});
		new G.perk({name:`slingshot`,desc:`Fires small projectiles. Not quite deadly as much as slightly annoying.`,tier:0});
		new G.perk({name:`bow`,desc:`Its arrows can easily chop a head clean off from a distance if skillfully wielded.`,tier:1});
		new G.perk({name:`flamethrower`,desc:`Careful! May set both foes and friends on fire.`,tier:2,init:{ammo:0}});
		new G.perk({name:`rocket launcher`,desc:`A dangerous weapon; excels at blowing stuff up.`,tier:3,init:{loaded:1}});
		new G.perk({name:`lasergun`,desc:`Ultra-concentrated energy shots that burn through practically anything.`,tier:3,init:{energy:1},onMove:function() { if (Math.random() < 0.1) { this.energy = Math.max(0, this.energy - 1); } }});
		new G.perk({name:`magic wand`,desc:`Casts a variety of spells upon your friends and foes.`,tier:2,init:{charges:1}});
		new G.perk({name:`ancient scepter`,desc:`Calls forth ancient beings, hexes, and curses on your adversaries.`,tier:3,init:{charges:0}});
		
		new G.perk({name:`pet wolf`,desc:`A ravenous pet wolf to devour your opponents.`,tier:3});
		new G.perk({name:`pet tiger`,desc:`A fierce pet tiger to tear your opponents to shreds.`,tier:3});
		new G.perk({name:`pet turtle`,desc:`A steady pet turtle to slowly but surely win the race.`,tier:1});
		
		new G.perk({name:`wish ring`,desc:`Will unpredictably respond to wishes in dire situations.`,tier:3});

        // Additional Pets -TW
        new G.perk({name:`pet hawk`,desc:`A cunning pet hawk to spy from the skies above.`,tier:1});
		new G.perk({name:`pet rock`,desc:`A classic pet rock to teach tons of neat tricks.`,tier:0});

        // Additional items -TW
        new G.perk({name:`cursed knife`,desc:`May force it's user into unspeakable things.`,tier:1});
		new G.perk({name:`shuriken`,desc:`Various knives designed for throwing.`,tier:0});
		new G.perk({name:`lucky coin`,desc:`Will bless the user with good fortune, if they're already lucky enough to have it.`,tier:2});
        new G.perk({name:`random orb`,desc:`Eventually will turn into something else, or cause strange things to happen.`,tier:1});
		new G.perk({name:`medicine`,desc:`Any medicine can be a poison with a large enough dose.`,tier:1});
		new G.perk({name:`first aid kit`,desc:`Extremely valuable to saving lives, if someone is still alive to be saved.`,tier:2});
		new G.perk({name:`tourniquet`,desc:`You might lose a limb, but you won't lose your life.`,tier:1});
		new G.perk({name:`AED`,desc:`Can potentially bring back someone who was thought dead.`,tier:2});
		
        // Default Armors -TW
		new G.perk({name:`leather scraps`,desc:`Tribal-looking clothing. Provides minimal protection.`,tier:0});
		new G.perk({name:`bikini`,desc:`Quite alluring, but not much help in combat situations.`,tier:0});
		new G.perk({name:`dapper suit`,desc:`Turns anyone into a snappy dresser.`,tier:1});
		new G.perk({name:`parka`,desc:`Keeps you protected from the elements and, you suppose, some of the wimpier physical attacks.`,tier:1});
		new G.perk({name:`knight armor`,desc:`Excellent physical protection, but heavy and uncomfortable.`,tier:3});
		new G.perk({name:`combat gear`,desc:`Used by military forces. Provides near-perfect protection from all but the deadliest attacks.`,tier:3});
		new G.perk({name:`wizard robe`,desc:`Can greatly amplify magic powers. Comes with a pointy hat.`,tier:2});
        
        // Additional Armors -TW
        new G.perk({name:`kevlar vest`,desc:`Can help you survive bullets, but they still hurt.`,tier:2});
        new G.perk({name:`kite shield`,desc:`A shield great for deflecting weapons and protecting others.`,tier:2});
        new G.perk({name:`riot shield`,desc:`A shield great for deflecting bullets and protecting others.`,tier:2});
        
        // Crafting Materials -TW
        new G.perk({name:`scrap metal`,desc:`A bunch of is mostly useless chunks of metal.`,tier:0});
        new G.perk({name:`gun parts`,desc:`A variety of gun parts with no manual for reassembly.`,tier:1});
        new G.perk({name:`magic dust`,desc:`Sparkles like glitter. Is twice as hard to wash away.`,tier:1});
		new G.perk({name:`roll of fabric`,desc:`Thick rolls of fabric, a literal canvas to work with.`,tier:0});

		// Consumables - CS
		new G.perk({name:`batch of cookies`,desc:`Can be consumed multiple times to rid oneself of ailments. Delicious!`,tier:1,init:{uses:2}});
		new G.perk({name:`hot chocolate`,desc:`Can be consumed multiple times to heal oneself of injuries.`,tier:2,init:{uses:2}});
		new G.perk({name:`extreme cinnamon soda`,desc:`Can be consumed to enter an invincible frenzy.`,tier:3,init:{uses:2}});
		new G.perk({name:`mint essence`,desc:`Can be consumed to gain immunity to all curses, but is rather difficult to swallow.`,tier:2});
		new G.perk({name:`vanilla ice cream`,desc:`The compellment to acquire this item is unparalleled.`,tier:1});
		new G.perk({name:`cookie dough`,desc:`Can be consumed, or be baked into a proper batch of cookies. Premature consumption may lead to sickness.`,tier:0,init:{uses:2}});
		new G.perk({name:`panacea pellet`,desc:`A highly magical pellet that cures literally everything at once - including death itself.`,tier:3});

		// Additional items - CS
		new G.perk({name:`snake charmer\'s flute`,desc:`Calls forth a snake to ascend upwards indefinitely.`,tier:2});
		new G.perk({name:`respawn anchor`,desc:`Respawn! Note: might cause deaths via [INTENTIONAL GAME DESIGN].`,tier:3});
		new G.perk({name:`freezing sapphire`,desc:`Can be thrown to freeze everyone.`,tier:0});
		new G.perk({name:`high pressure garden hose`,desc:`Good at knocking people over, not so good for killing people.`,tier:1,init:{charges:1,content:[]}});
		new G.perk({name:`topaz with a hole`,desc:`Tingly to the touch.`,tier:2});
		new G.perk({name:`topaz on a stick`,desc:`Shall lightning smite you!`,tier:3,init:{charges:0}});
		new G.perk({name:`angel in a bottle`,desc:`SUSSY AMONGUS`,tier:3,onDeath:function() { if (Math.random() < 0.75) { this.owner.gain('angel\'s revival'); } this.owner.lose(this); }});
		new G.perk({name:`nuclear bomb`,desc:`A nuke.`,tier:9});

		//dashnet games exclusive - CS
		new G.perk({name:'a really good guidebook',desc:'Contains cost-efficient recipes for all sorts of things.',tier:5});
		new G.perk({name:'pet lobster',desc:'A nice lobster to do your aquatic biddings.',tier:5});
		// hi mom! - Flo
		new G.perk({name:`<i>A cool hat</i>`,desc:'A cool hat to bring you joy.',tier:0})
		let autoCompileSetupsList = true;

		G.exportAllPerks = function() {
			let traitList = [];
			let itemList = [];
			let statusList = [];
			for (let i in G.perks) {
				const obj = { name: G.perks[i].name, desc: G.perks[i].desc };
				if (G.perks[i].type == 'trait') { traitList.push(obj); }
				else if (G.perks[i].type == 'item') { itemList.push(obj); }
				else if (G.perks[i].type == 'status') { statusList.push(obj); }
			}
			let str = 'traits/';
			for (let i in traitList) { str += '/' + traitList[i].name + ',' + traitList[i].desc; }
			str += '//items/';
			for (let i in itemList) { str += '/' + itemList[i].name + ',' + itemList[i].desc; }
			str += '//statuses/';
			for (let i in statusList) { str += '/' + statusList[i].name + ',' + statusList[i].desc; }
			console.log(str);
			return [traitList, itemList, statusList];
		}
		
		//creator
		G.setupData=0;
		G.creator=function()
		{
			G.exportSetup=function(data)
			{
				var o={
					teams:[],
					chars:[],
				};
				if (data && data!=-1)
				{
					o=data;
				}
				else
				{
					var teams=G.teams;
					for (var i in teams)
					{
						var base=teams[i];
						if (!base.teamless) { 
							base.name=l(base.l.id+'-name').value; 
							base.color=l(base.l.id+'-color').value;
							base.icon=l(base.l.id+'-teamIcon').value;
						} else { 
							base.name='NOTEAM';
							base.color='';
							base.icon='';
						}
						for (var i in base.members)
						{
							var member=base.members[i];
							member.name=l(member.l.id+'-name').value;
							member.gender=parseInt(l(member.l.id+'-gender').options[l(member.l.id+'-gender').selectedIndex].value);
							member.tier=parseInt(l(member.l.id+'-tier').options[l(member.l.id+'-tier').selectedIndex].value);
							var val=member.pic;
							if (val.length<3) member.pic='';
							var perks=[];
							var perkN=0;
							while (l(member.l.id+'-perk-'+perkN))
							{
								var el=l(member.l.id+'-perk-'+perkN);
								var perk=G.perks[el.options[el.selectedIndex].value];
								if (perk.name!='no perk' && perk.name!='no item' && (perk.type!='trait' || perks.indexOf(perk.name)==-1)) perks.push(perk.name);
								perkN++;
							}
							o.chars.push({name:member.name,g:member.gender,t:member.tier,pic:member.pic,team:member.team.name,perks:perks});
						}
						o.teams.push({name:base.name,color:base.color,icon:base.icon});
					}
				}
				if (data!=-1)
				{
					var str=`
						<header>Exporting setup</header>
						<div>Copy this text. You can later import your setup by pasting this back in the import menu.</div>
						<textarea id="textareaPrompt" style="width:100%;height:128px;" readonly>${JSON.stringify(o)}</textarea>
					`;
					G.popup(str,function(){
						l('textareaPrompt').focus();
						l('textareaPrompt').select();
					});
					
					//localStorage.setItem('murderGames',JSON.stringify(o));
				}
				else return o;
			}
			G.importSetup=function(str) {
				//meant to be called from creator screen only
				
				if (!str)
				{
					var str=`
						<header>Importing setup</header>
						<div style="overflow:hidden;"><div id="importDesc">Paste in the text you were given on setup export.</div></div>
						<textarea id="textareaPrompt" style="width:100%;height:128px;"></textarea>
					`;
					G.popup(str,function(){
						l('textareaPrompt').focus();
						l('closePopup').innerHTML='Cancel';
						l('closePopup').insertAdjacentHTML('beforebegin','<div id="confirmPopup" class="button bigButton">Load</div>');
						addEvent(l('confirmPopup'),'click',function(){
							var str=l('textareaPrompt').value;
							if ((str.length>0) && G.importSetup(str)) G.closePopup();
							else {l('importDesc').innerHTML=`<span style="color:#e2461f;">Looks like that's not a valid setup string, sorry!</span>`;triggerAnim(l('importDesc'),'pucker');}
						});
					});
				}
				else
				{
					var o={};
					try{o=JSON.parse(str);}catch(e){o=0;}
					if (!o || !o.teams || !o.chars) return false;
					//l('creator').innerHTML='';
					var nodes=l('creator').getElementsByClassName('team');
					for (var i=nodes.length-1;i>=0;i--){nodes[i].remove();}
					
					G.teams=[];
					var domN=0;
					var teams={};
					for (var i in o.teams)
					{
						teams[o.teams[i].name]={
							name:STRCLN(o.teams[i].name),
							color:STRCLN(o.teams[i].color??''),
							icon:STRCLN(o.teams[i].icon??''),
							chars:[],
						};
						//console.log(teams[o.teams[i].name]);
					}
					for (var i in o.chars)
					{
						teams[o.chars[i].team].chars.push({
							name:STRCLN(o.chars[i].name),
							gender:INTCLN(o.chars[i].g),
							tier:INTCLN(o.chars[i].t||0),
							pic:STRCLN(o.chars[i].pic),
							perks:o.chars[i].perks,
						});
					}
					var hasTeamless=false;
					for (var i in teams){if (teams[i].name=='NOTEAM') hasTeamless=true;}
					if (!hasTeamless) addTeam({name:'NOTEAM',chars:[]});
					for (var i in teams){addTeam(teams[i]);}
					for (var i in G.teams){refreshTeam(G.teams[i]);}
					return true;
				}
			}
		
			l('cornertips').innerHTML = `
				<p>Murder Games Community Mod (<span style="color: #33e0ff;">2025</span>).</p>
				<p>Murder Games made by Orteil.</p>
				<p>Modded by TrueWolves, CursedSliver, and F.l.0.</p>
				`
			l('main').innerHTML= `
			
			<div class="box blue">
				<div><cap>Hey there!</cap></div>
				<div>This is a game about pitting you and your friends against each other to see who makes it out alive.</div>
				<div>The game plays itself; you only have to click the "Next round" button to progress.</div>
				<div>Create your teams below then watch the heads roll!</div>
				<div>(Don't forget to export your setups if you want to re-use them later!)</div>
				<div style="opacity:0.5;font-size:10px;float:left;">inspired by <a href="http://brantsteele.net/hungergames/disclaimer.php" target="_blank">Hunger Games Simulator</a></div>
				<div style="opacity:0.5;font-size:10px;float:right;">-Orteil</div>
				<div style="clear:both;"></div>
			</div>
			<div class="blackbg">
			<div class="horizontal"></div>
			<div class="box red"><b>Warning :</b> may contain traces of bugs.</div>
			<div style="text-align:left;overflow:hidden;">
				<div class="button" id="importSetup">Import an existing setup...</div> 
				<div class="button" id="exportSetup">Export this setup...</div>
				<div class="button" id="saveSetup">Save this setup...</div>
				<div class="button" id="loadSetup">Load a saved setup...</div>
				<div style="float:right;">
					<div class="button" id="start2">Start round 1 &gt;</div>
				</div>
			</div>
			<header>Game Settings</header>
			<div class="box">
				<div>
				<cap>Game Speed</cap>
				<select id="gameSpeed">
					<option value="cinematic">Cinematic (0.25x)</option>
					<option value="slow">Slow (0.5x)</option>
					<option value="enjoyer">Enjoyer (0.75x)</option>
					<option value="normal" selected="selected">Normal (1x)</option>
					<option value="fast">Fast (1.5x)</option>
					<option value="faster">Faster (3x)</option>
					<option value="brr">Round go brr (5x)</option>
					<option value="instant">Instant (1000x)</option>
				</select>	
					
				</div>
				<div><cap>Initial Weather:</cap> 
					<select id="initialWeather">
						<option value="random">Random</option>
						<option value="sunny">Sunny</option>
						<option value="cloudy">Cloudy</option>
						<option value="rainy">Rainy</option>
						<option value="drought">Drought</option>
						<option value="thunder">Thunderstorm</option>
						<option value="tornado">Tornado</option>
						<option value="weird">Weird</option>
					</select>
				</div>
				<div><cap>Weather Change Frequency:</cap> 
					<select id="weatherChangeFreq">
						<option value="default">Default (per weather type)</option>
						<option value="low">Low (50% of default)</option>
						<option value="high">High (150% of default)</option>
						<option value="none">No Changes</option>
						<option value="always">Change Every Round</option>
					</select>
				</div>
				<div><cap>Natural Hostility:</cap>
					<select id="hostility">
						<option value="default">Default</option>
						<option value="peace">Peaceful (0% of default)</option>
						<option value="vlow">Very Low (20% of default)</option>
						<option value="low">Low (50% of default)</option>
						<option value="high">High (150% of default)</option>
						<option value="vhigh">Very High (200% of default)</option>
						<option value="death">I want my friends to die. (Just for fun)</option>
					</select>
				</div>
			</div>
			<header>Teams</header>
			<div id="creator"></div>
			<div style="text-align:left;"><div class="button" id="addTeam">Add team</div></div>
			<header><div class="button bigButton" id="start" style="background-image:url(assets/ui/stonetabletcracked.png);height:31px;width:63px;">Start!</div></header>
			</div>
			<div class="horizontal"></div>
			`;

			addEvent(l('addTeam'),'click',function(){addTeam();});
			addEvent(l('start'),'click',function(){G.start();});
			addEvent(l('start2'),'click',function(){G.start();});
			addEvent(l('importSetup'),'click',function(){G.importSetup();});
			addEvent(l('exportSetup'),'click',function(){G.exportSetup();}); 
			G.teams=[];
			var domN=0;
			Sortable.create(l('creator'),{group:'teams',ghostClass:'dragGhost',handle:'.handle',onEnd:function(e){
				var el=e.item;
				var me=0;
				for (var i in G.teams)
				{
					var it=G.teams[i];
					if (it.l==el) {me=it;break;}
				}
				G.teams.splice(G.teams.indexOf(me),1);
				G.teams.splice(e.newIndex,0,me);
			}});
			
			var randTeamNames=[`Gazelle`,`Mammoth`,`Phoenix`,`Wolf`,`Tiger`,`Bear`,`Polar bear`,`Viper`,`Cobra`,`Owl`,`Jaguar`,`Lion`,`Spider`,`Scorpion`,`Beetle`,`Wasp`,`Mantis`,`Mongoose`,`T-rex`,`Dragon`,`Gorilla`,`Panda`,`Zebra`,`Unicorn`,`Howler monkey`,`Fox`,`Bunny`,`Falcon`,`Yeti`,`Ox`,`Boar`,`Gryphon`,`Rhino`,`Shark`,`Dolphin`,`Whale`,`Salmon`,`Lobster`,`Hydra`,`Anomalocaris`,`Trilobite`,`Weasel`,`Frog`,`Toad`,`Tortoise`,`Gecko`,`Salamander`,`Lynx`,`Pelican`,`Kitten`,`Puppy`,];
			for (var i in randTeamNames){randTeamNames[i]=`Team `+randTeamNames[i];}
			
			var randNamesM=[`Alastor`,`Bort`,`Champ`,`Dennis`,`Emett`,`Frank`,`Gordon`,`Henry`,`Isaac`,`Jeff`,`Ken`,`Lance`,`Maurice`,`Nathan`,`Oliver`,`Pete`,`Quentin`,`Rafael`,`Sam`,`Todd`,`Umberto`,`Vince`,`Will`,`Xavier`,`Yann`,`Zach`];
			var randNamesF=[`Adeline`,`Bonnie`,`Cecilia`,`Dania`,`Eleanor`,`Fran`,`Gertrude`,`Hazel`,`Ingrid`,`Jen`,`Klara`,`Linda`,`Maud`,`Odile`,`Phyllis`,`Quinn`,`Rose`,`Sophia`,`Tabitha`,`Undine`,`Vanilla`,`Wanda`,`Xia`,`Yasmin`,`Zoe`];
			
			let addTeam=function(o)
			{
				//get random name (prevent duplicates)
				var o=o||{};
				var name='';
				if (o.name) name=o.name;
				else
				{
					var freeNames=randTeamNames.slice(0);
					for (var i in G.teams){if (freeNames.indexOf(G.teams[i].name)!=-1) freeNames.splice(freeNames.indexOf(G.teams[i].name),1);}
					if (freeNames.length==0) freeNames.push('Team Extra');
					//var name='Team #'+(G.teams.length+1);
					name=c(freeNames);
				}
				let team={name:name,members:[],l:0,id:domN,color:o.color??'',icon:o.icon??''};
				if (name=='NOTEAM') team.teamless=true;
				l('creator').insertAdjacentHTML('beforeEnd','<div class="team hasHandle" id="dom'+domN+'"></div>');
				team.l=l('dom'+domN);
				if (!team.teamless)
				{
					team.l.innerHTML=`
						<div class="button" style="float:right;" id="${team.l.id+'-delete'}" title="Delete this team">X</div>
						<div class="handle"></div>
						<div><cap>Team name :</cap> <input type="text" id="${team.l.id+'-name'}" value="${team.name}"/>    <cap>color :</cap> <input type="text" style="width: 60px;" id="${team.l.id+'-color'}" value="${team.color}"/>    <cap>team icon URL :</cap> <input type="text" id="${team.l.id+'-teamIcon'}" value="${team.icon}"/></div>
						<div><cap id="${team.l.id+'-membersN'}"></cap></div>
						<div id="${team.l.id+'-members'}" class="membersList"></div>
						<div><div class="button" id="${team.l.id+'-addChar'}">Add member</div></div>
					`;
					addEvent(l(team.l.id+'-delete'),'click',function(){
						G.teams.splice(G.teams.indexOf(team),1);
						animRemove(team.l);
					});
				}
				else
				{
					team.l.classList.add('teamless');
					team.l.innerHTML=`
						<div class="handle"></div>
						<div><cap>Unaffiliated</cap><span style="font-size:10px;vertical-align:middle;"> - people put in this box do not belong to any team.</span></div>
						<div id="${team.l.id+'-members'}" class="membersList"></div>
						<div><div class="button" id="${team.l.id+'-addChar'}">Add person</div></div>
					`;
				}
				addEvent(l(team.l.id+'-addChar'),'click',function(){addChar(team);});
				
				Sortable.create(l(team.l.id+'-members'),{group:'chars',ghostClass:'dragGhost',handle:'.handle',onEnd:function(e){
					//find the char we just moved and the team we moved it to and update its team
					var el=e.item;
					var toEl=e.to.closest('.team');
					var me=0;
					for (var i in team.members)
					{
						var it=team.members[i];
						if (it.l==el) {me=it;break;}
					}
					var newTeam=0;
					for (var i in G.teams)
					{
						var it=G.teams[i];
						if (it.l==toEl) {newTeam=it;break;}
					}
					if (me && newTeam)
					{
						if (me.team)
						{
							me.team.members.splice(me.team.members.indexOf(me),1);
							refreshTeam(me.team);
						}
						me.team=newTeam;
						me.team.members.splice(e.newIndex,0,me);
						refreshTeam(me.team);
					}
				}});
				
				domN++;
				G.teams.push(team);
				if (!o.chars)
				{
					addChar(team);
					addChar(team);
				}
				else
				{
					for (var i in o.chars)
					{
						addChar(team,o.chars[i]);
					}
				}
				refreshTeam(team);
				animAdd(team.l);
				return team;
			}
			let refreshTeam=function(team)
			{
				if (team.teamless)
				{
				}
				else
				{
					if (team.members.length==0) str='No members';
					else if (team.members.length==1) str='1 member :';
					else str=team.members.length+' members :';
					l(team.l.id+'-membersN').innerHTML=str;
				}
			}
			let genderList = {
				0: 'he',
				1: 'she',
				2: 'they',
				3: 'it',
				//4: 'ze'
			};
			let getGenderList = function(g) {
				let str = '';
				for (let i in genderList) {
					str += `<option value="${i}"${g==parseInt(i)?' selected="selected"':''}>${genderList[i]}</option>`;
				}
				return str;
			}
			let addChar=function(team,o)
			{
				var o=o||{};
				var gender=(typeof o.gender !== 'undefined')?o.gender:c([0,0,0,1,1,1,2]);
				var tier=(typeof o.tier !== 'undefined')?o.tier:0;
				var name='';
				if (o.name) name=o.name;
				else
				{
					var freeNames=(gender==0?(randNamesM.slice(0)):gender==1?(randNamesF.slice(0)):(randNamesM.slice(0).concat(randNamesF.slice(0))));
					for (var i in G.teams){for (var ii in G.teams[i].members){if (freeNames.indexOf(G.teams[i].members[ii].name)!=-1) freeNames.splice(freeNames.indexOf(G.teams[i].members[ii].name),1);}}
					if (freeNames.length==0) freeNames.push('Nobody');
					name=c(freeNames);
				}
				
				let char={team:team,name:name,pic:o.pic||'https://orteil.dashnet.org/murdergames/defPic.jpg',gender:gender,tier:tier,perks:[],l:0,id:domN};
				l(team.l.id+'-members').insertAdjacentHTML('beforeend','<div class="char hasHandle" id="dom'+domN+'"></div>');
				char.l=l('dom'+domN);
				
				var traitsStr='';
				var itemsStr='';
				
				var traits=[];
				var traitsList=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type=='trait') traitsList.push(me);
				}
				var items=[];
				var itemsList=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type=='item') itemsList.push(me);
				}
				
				var minTraits=3;
				var minItems=3;
				
				if (!o.perks)
				{
					for (var i=0;i<minTraits;i++)
					{
						traits.push(c(traitsList));
					}
					for (var i=0;i<minItems;i++)
					{
						items.push(c(itemsList));
					}
				}
				
				if (o.perks)
				{
					for (var i in o.perks)
					{
						var perk=G.perksBN[o.perks[i]];
						//console.log(o.perks[i]);
						if (perk.def && perk.type=='trait') traits.push(perk);
						else if (perk.def && perk.type=='item') items.push(perk);
					}
				}
				while (traits.length<minTraits)
				{
					traits.push(G.perksBN['no perk']);
				}
				while (items.length<minItems)
				{
					items.push(G.perksBN['no item']);
				}
				
				var n=0;
				for (var i=0;i<traits.length;i++)
				{
					traitsStr+=`${perkSelector('trait',char.l.id+'-perk-'+n,traits[i])} `;
					n++;
				}
				for (var i=0;i<items.length;i++)
				{
					itemsStr+=`${perkSelector('item',char.l.id+'-perk-'+n,items[i])} `;
					n++;
				}
				
				char.l.innerHTML=`
					<div class="button" style="float:right;" id="${char.l.id+'-delete'}" title="Delete this person">X</div>

					<div class="handle"></div>
					<div class="picBox"><img src="${char.pic||'defPic.jpg'}" id="${char.l.id+'-pic'}" class="pic"/></div>
					Name : <input type="text" size="14" id="${char.l.id+'-name'}" value="${char.name}"/> 
					<select id="${char.l.id+'-gender'}">${getGenderList(char.gender)}</select> 
					<select id="${char.l.id+'-tier'}"><option title="Character acts every round." value="0"${char.tier==0?' selected="selected"':''}>main</option><option title="Character only acts every now and then." value="1"${char.tier==1?' selected="selected"':''}>minor</option></select> 
					Pic URL : <input type="text" size="24" id="${char.l.id+'-picUrl'}" value="${char.pic}"/> 
					<br>
					Perks : ${traitsStr} Item : ${itemsStr} 
				`;
				addEvent(l(char.l.id+'-delete'),'click',function(){
					team.members.splice(team.members.indexOf(char),1);
					animRemove(char.l);
					refreshTeam(team);
				});
				addEvent(l(char.l.id+'-picUrl'),'input',function(){
					var val=l(char.l.id+'-picUrl').value;
					if (val.length<3) val='defPic.jpg';
					l(char.l.id+'-pic').src=val;
					char.pic=val;
				});
				//addEvent(l(char.l.id+'-pic'),'dragstart',function(e){e.preventDefault();});
				
				domN++;
				team.members.push(char);
				animAdd(char.l);
				refreshTeam(team);
				return char;
			}
			
			var perkSelector=function(type,id,def)
			{
				var str='';
				var perks=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type==type) perks.push(me);
				}
				var selected=def||c(perks);
				for (var i in perks)
				{
					var me=perks[i];
					str+=`<option value="${me.id}" title="${me.desc}"${me==selected?' selected="selected"':''}>${me.name}</option>`;
				}
				return '<select id="'+id+'">'+str+'</select>';
			}
			
			var team=addTeam({name:'NOTEAM',chars:[]});
			var team=addTeam();
			var team=addTeam();
			
			if (G.setupData) G.importSetup(JSON.stringify(G.setupData));
		}
		
		// Weather code   ***  ***               *******    **** 
		// By Flo       *** ***** ***          ***** **** ** *****
		//                **********     \|/    * * **** **** ***
		//  Check out      ***** **      -O-     ****** ***** ***
		//    The art ->  `  `  ` `      /|\      `   `  *******
		//                  ` ``  `                 `` `     \\ `  ` 
		// DOCUMENTATION      `  `  `  `           `  `   ` ` \\   `
		// Weather -> Options   `     `              `   ` `  //
		//                   ` `  ``   `               `  `  // `` ` 
		// Sunny -> Sunny, Rainy, Cloudy, Drought, Weird   ` \\  `
		// Cloudy -> Cloudy, Rainy, Sunny, Weird        `    // `  `
		// Rainy -> Rainy, Cloudy, Thunder, Tornado, Weird   \|  `
 		// Drought -> Drought, Sunny, Thunder, Weird          \ `
		// Thunder -> Thunder, Rainy, Tornado, Sunny, Weird   /
		// Tornado -> Rainy, Thunder, Cloudy, Sunny, Weird    |
		// Weird -> Sunny, Cloudy, Rainy, Drought, Thunder, Tornado, Weird
		// Ctrl+F: weather code

		const weatherStates = {
				"sunny": {
					"chance":0.2, // Chance to change weather each round, while sunny
					"possibilities": { // These are thresholds, in ascending order, and should ALWAYS add to 1.
						"sunny": 0.2, // 20% Chance
						"rainy": 0.5, // 30% Chance
						"cloudy": 0.9, // 45% Chance
						"drought": 0.99, // 9% chance
						"weird": 1  // 1% 
					},
					"col": "red",
					"icon": "https://flowiz.moe/mashwet/sunny_icon.png"
				},
				"cloudy": {
					"chance":0.4, 
					"possibilities": {
						"cloudy": 0.2, // 20%
						"rainy": 0.6, // 40%
						"sunny": 0.99, // 39% 
						"weird:": 1 // 1% 
					},
					"col":"blue",
					"icon":"https://flowiz.moe/mashwet/cloudy_icon.png"
				
				},
				"rainy": {
					"chance":0.3,
					"possibilities": {
						"rainy": 0.3, // 30%
						"cloudy": 0.7, // 40%
						"thunder": 0.9, // 20%
						"tornado": 0.99, // 9%
						"weird": 1 // 1%
					},
					"col":"blue",
					"icon":"/assets/weather/rain.gif"
				},
				"drought":{
					"chance": 0.2,
					"possibilities":{
						"drought": 0.4, //40%
						"sunny": 0.8, // 40$
						"thunder": 0.99, // 19%
						"weird": 1
					},
					"col": "red",
					"icon": "/assets/weather/drought.gif"
				},
				"thunder":{
					"chance": 0.4,
					"possibilities":{
						"thunder": 0.4, // 40%
						"rainy": 0.7, // 30%
						"tornado": 0.8, // 10%
						"sunny": 0.99, // 19%
						"weird": 1
					},
					"col":"blue",
					"icon":"/assets/weather/lightning.gif"		
				},
				"tornado":{
					"chance": 0.5,
					"possibilities":{
						"rainy": 0.3,
						"thunder": 0.6,
						"cloudy": 0.9,
						"sunny": 0.99, 
						"weird": 1
					},
					"col":"blue",
					"icon":"/assets/weather/toenado.gif" // haha orteil reference
				},// Weird -> Sunny, Cloudy, Rainy, Drought, Thunder, Tornado, Weird
				"weird":{
					"chance": 0.5,
					"possibilities":{
						"sunny": 0.17,
						"cloudy": 0.33,
						"rainy": 0.49,
						"drought": 0.65,
						"thunder": 0.82,
						"tornado": 0.98,
						"weird":1
					},
					"col":"green",
					"icon":"/assets/weather/weird.gif"
				}
			}

		const weather_transitions = {
				sunny: {
					sunny: [
						"The sun continues to beat down mercilessly on the arena.",
						"Another day of relentless sunshine bakes the landscape.",
						"The golden sun hangs high in a cloudless sky.",
						"Heat shimmers in the air as the sun blazes overhead.",
						"Not a single cloud dares to block the sun's harsh glare.",
						"The scorching sun turns the ground into a frying pan.",
						"Sunlight reflects blindingly off every surface.",
						"The air is still and heavy with heat.",
						"Shadows shrink as the sun climbs to its peak.",
						"The unrelenting sun drains energy from all beneath it.",
						"Cracks form in dry soil under the sun's relentless gaze.",
						"The arena becomes an oven under the midday sun.",
						"Even the wind seems to avoid the sun's burning touch.",
						"The sun's rays feel like physical weights pressing down.",
						"The horizon wavers in the heat like a mirage.",
						"Sun-bleached bones serve as reminders of the heat's danger.",
						"The air smells of baked earth and dry grass.",
						"Birds fall silent during the sun's most brutal hours.",
						"Metal surfaces become too hot to touch.",
        			],
					cloudy: [
						"Wispy clouds drift in, offering brief respite from the sun.",
						"The sky darkens slightly as clouds roll in.",
						"The sun disappears behind a thickening blanket of clouds.",
						"A cool breeze picks up as the sky becomes overcast.",
						"The oppressive heat lessens as clouds shield the arena.",
						"High clouds diffuse the sunlight into a dull glow.",
						"The sun struggles to pierce through the growing cloud cover.",
						"Clouds creep across the sky like a slow-moving tide.",
						"The temperature drops noticeably as clouds gather.",
						"The sun's intensity fades behind a veil of gray.",
						"Clouds form strange shapes as they block the sun's rays.",
						"A bank of clouds rolls in from the distance.",
						"The once-bright sky now looks like frosted glass.",
						"The clouds seem to swallow the sun whole.",
						"Sunbeams spotlight random patches of ground before vanishing.",
						"The air feels thicker as clouds trap humidity below.",
						"Cloud shadows race across the landscape.",
						"The change comes suddenly - one moment sun, next moment clouds.",
						"A milky haze fills the sky where blue once dominated.",
						"The clouds don't promise rain, just temporary shade.",
					],
					rainy: [
						"Dark clouds gather, and soon, rain begins to fall.",
						"A sudden downpour drenches the arena, cooling the air.",
						"The sun vanishes behind storm clouds, and rain pours down.",
						"Thunder rumbles in the distance before the rain arrives.",
						"The dry earth eagerly soaks up the falling rain.",
						"The first fat raindrops sizzle as they hit sun-baked stones.",
						"A curtain of rain sweeps across the arid landscape.",
						"The scent of petrichor rises as rain hits parched soil.",
						"Within minutes, the sunny day transforms into a rainstorm.",
						"The rain comes so hard it bounces back up from the ground.",
						"Steam rises where cold rain meets sun-heated rocks.",
						"The rain falls in sheets, obscuring vision beyond a few feet.",
						"What began as a drizzle quickly becomes a deluge.",
						"The rain's rhythm creates a hypnotic pounding on leaves and earth.",
						"Animals scramble for cover as the sudden storm arrives.",
						"The rain washes away days of accumulated dust and heat.",
						"Puddles form almost instantly on the unprepared ground.",
						"The temperature plummets as cold rain replaces baking sun.",
						"Raindrops glitter like diamonds in the last rays of sunlight.",
						"The storm arrives with no warning, dousing everything in seconds.",
					],
					drought: [
						"The air grows even drier as the sun scorches the land.",
						"The heat intensifies, cracking the earth beneath their feet.",
						"No rain has fallen for daysthe land is parched.",
						"The sun burns hotter, evaporating what little moisture remains.",
						"Plants wilt as the drought tightens its grip.",
						"Every breath feels like inhaling from a furnace.",
						"The ground crunches like broken pottery underfoot.",
						"Even the hardiest plants curl their leaves against the dryness.",
						"The wind carries dust instead of relief.",
						"Water sources shrink daily under the unrelenting sun.",
						"The air crackles with static from the pervasive dryness.",
						"Morning dew becomes a thing of memory rather than reality.",
						"Animal tracks in dried mud show their desperate search for water.",
						"The drought turns vibrant greens to dull, lifeless browns.",
						"Food becomes scarce as plants stop producing fruits.",
						"The sun seems larger, closer, more oppressive each day.",
						"Skin cracks and lips chap without moisture in the air.",
						"Shadows offer no real relief from the baking heat.",
						"The horizon shimmers with heat distortions constantly.",
						"Birds abandon nests as water sources vanish entirely.",
					],
					thunder: [
						"Dark clouds roll in, and lightning splits the sky.",
						"A booming thunderclap announces the coming storm.",
						"The sunny sky turns violent as thunder shakes the ground.",
						"Lightning flickers in the distance before the storm hits.",
						"The calm before the storm ends with a deafening crack of thunder.",
						"The temperature drops sharply as thunderheads blot out the sun.",
						"A sudden wind kicks up dust before the first lightning strike.",
						"The storm approaches with visible sheets of rain in the distance.",
						"Clouds darken to an ominous purple-black hue.",
						"Distant thunder sounds like boulders tumbling down mountains.",
						"The first lightning bolt connects earth and sky with a blinding flash.",
						"Static electricity makes hair stand on end before the storm hits.",
						"The wind shifts abruptly as the thunderstorm moves in.",
						"Lightning forks across the sky in spectacular displays.",
						"The once-clear sky now churns with angry clouds.",
						"Thunder echoes off hills and valleys, magnifying its power.",
						"The storm's leading edge arrives with a wall of cold air.",
						"Birds flee en masse before the electrical storm arrives.",
						"The sunny day becomes a memory as the tempest takes over.",
						"Lightning strikes so close the ozone smell is immediate.",
					],
					tornado: [
						"The wind howls as dark, twisting clouds form on the horizon.",
						"A sudden drop in pressure signals a coming tornado.",
						"The sky turns an eerie green as a funnel cloud forms.",
						"Debris swirls in the air as a tornado touches down.",
						"The peaceful sunny day is shattered by a roaring twister.",
						"The temperature plummets seconds before the tornado forms.",
						"A wall cloud rotates ominously before the funnel descends.",
						"The tornado appears with little warning, a monster of wind.",
						"What was sunshine becomes a nightmare of swirling destruction.",
						"The twister's path becomes clear as it devours everything in its way.",
						"The sun disappears behind the tornado's massive funnel.",
						"The sound builds from a rumble to a deafening freight train roar.",
						"Grass lies flat in spiral patterns as the tornado approaches.",
						"The funnel dances erratically across the landscape.",
						"Lightning illuminates the tornado's terrifying structure.",
						"The pressure change makes ears pop painfully.",
						"The tornado sucks up dust and debris, turning black with rubble.",
						"Smaller whirlwinds spin off from the main funnel unpredictably.",
						"The twister's winds tear at everything with unimaginable force.",
						"Survival depends on finding shelter from the sudden vortex.",
					],
					weird: [
						"The sun flickers like a dying lightbulb before stabilizing.",
						"The sky turns purple for a moment before returning to normal.",
						"A strange mist rolls in, despite the clear sky.",
						"The air hums with an unnatural energy.",
						"The laws of physics seem to bend for a brief moment.",
						"The sun pulses oddly, growing dimmer then brighter rhythmically.",
						"Shadows stretch in wrong directions for a few unsettling minutes.",
						"The horizon appears to curve upward at the edges briefly.",
						"Gravity feels lighter, then heavier, then normal again.",
						"A second sun appears in the sky for a few heartbeats.",
						"The sunlight takes on a metallic sheen for no discernible reason.",
						"Time seems to stuttera bird's wings freeze mid-flap then continue.",
						"The air tastes like pennies and static electricity.",
						"The sun's rays feel cold instead of warm for several minutes.",
						"Everything appears slightly blurred, like a bad photograph.",
						"A low-frequency vibration makes teeth ache before vanishing.",
						"The wind blows in perfect geometric patterns across the ground.",
						"All sounds become muffled as if underwater for a brief period.",
						"The sun divides into a double image before merging back.",
						"For one terrifying moment, the sun appears to be growing larger.",
					]
				},
				cloudy: {
					cloudy: [
						"The sky remains a dull, featureless gray.",
						"A thick layer of clouds blocks out direct sunlight.",
						"The overcast sky makes it hard to tell the time of day.",
						"The air is cool and still under the blanket of clouds.",
						"The clouds shift slowly but refuse to part.",
						"A monotonous gray ceiling stretches from horizon to horizon.",
						"The clouds hang low, almost feeling within reach.",
						"Diffuse light filters through the cloud cover evenly.",
						"The cloud layer seems to mute all colors in the landscape.",
						"Occasional breaks in the clouds tease sunlight that never comes.",
						"The clouds move like a slow-motion river across the sky.",
						"A persistent haze blurs the line between sky and land.",
						"The cloud cover acts like nature's dimmer switch.",
						"The overcast conditions create an eternal twilight feeling.",
						"Clouds cling to the landscape like a damp woolen blanket.",
						"The grayness overhead seems to absorb all sound.",
						"The clouds form an unbroken dome over the arena.",
						"Mist mingles with the low-hanging cloud cover.",
						"The clouds appear heavy with moisture yet release nothing.",
						"The overcast sky creates a somber, muted atmosphere.",
					],
					sunny: [
						"The clouds break, and sunlight floods the arena.",
						"A warm breeze scatters the clouds, revealing blue sky.",
						"The overcast sky clears, bringing back the sun's heat.",
						"Sunlight pierces through, burning away the last of the clouds.",
						"The gray gloom lifts, replaced by golden rays.",
						"Like curtains opening, the clouds part to reveal brilliant sunshine.",
						"The cloud cover fractures, allowing beams of sunlight through.",
						"The overcast blanket dissolves into scattered puffs of white.",
						"Blue sky emerges victorious in its battle against the clouds.",
						"The clouds retreat as if frightened by the returning sun.",
						"Sunbeams stab through remaining cloud gaps like spotlights.",
						"The temperature rises noticeably as the sun dominates again.",
						"What was gray becomes gold as the sun reclaims the sky.",
						"The clouds evaporate under the sun's relentless assault.",
						"Shadows suddenly reappear as direct sunlight returns.",
						"The arena brightens as if someone turned up a dimmer switch.",
						"Cloud remnants flee to the horizon, chased by sunlight.",
						"The air feels instantly drier as the sun burns through moisture.",
						"Colors seem more vibrant after their time under gray skies.",
						"The transition from cloudy to sunny happens almost abruptly.",
					],
					rainy: [
						"The clouds darken, and soon, rain begins to fall.",
						"A steady drizzle turns into a proper downpour.",
						"The humidity builds until rain finally breaks through.",
						"Thunder rumbles, and the clouds release their burden.",
						"The air smells of ozone before the rain arrives.",
						"The clouds sink lower until they begin shedding rain.",
						"What was mist becomes rain as the clouds condense further.",
						"The first cold drops surprise those beneath the gray sky.",
						"The clouds finally fulfill their promise of precipitation.",
						"Rain falls in straight sheets from the uniform gray above.",
						"The overcast sky transitions seamlessly into rainfall.",
						"The temperature drops further as the rain begins in earnest.",
						"The clouds transform from passive observers to active participants.",
						"A curtain of rain descends with no fanfare or warning.",
						"The rain starts softly but gains conviction quickly.",
						"The arena becomes a study in gray and silver as rain falls.",
						"Puddles form quickly on ground already softened by humidity.",
						"The rain arrives not with violence but with quiet determination.",
						"Clouds that merely threatened now deliver on their promise.",
						"The transition from cloudy to rainy feels inevitable.",
					],
					drought: [
						"The clouds dissipate without shedding a single drop.",
						"The overcast sky thins until no moisture remains.",
						"What might have been rain instead evaporates in dry air.",
						"The clouds burn away, leaving only parched earth behind.",
						"The gray sky fades to a harsh, cloudless blue.",
						"The promised rain never comes as clouds vanish completely.",
						"The air grows drier as the cloud cover disappears.",
						"Clouds retreat, taking all humidity with them.",
						"The overcast conditions give way to baking dryness.",
						"The clouds seem to be sucked away by thirsty atmosphere.",
						"Not a drop falls as the sky clears to a waterless state.",
						"The land's thirst goes unquenched as clouds disperse.",
						"The gray blanket unravels into nothingness, bringing no relief.",
						"Clouds that might have brought rain instead abandon the arena.",
						"The air cracks with dryness as the last clouds vanish.",
						"The transition from cloudy to drought happens silently.",
						"All moisture is pulled from the air as clouds disappear.",
						"The earth sighs as potential rain turns to dust instead.",
						"The sky's gray pallor fades to a harsh, arid clarity.",
						"Clouds that promised relief instead deliver only absence.",
					],
					thunder: [
						"The clouds grow darker, and lightning flickers within them.",
						"A deep rumble shakes the ground as the storm intensifies.",
						"The overcast sky erupts with sudden lightning strikes.",
						"The calm clouds give way to a violent thunderstorm.",
						"A flash of light precedes a deafening thunderclap.",
						"The gray ceiling overhead becomes a lightning-charged menace.",
						"Clouds that were passive suddenly crackle with energy.",
						"The first lightning bolt turns the gray sky electric blue.",
						"The overcast conditions become a stage for nature's light show.",
						"Thunder echoes between clouds that moments ago were silent.",
						"The clouds convulse as the thunderstorm takes hold.",
						"What was uniform gray becomes a patchwork of light and dark.",
						"The air smells charged as the clouds unleash their power.",
						"The transition from cloudy to thunderous happens explosively.",
						"The clouds lower themselves like a ceiling before the storm.",
						"Distant thunder grows closer until it's directly overhead.",
						"The clouds organize themselves into proper storm formations.",
						"Lightning forks between cloud layers in spectacular displays.",
						"The gray monotony breaks into chaotic electrical activity.",
						"The clouds seem to gather their strength before the thunder begins.",
					],
					tornado: [
						"The wind begins to rotate as the clouds lower ominously.",
						"A funnel cloud forms amid the uniform grayness above.",
						"The overcast sky develops an eerie, greenish tint.",
						"What were mere clouds now spin with deadly purpose.",
						"The clouds organize into a rotating mass of destruction.",
						"The gray ceiling overhead begins swirling in a circular pattern.",
						"A finger of cloud reaches down from the overcast sky.",
						"The clouds seem to be sucked downward into a growing vortex.",
						"The wind shifts abruptly as rotation begins in the cloud layer.",
						"The overcast conditions become the birthplace of a twister.",
						"Clouds that were featureless now form a terrifying spiral.",
						"The air pressure drops suddenly as the tornado forms.",
						"The gray sky transforms into a churning mass of rotation.",
						"A dark point forms in the clouds, extending earthward.",
						"The clouds appear to be boiling before the funnel descends.",
						"The transition from cloudy to tornadic happens terrifyingly fast.",
						"The cloud base lowers dramatically as rotation increases.",
						"What was passive overcast becomes an active threat.",
						"The clouds seem to be tearing themselves apart to form the funnel.",
						"A continuous roar builds as the tornado touches down.",
					],
					weird: [
						"The clouds twist into unnatural shapes before reforming.",
						"A strange, glowing fog rolls in from nowhere.",
						"The wind changes direction suddenly, defying logic.",
						"The clouds pulse with an eerie, bioluminescent light.",
						"For a moment, the sky seems to invert colors.",
						"The clouds begin moving in perfect geometric patterns.",
						"The overcast sky develops impossible fractal formations.",
						"The clouds separate into distinct, equally-sized puffs.",
						"The grayness overhead starts shimmering like liquid metal.",
						"The cloud layer undulates as if breathing.",
						"The clouds freeze in place despite strong winds at ground level.",
						"The overcast sky begins rotating slowly like a giant wheel.",
						"The clouds start glowing faintly from within.",
						"The cloud cover develops strange, vein-like patterns.",
						"The sky appears to be a painted backdrop for several minutes.",
						"The clouds begin dripping upward instead of raining downward.",
						"The overcast conditions amplify sounds strangely.",
						"The clouds form shapes that seem almost recognizable.",
						"The gray sky ripples like a flag in an unfelt wind.",
						"The cloud layer separates into perfect concentric circles.",
					],
				},  
				rainy: {
					rainy: [
						"The rain keeps falling in a steady rhythm.",
						"Puddles grow larger as the downpour continues.",
						"The sound of rain on leaves fills the air.",
						"Mud forms underfoot as the rain persists.",
						"Visibility drops as the rain thickens.",
						"Raindrops dance on every surface in endless patterns.",
						"The constant rainfall creates a silver veil over the arena.",
						"Rivulets of water carve tiny canyons in the soft earth.",
						"The rain's tempo varies from drizzle to deluge and back.",
						"Everything becomes slick and shiny under the perpetual rain.",
						"The world seems reduced to shades of gray and wet.",
						"Animals huddle wherever they can find minimal shelter.",
						"The rain falls straight down in perfect parallel lines.",
						"Each surface reacts differently to the endless bombardment of drops.",
						"The rain becomes a white noise that drowns out all other sounds.",
						"What began as refreshing now feels oppressive in its constancy.",
						"The rain transforms the arena into a watercolor painting.",
						"There's no beginning or end to the rainfall - just eternal wetness.",
						"The rain seems to isolate each person in their own watery world.",
						"Time becomes meaningless under the unchanging rainy sky.",
					],
					sunny: [
						"The clouds part, and sunlight dries the soaked earth.",
						"The rain stops, and steam rises from the warm ground.",
						"A rainbow forms as the storm gives way to sunshine.",
						"The last raindrops fall before the sun returns.",
						"The oppressive humidity lingers even as the sun comes out.",
						"Like a curtain lifting, the rain ceases and sunlight bursts forth.",
						"The rain evaporates mid-air in the sudden return of heat.",
						"Golden light breaks through, turning every raindrop into a prism.",
						"The clouds retreat grudgingly before the sun's advance.",
						"The arena sparkles as sunlight catches on a million water droplets.",
						"The transition from rain to sun happens almost violently fast.",
						"Steam rises from rocks as the sun bakes away the moisture.",
						"The rain's absence feels as sudden as its arrival had been.",
						"Colors return to the world as the gray veil of rain dissipates.",
						"The sun's warmth is almost shocking after the cool rain.",
						"Puddles shrink visibly under the sun's renewed assault.",
						"The last remnants of the storm flee to the horizon.",
						"Light returns to the arena as if someone flipped a switch.",
						"The air fills with the earthy scent of petrichor in sunlight.",
						"What was gloomy becomes glorious in the sun's reappearance.",
					],
					cloudy: [
						"The rain stops, but the sky remains heavy with clouds.",
						"The downpour lessens to a drizzle, then stops entirely.",
						"The storm passes, leaving behind a damp, gray sky.",
						"The rain ceases, but the air remains thick with moisture.",
						"Only a few stray drops fall now as the clouds thin.",
						"The rainfall tapers off, leaving everything wet but no longer getting wetter.",
						"The angry storm clouds mellow into passive overcast.",
						"The rain exhausts itself, leaving only the memory of moisture.",
						"The deluge ends, but the clouds linger as if deciding what to do next.",
						"The transition from rain to cloudy is seamless and subtle.",
						"The storm's energy dissipates, leaving only gray stillness.",
						"The rain stops so gradually no one notices at first.",
						"The clouds remain, but their burden of water is spent.",
						"The rainfall ends, leaving the world in a damp pause.",
						"The storm's fury gives way to calm overcast conditions.",
						"The clouds lighten from stormy black to mere gray.",
						"The rain leaves as quietly as it arrived, without fanfare.",
						"The wetness persists even as the falling water ceases.",
						"The clouds seem to rest after their watery exertion.",
						"The arena exists in a damp limbo between storms.",
					],
					drought: [
						"The rain stops abruptly, and the air becomes bone-dry.",
						"All moisture is sucked from the air as if by magic.",
						"The wet ground steams and then cracks under sudden heat.",
						"The storm clouds evaporate into nothingness.",
						"The rain ceases mid-fall, leaving only parched air.",
						"What was a downpour becomes a memory in seconds.",
						"The humidity vanishes as if someone opened a giant oven door.",
						"Puddles disappear unnaturally fast under the sudden drought.",
						"The rain is replaced by a heat that burns away all moisture.",
						"The transition from soaked to arid happens shockingly fast.",
						"The clouds don't just part - they disintegrate into dry air.",
						"The last raindrops evaporate before hitting the ground.",
						"The storm's end brings not relief but oppressive dryness.",
						"The air becomes so dry it hurts to breathe almost immediately.",
						"The land goes from flooded to cracked in mere hours.",
						"The rain stops, and the sun bakes everything into hardness.",
						"What was waterlogged becomes dust almost overnight.",
						"The weather swings violently from one extreme to another.",
						"The storm leaves no trace except in memories and mud cracks.",
						"The arena transforms from swamp to desert in an eyeblink.",
					],
					thunder: [
						"The rain intensifies, and lightning splits the sky.",
						"A deep thunderclap shakes the ground as the storm worsens.",
						"The downpour turns violent as thunder booms overhead.",
						"The rain becomes torrential as the thunderstorm hits.",
						"Lightning strikes nearby, illuminating the rain-soaked arena.",
						"The steady rain evolves into a full electrical storm.",
						"The rainfall becomes secondary to the lightning show above.",
						"Thunder shakes the ground hard enough to ripple puddles.",
						"The storm redoubles its efforts with added lightning.",
						"The rain goes from background noise to center stage.",
						"The transition from rain to thunderstorm is abrupt and loud.",
						"Lightning turns the falling rain into momentary silver threads.",
						"The storm seems to gather its strength for a new assault.",
						"The rain becomes just one element of a larger tempest.",
						"Thunder echoes off the wet surfaces, amplifying its power.",
						"The rainfall becomes chaotic rather than rhythmic.",
						"Lightning flashes make the raindrops glow like fireflies.",
						"The storm graduates from wet to electrifying.",
						"The rain seems energized by the lightning's presence.",
						"What was a simple downpour becomes a multisensory assault.",
					],
					tornado: [
						"The wind picks up violently, twisting the falling rain.",
						"A funnel cloud forms in the distance, growing closer.",
						"The rain swirls unnaturally as a tornado touches down.",
						"The storm takes a deadly turn as a twister forms.",
						"The howling wind drowns out all other sounds.",
						"The rain starts moving sideways as rotation begins.",
						"What was vertical rain becomes horizontal debris.",
						"The storm spawns a tornado almost casually.",
						"The rainfall becomes part of the tornado's deadly ballet.",
						"The transition from rainstorm to tornado happens terrifyingly fast.",
						"The rain becomes just one component of the swirling vortex.",
						"The wind's howl rises above the rain's constant patter.",
						"The tornado seems to drink the rain from the sky itself.",
						"The storm focuses its energy into a single deadly point.",
						"The rain becomes projectiles in the tornado's winds.",
						"The rainfall patterns betray the forming rotation above.",
						"The tornado turns the rain into a weapon.",
						"The storm's center drops as the funnel takes shape.",
						"The rain moves in spirals before the full tornado forms.",
						"What was wet becomes deadly in the twister's embrace.",
					],
					weird: [
						"The rain suddenly stops mid-fall, hovering in the air.",
						"The raindrops begin falling upward instead of down.",
						"The storm pauses, as if time itself has frozen.",
						"The rain takes on an odd, metallic sheen.",
						"A single raindrop hangs suspended in midair, defying gravity.",
						"The rainfall becomes perfectly synchronized in rhythm.",
						"Raindrops start merging in midair to form larger spheres.",
						"The rain begins falling in geometric patterns.",
						"The sound of rain cuts out abruptly while drops continue falling.",
						"The rainfall becomes polarized - only hitting certain areas.",
						"The rain changes color mid-fall from clear to vivid hues.",
						"Some raindrops freeze while others continue falling normally.",
						"The rain starts and stops in perfect, rhythmic intervals.",
						"The raindrops begin bouncing instead of splashing on impact.",
						"The storm seems to be raining in slow motion.",
						"The rainfall becomes noiseless despite its intensity.",
						"The raindrops start glowing faintly as they fall.",
						"The rain begins falling in perfect straight lines only.",
						"The storm seems to be raining identical droplet copies.",
						"The rainfall develops a strange, harmonic hum.",
					],
				},
				drought: {
					drought: [
						"The cracked earth grows even drier.",
						"The air is so dry it hurts to breathe.",
						"No relief comesthe drought drags on.",
						"Plants wither further under the unrelenting dryness.",
						"Dust swirls in the hot, stagnant air.",
						"Every breath feels like inhaling from an open furnace.",
						"The ground crumbles to powder at the slightest touch.",
						"Lizards seek shade beneath rocks that are too hot to touch.",
						"The horizon shimmers with heat mirages that never materialize.",
						"Animal bones bleach whiter under the relentless sun.",
						"The wind carries more dust than air through the parched arena.",
						"Cracks in the earth deepen into jagged crevices.",
						"The last stubborn weeds finally surrender to the aridity.",
						"Morning brings no dewonly another day of scorching heat.",
						"The air crackles with static from the pervasive dryness.",
						"Shadows offer no relief from the baking ground.",
						"Metal objects become too hot to handle within minutes.",
						"The drought's grip tightens like a vice with each passing hour.",
						"Even the hardiest insects burrow deep to escape the surface heat.",
						"The landscape becomes a monochrome of tans and bleached whites.",
					],
					sunny: [
						"The heat remains, but at least the air isn't as parched.",
						"The drought lessens slightly as humidity returns.",
						"The sun still burns, but the earth is no longer cracking.",
						"The dry spell breaks, though the sun stays strong.",
						"A faint breeze brings a hint of moisture back.",
						"The transition from drought to sunny feels like a minor reprieve.",
						"The air loses its desert-like dryness but keeps its heat.",
						"The sun's intensity remains, but the deadly aridity fades.",
						"Ground that was powder becomes merely dry under the sun.",
						"The arena moves from deadly drought to regular summer heat.",
						"The sun seems less hostile as the extreme dryness abates.",
						"What was cracked earth becomes merely hard-baked soil.",
						"The temperature stays high but becomes more bearable.",
						"The drought's edge softens while the sunshine persists.",
						"The air no longer steals moisture from lungs with each breath.",
						"The landscape remains sunbaked but no longer lifeless.",
						"Morning brings traces of humidity instead of pure aridity.",
						"The shift from drought to sunny is subtle but noticeable.",
						"Plants stop dying and simply stop growing instead.",
						"The world transitions from desert-like to merely arid."
					],
					cloudy: [
						"Clouds appear like distant promises on the horizon.",
						"The sky loses its harsh blue as clouds filter the sun.",
						"A milky haze spreads across the sky, softening the light.",
						"High clouds drift in, offering the illusion of moisture.",
						"The air feels less desperate as clouds mute the sun's fury.",
						"The transition from drought to cloudy brings false hope.",
						"Clouds form but carry no rainonly temporary shade.",
						"The sky turns from clear blue to hazy white.",
						"The sun becomes a diffuse glow behind high cirrus clouds.",
						"The landscape sighs under the cloud-filtered light.",
						"Clouds tease the parched earth with their mere presence.",
						"The air loses its crystalline clarity as clouds move in.",
						"What was sharp sunlight becomes muted and indirect.",
						"The clouds seem reluctant to commit to actual rain.",
						"The drought persists even as the sky becomes overcast.",
						"The temperature drops slightly with the new cloud cover.",
						"The arena waits in suspense under the cloudy sky.",
						"Cloud shadows race across the drought-stricken land.",
						"The air feels thicker but no wetter with the clouds' arrival.",
						"The transition brings visual relief if not actual moisture."
					],
					rainy: [
						"The dry air shocks everyone as rain begins to fall.",
						"A sudden downpour ends the drought with violent relief.",
						"The first raindrops sizzle as they hit superheated ground.",
						"The long dry spell breaks with a torrential rainstorm.",
						"Dust turns to mud in seconds as the rain arrives.",
						"The transition from drought to rain is sudden and dramatic.",
						"The rain comes so hard it bounces off the parched earth.",
						"Steam rises as cool rain meets sun-baked rocks.",
						"The scent of petrichor overwhelms the previously dry air.",
						"Cracks in the earth seal themselves as water rushes in.",
						"The rain falls like a gift to the desperate landscape.",
						"What was dust becomes slurry under the sudden deluge.",
						"The drought's end arrives with thunderous applause.",
						"Plants seem to stretch upward to catch the falling rain.",
						"The arena transforms from desert to wetland in minutes.",
						"The rain washes away months of accumulated dust.",
						"Puddles form instantly where none existed for ages.",
						"The sound of rain is almost alien after the long drought.",
						"Every surface drinks greedily from the sudden abundance.",
						"The drought's memory fades with each falling raindrop."
					],
					thunder: [
						"Hot lightning splits the sky, bringing rain.",
						"Thunder rumbles ominously over the parched landscape.",
						"The air crackles with static as a storm builds.",
						"Heat lightning flickers on the horizon, promising misery.",
						"Lightning strikes start small fires in the dried brush.",
						"Thunder echoes across the drought-stricken arena.",
						"Storm clouds gather, providing rain relief from the drought.",
						"The air becomes charged with electricity before the storm.",

					],
					tornado: [
						"Dust devils merge into something more dangerous.",
						"The superheated air spawns a terrifying dust tornado.",
						"A funnel cloud forms without any accompanying rain.",
						"The drought creates its own twisted version of a tornado.",
						"Swirling dust becomes a full-fledged dry vortex.",
						"The transition from drought to tornado is eerily silent.",
						"What little moisture exists gets sucked into the dry whirlwind.",
						"The tornado forms from heat differentials rather than storms.",
						"Dust replaces rain as the tornado's primary ammunition.",
						"The arid air spins itself into a deadly dry whirlwind.",
						"The funnel cloud looks wrong without any rain curtains.",
						"The tornado seems born from the earth's desperation.",
						"Debris flies just as deadly without any water involved.",
						"The dry twister moves unpredictably across the landscape.",
						"The drought's final insulta tornado without relief.",
						"The air becomes thick with swirling dust and sand.",
						"The tornado's howl sounds hoarse in the dry air.",
						"Plants get uprooted and immediately turn to dust.",
						"The arena becomes a battleground of swirling dryness.",
						"The drought spawns this abomination of a tornado."
					],
					weird: [
						"The cracked earth begins glowing faintly red.",
						"The air becomes so dry it starts crystallizing.",
						"All shadows disappear despite the bright sunlight.",
						"The drought conditions create impossible heat mirages.",
						"The ground starts smoking without anything burning.",
						"The transition from drought to weird is barely noticeable.",
						"The air becomes thin like at high altitudes, but flat.",
						"Sounds distort strangely in the super-dry air.",
						"The horizon seems to stretch and warp visually.",
						"Everything starts tasting metallic despite the dryness.",
						"The drought conditions create static electricity everywhere.",
						"The sun appears to pulse in the weirdly clear air.",
						"The ground develops geometric crack patterns.",
						"The air becomes perfectly still and silent.",
						"The remaining plants start growing in spiral patterns.",
						"The heat becomes somehow both more and less intense.",
						"The landscape starts looking like an alien planet.",
						"Time seems to move differently under the weird drought.",
						"The air itself seems to be slowly evaporating.",
						"The drought crosses over into something supernatural."
					]
				},
				thunder: {
					thunder: [
						"Lightning continues to split the sky at random intervals.",
						"Thunder shakes the ground every few minutes.",
						"The storm shows no sign of letting up.",
						"The air is charged with electricity.",
						"Each thunderclap is louder than the last.",
						"Cloud-to-ground lightning strikes with terrifying frequency.",
						"The storm seems to be circling the arena like a predator.",
						"Thunder echoes off hills in overlapping waves of sound.",
						"Barometric pressure drops precipitously as the storm intensifies.",
						"The lightning has no pattern - striking anywhere at any time.",
						"Thunder rattles teeth and vibrates through chest cavities.",
						"The storm's electrical activity is increasing exponentially.",
						"Lightning illuminates the landscape in strobe-light flashes.",
						"The thunder has moved beyond noise into physical vibration.",
						"Ozone saturates the air with its sharp metallic scent.",
						"The storm seems alive - consciously hunting for targets.",
						"Lightning forks in fractal patterns across the black sky.",
						"Thunderclaps arrive before the previous echo fades.",
						"The electrical storm is rewriting the arena's topography.",
						"This isn't weather anymore - it's elemental warfare.",
					],
					sunny: [
						"The storm passes, leaving behind a clear blue sky.",
						"The last lightning flickers as the clouds break apart.",
						"Sunlight pierces through, drying the storm-soaked earth.",
						"The thunder fades into the distance, and calm returns.",
						"A rainbow forms as the storm dissipates.",
						"The tempest exhausts itself in one final thunderous salute.",
						"Blue sky punches through the retreating storm clouds.",
						"The transition from fury to calm happens almost magically.",
						"Golden light returns as if the storm never occurred.",
						"The arena steams as sunlight bakes away the storm's moisture.",
						"The electrical storm burns itself out with dramatic finality.",
						"What was chaos becomes serenity in minutes.",
						"The sun's reappearance feels like a divine blessing.",
						"The storm leaves as abruptly as it arrived.",
						"Lightning gives way to golden-hour sunlight.",
						"The tempest's departure leaves the world reborn.",
						"The air smells fresh-scrubbed after the storm's passing.",
						"The last thunderclap sounds more tired than angry.",
						"The storm clouds retreat with their tails between their legs.",
						"Sunlight transforms the battlefield into something peaceful.",
					],
					cloudy: [
						"The lightning stops, but the clouds remain heavy.",
						"The thunderstorm downgrades to mere overcast.",
						"The worst of the storm passes, leaving only gray.",
						"The thunder becomes distant, but the clouds linger.",
						"The electrical charge dissipates, leaving only wetness.",
						"The storm's fury gives way to sullen cloud cover.",
						"The transition from violent to passive happens gradually.",
						"The thunder sounds apologetic as it retreats.",
						"The lightning stops first, then the thunder, then the rain.",
						"The arena exists in the storm's quiet aftermath.",
						"The clouds lighten from angry black to contemplative gray.",
						"The storm leaves the sky bruised but no longer bleeding.",
						"The electrical activity moves on to terrorize elsewhere.",
						"The thunder's echo is the last to leave the arena.",
						"The clouds seem exhausted from their electrical display.",
						"What was a threat becomes merely a possibility.",
						"The storm leaves its clouds behind like spent shells.",
						"The air still hums with residual energy.",
						"The tempest becomes memory while its clouds remain.",
						"The transition leaves the world in meteorological limbo.",
					],
					rainy: [
						"The lightning ceases, but the rain keeps falling.",
						"The thunderstorm downgrades to a steady downpour.",
						"The electrical energy converts to pure precipitation.",
						"The thunder becomes background noise to the rainfall.",
						"The storm loses its teeth but keeps its tears.",
						"The transition from thunder to rain is seamless.",
						"The lightning stops first, then the thunder fades.",
						"The rain continues the storm's work by other means.",
						"The tempest forgets its anger but remembers its sorrow.",
						"The arena trades electrical fury for waterlogged calm.",
						"The storm forgets to shout but remembers to cry.",
						"The rainfall becomes rhythmic rather than chaotic.",
						"The thunder's absence makes the rain seem gentle.",
						"The lightning departs, leaving only its rainy aftermath.",
						"The storm exhausts its anger but not its reserves.",
						"The rain continues as the thunderstorm's quiet epilogue.",
						"The electricity leaves the storm system gradually.",
						"The rainfall becomes the storm's last remaining feature.",
						"The tempest forgets its violence but not its purpose.",
						"The thunder stops, and the rain remembers how to be rain.",
					],
					drought: [
						"The storm burns itself out without yielding rain.",
						"Lightning strikes start fires in the tinder-dry landscape.",
						"The thunder rumbles away, taking all moisture with it.",
						"The electrical storm evaporates more than it precipitates.",
						"The tempest leaves the earth drier than it found it.",
						"The transition from storm to drought happens cruelly fast.",
						"The lightning sucks humidity from the air as it departs.",
						"The thunder's departure leaves only cracked earth behind.",
						"The storm aborts itself mid-fury, leaving no trace.",
						"The electrical activity bakes the ground rather than waters it.",
						"The tempest teases rain but delivers only more aridity.",
						"The storm's energy dissipates into the thirsty atmosphere.",
						"Lightning rods glow red-hot without any cooling rain.",
						"The thunder sounds hollow as the drought reasserts itself.",
						"The storm becomes just a heat source in the end.",
						"The electrical display leaves the earth panting for water.",
						"The tempest's passing makes the drought feel even worse.",
						"The lightning leaves behind smoke but no puddles.",
						"The thunder's echo is the last moisture in the air.",
						"The storm becomes a dry electrical fire in the sky.",
					],
					tornado: [
						"The thunderstorm spawns a deadly funnel cloud.",
						"Rotation develops within the electrically charged clouds.",
						"The storm organizes its chaos into a single deadly point.",
						"The thunder becomes the tornado's war cry.",
						"Lightning illuminates the forming funnel in strobe flashes.",
						"The transition from thunderstorm to tornado is terrifying.",
						"The electrical energy focuses into rotational energy.",
						"The storm trades lightning for lethal wind shear.",
						"The thunder becomes the tornado's constant background roar.",
						"The tempest graduates from impressive to deadly.",
						"The lightning now serves only to light the tornado's work.",
						"The storm's energy converts from electrical to kinetic.",
						"The thunder sounds different now - more focused, more deadly.",
						"The electrical storm becomes a wind storm mid-tempest.",
						"The tornado forms where lightning struck most frequently.",
						"The storm forgets how to spark and remembers how to spin.",
						"The thunder becomes the soundtrack to the funnel's dance.",
						"The lightning now forks around the tornado like a halo.",
						"The tempest's violence becomes organized rather than random.",
						"The storm finally understands what it wants to destroy.",
					],
					weird: [
						"The lightning starts branching in impossible directions.",
						"Thunder begins echoing before the lightning flashes.",
						"The storm's electrical activity forms geometric patterns.",
						"Lightning strikes freeze mid-arc like glowing sculptures.",
						"The thunder starts sounding like distorted voices.",
						"The transition from thunder to weird is deeply unsettling.",
						"The lightning begins moving in slow motion.",
						"Thunderclaps arrive in perfect rhythmic sequences.",
						"The storm's electricity starts glowing different colors.",
						"The tempest develops an eye like a hurricane would.",
						"Lightning starts striking upward from the ground.",
						"The thunder begins harmonizing with itself in echoes.",
						"The electrical storm starts ignoring physics entirely.",
						"Lightning forms persistent tendrils between clouds and earth.",
						"The thunder sounds like it's coming from inside the head.",
						"The storm begins rotating around a central vertical axis.",
						"Lightning starts arcing between raindrops mid-air.",
						"The thunder develops a melodic quality that shouldn't exist.",
						"The tempest's electricity starts behaving like liquid.",
						"The storm forgets it's weather and becomes something else.",
					]
				},
			    tornado: {
					tornado: [
						"The tornado's roar drowns out all other sounds as it intensifies.",
						"Debris orbits the funnel at lethal speeds in a deadly ballet.",
						"The twister carves fresh scars into the landscape with each pass.",
						"The funnel cloud pulses like a living thing, growing wider.",
						"Multiple vortices dance around the main tornado like evil satellites.",
						"The tornado begins ingesting entire structures into its vortex.",
						"The pressure drop makes ears pop painfully as it approaches.",
						"The funnel darkens as it consumes more debris from the ground.",
						"The tornado's path becomes erratic and unpredictable.",
						"Ground-level winds accelerate to unimaginable speeds.",
						"The twister develops an eerie, electric blue glow within its funnel.",
						"The tornado starts spawning smaller satellite tornadoes.",
						"The funnel stretches vertically, becoming a monstrous column.",
						"The tornado's rotation tightens, increasing its destructive power.",
						"The air becomes filled with a constant hail of projectiles.",
						"The twister's suction begins uprooting bedrock.",
						"The tornado starts exhibiting multiple condensation funnels.",
						"The funnel develops a sinister hourglass shape as it intensifies.",
						"The tornado's debris field expands to cover half the arena.",
						"The twister achieves maximum width - over a mile across."
					],
					sunny: [
						"The tornado dissipates as suddenly as it formed, revealing blue sky.",
						"The funnel cloud weakens and lifts, leaving sunshine in its wake.",
						"The twister's energy exhausts itself, yielding to calm weather.",
						"Golden light breaks through as the last funnel remnants vanish.",
						"The tornado collapses inward on itself, leaving only sunshine.",
						"The transition from chaos to calm happens shockingly fast.",
						"The twister's debris falls to earth as the storm clears.",
						"The tornado lifts like a curtain, revealing undamaged landscape.",
						"The funnel evaporates mid-air, leaving no trace of its passage.",
						"The sun bakes away the last moisture from the dissipated tornado.",
						"The violent winds calm as if someone flipped a switch.",
						"The tornado's remnants scatter like bad dreams in sunlight.",
						"The twister unwinds itself into nothingness under the sun's gaze.",
						"The arena steams where the tornado's rain met hot ground.",
						"The funnel cloud dissolves like sugar in hot tea.",
						"The tornado's energy converts to harmless summer warmth.",
						"The twister forgets how to spin and remembers how to shine.",
						"The transition leaves the world blinking in sudden sunlight.",
						"The tornado's departure reveals a landscape transformed.",
						"The sun reclaims its dominion as the storm surrenders."
					],
					cloudy: [
						"The tornado weakens into mere rotation within the cloud base.",
						"The funnel lifts back into the clouds, leaving overcast skies.",
						"The twister's energy disperses into the general cloud cover.",
						"The tornado exhausts itself against the landscape's resilience.",
						"The funnel dissipates, but the angry clouds remain.",
						"The transition from tornado to cloudy is anticlimactic.",
						"The twister loses organization and becomes random wind.",
						"The tornado's rotation spreads out into general cloud movement.",
						"The funnel retreats back into the mother cloud reluctantly.",
						"The tornado forgets its purpose and becomes simple overcast.",
						"The twister's debris falls gently from weakening rotation.",
						"The tornado leaves the sky bruised but no longer violent.",
						"The funnel dissolves into the clouds like cream in coffee.",
						"The tornado's energy redistributes through the cloud layer.",
						"The twister becomes just another weather pattern again.",
						"The transition leaves the world in meteorological limbo.",
						"The tornado forgets how to destroy and remembers how to drift.",
						"The funnel's remnants linger as wisps in the cloud cover.",
						"The tornado's departure leaves only sullen gray behind.",
						"The twister becomes memory while its clouds remain."
					],
					rainy: [
						"The tornado's rotation slows, converting to heavy rainfall.",
						"The funnel collapses into a curtain of torrential rain.",
						"The twister's energy transforms into a downpour.",
						"The tornado forgets how to spin and remembers how to rain.",
						"The funnel dissolves into a million falling droplets.",
						"The transition from tornado to rain is surprisingly gentle.",
						"The twister's debris becomes floating flotsam in new puddles.",
						"The tornado's violence converts to water's persistence.",
						"The funnel unwinds itself into a spiral of falling rain.",
						"The tornado becomes just another rainstorm mid-tempest.",
						"The twister's rotation spreads out into general rainfall.",
						"The tornado leaves its mark in newly formed streams.",
						"The funnel's energy disperses into the falling precipitation.",
						"The tornado forgets wind and remembers water.",
						"The transition leaves the world dripping rather than broken.",
						"The twister's remnants flow away with the runoff.",
						"The tornado becomes a footnote in the rain's story.",
						"The funnel's collapse creates instant rivers on the ground.",
						"The tornado's departure leaves the arena washed clean.",
						"The twister dissolves into the rhythm of falling rain."
					],
					drought: [
						"The tornado sucks all moisture from the air as it dissipates.",
						"The funnel evaporates mid-rotation, leaving parched earth.",
						"The twister's passage bakes the ground drier than before.",
						"The tornado leaves behind cracked earth where it last touched down.",
						"The funnel's collapse creates instant drought conditions.",
						"The transition from tornado to drought is brutally fast.",
						"The twister's winds scour moisture from the landscape.",
						"The tornado becomes a desiccating column rather than a wet one.",
						"The funnel's energy converts to heat rather than rain.",
						"The tornado leaves the earth gasping for water.",
						"The twister's debris becomes dust before hitting the ground.",
						"The tornado's suction pulls humidity from the entire arena.",
						"The funnel dissipates into the thirsty atmosphere.",
						"The tornado's passage creates instant cracked earth.",
						"The twister becomes a weapon of drought rather than wind.",
						"The transition leaves plants wilted in its aftermath.",
						"The tornado's winds bring heat rather than cooling rain.",
						"The funnel's collapse sucks all moisture upward.",
						"The tornado leaves the landscape thirstier than before.",
						"The twister's energy bakes rather than waters."
					],
					thunder: [
						"The tornado's rotation electrifies, becoming a thunderstorm.",
						"The funnel dissipates as lightning takes over the sky.",
						"The twister's energy converts to electrical rather than kinetic.",
						"The tornado forgets wind and remembers lightning.",
						"The funnel collapses into a barrage of thunderbolts.",
						"The transition from tornado to thunder is dazzling.",
						"The twister's debris becomes lightning rods for new strikes.",
						"The tornado's rotation spreads out into electrical activity.",
						"The funnel's energy discharges in a massive thunderclap.",
						"The tornado becomes just the prelude to an electrical storm.",
						"The twister's winds calm as the thunder takes center stage.",
						"The tornado leaves behind charged air perfect for lightning.",
						"The funnel's collapse creates a power vacuum filled by thunder.",
						"The tornado forgets destruction and remembers illumination.",
						"The transition leaves the world crackling rather than spinning.",
						"The twister's remnants become paths for electrical discharge.",
						"The tornado's energy converts to pure atmospheric electricity.",
						"The funnel's departure makes way for nature's light show.",
						"The tornado becomes the thunderstorm's opening act.",
						"The twister dissolves into a web of lightning forks."
					],
					weird: [
						"The tornado starts spinning in perfect geometric patterns.",
						"The funnel develops impossible right-angle turns.",
						"The twister begins lifting objects without dropping them.",
						"The tornado starts glowing with an eerie inner light.",
						"The funnel begins moving in precise zig-zag patterns.",
						"The transition from tornado to weird is deeply unsettling.",
						"The twister starts emitting a low, harmonic hum.",
						"The tornado's debris field organizes into strange shapes.",
						"The funnel begins changing colors like a celestial light show.",
						"The tornado starts spinning different directions simultaneously.",
						"The twister's winds begin moving in pulsating waves.",
						"The tornado develops multiple eyes like a hurricane.",
						"The funnel starts producing localized weather in its vortex.",
						"The tornado's rotation speed fluctuates impossibly fast.",
						"The twister begins affecting gravity in its immediate area.",
						"The transition leaves conventional physics behind.",
						"The tornado starts appearing and disappearing in segments.",
						"The funnel develops a crystalline structure mid-rotation.",
						"The tornado begins manipulating light around its periphery.",
						"The twister becomes less a storm and more a phenomenon."
					]
					},
				weird: {
					weird: [
						"The sky pulses like a living organism above the arena.",
						"Rain falls sideways while shadows point in wrong directions.",
						"Gravity fluctuates randomly - some raindrops float upward.",
						"The clouds form impossible fractal patterns that hurt to observe.",
						"Time stutters - a lightning bolt hangs frozen mid-strike.",
						"The horizon bends upward at the edges like a giant fishbowl.",
						"Colors shift hue gradually across the visible spectrum.",
						"The air tastes like burnt copper and smells like violets.",
						"Sounds arrive before their sources make any movement.",
						"The moon appears at noon, glowing with impossible clarity.",
						"Multiple suns blink in and out of existence overhead.",
						"The wind whispers in languages no one recognizes but somehow understands.",
						"Objects cast two shadows that move independently.",
						"The clouds begin rotating in perfect geometric formations.",
						"The air develops visible currents like liquid glass.",
						"All weather stops momentarily - not even air molecules move.",
						"The sky fragments into tessellated sections showing different weather.",
						"Light bends around invisible spheres in the atmosphere.",
						"The laws of thermodynamics seem to be optional.",
						"Reality itself appears to be rendering at low resolution."
					],
					sunny: [
						"The sun stabilizes from its pulsing state to normal brilliance.",
						"The second sun winks out of existence, leaving just one.",
						"Gravity reasserts itself, dropping floating objects gently.",
						"The sky's purple hue bleeds away to normal blue.",
						"The sun's cold fire returns to familiar warmth.",
						"The horizon flattens back to conventional geometry.",
						"Multiple overlapping shadows merge back into single forms.",
						"The air stops tasting like metal and returns to neutral.",
						"Time resumes its normal flow as the weirdness dissipates.",
						"The sun's impossible growth reverses to proper proportions.",
						"The sky's mosaic pattern dissolves into uniform blue.",
						"The humming in the air fades below hearing thresholds.",
						"Light stops bending unnaturally around invisible objects.",
						"The sun's black spots vanish without trace or explanation.",
						"The air's viscosity returns to normal breathing conditions.",
						"The second set of shadows melts into the ground.",
						"The sun's pulsing rhythm stabilizes to constant brightness.",
						"The sky's fishbowl distortion corrects itself with a snap.",
						"Parallel dimensions stop leaking into the visible spectrum.",
						"The world remembers how to be normal again."
					],
					cloudy: [
						"The fractal clouds reorganize into normal cumulus formations.",
						"The glowing mist condenses into regular fog banks.",
						"The geometric cloud patterns dissolve into random shapes.",
						"The sky's impossible colors fade to standard gray.",
						"The floating water droplets join together into normal clouds.",
						"The tessellated sky sections merge into uniform overcast.",
						"The clouds stop rotating in perfect circles and just drift.",
						"The air's prismatic effects settle into normal diffusion.",
						"The whispering winds forget their alien language.",
						"The pulsating cloud cover stabilizes to normal movement.",
						"The crystalline cloud structures melt into amorphous forms.",
						"The sky's mosaic repairs itself into standard cloud cover.",
						"The clouds forget their impossible formations and just be.",
						"The air's refractive index returns to earthly norms.",
						"The hovering ice crystals decide to fall normally again.",
						"The clouds' bioluminescence fades to regular shading.",
						"The sky's segmented weather unifies into simple overcast.",
						"The atmosphere stops acting like a non-Newtonian fluid.",
						"The clouds abandon their perfect symmetry for natural chaos.",
						"The world settles for merely cloudy instead of reality-bending."
					],
					rainy: [
						"The floating water droplets remember they should fall.",
						"The upside-down rain flips to conventional precipitation.",
						"The rainbow-colored rain bleeds back to normal clarity.",
						"The whispering rainfall forgets its secret messages.",
						"The geometric rain patterns dissolve into random droplets.",
						"The rain stops falling in perfect synchronization.",
						"The crystalline water structures melt into normal drops.",
						"The rain's metallic sheen washes away to transparency.",
						"The pulsing downpour settles into steady rhythm.",
						"The rain forgets how to flow upward and falls properly.",
						"The tessellated storm cells merge into normal rainfall.",
						"The rain's harmonic humming fades below hearing range.",
						"The glowing droplets extinguish their inner light.",
						"The rain's impossible viscosity returns to water norms.",
						"The floating puddles decide to obey gravity again.",
						"The rain stops appearing in discrete cubic volumes.",
						"The rainbow-hued precipitation blends back to clear.",
						"The whispering storm forgets its alien vocabulary.",
						"The rain's perfect surface tension breaks naturally.",
						"The weather remembers how to be normally wet again."
					],
					drought: [
						"The floating sand particles suddenly remember gravity.",
						"The whispering desert winds lose their alien voices.",
						"The geometric drought patterns dissolve into random cracks.",
						"The air's crystalline dryness shatters into normal aridity.",
						"The pulsating heat waves stabilize to normal mirages.",
						"The tessellated dry zones merge into uniform drought.",
						"The drought forgets its perfect fractal expansion.",
						"The air's refractive distortions settle into normal heat haze.",
						"The singing sands fall silent under conventional dryness.",
						"The glowing desert particles extinguish their light.",
						"The drought's impossible speed slows to natural progression.",
						"The hyper-dry air pockets reintegrate with the atmosphere.",
						"The crack patterns abandon their sacred geometry.",
						"The air stops tasting like powdered glass and copper.",
						"The drought's boundaries stop moving like living things.",
						"The whispering wasteland forgets its dead languages.",
						"The pulsating dry zones stabilize to normal conditions.",
						"The crystalline air structures melt into normal dryness.",
						"The drought's alien intelligence seems to lose interest.",
						"The world settles for merely dry instead of eldritch."
					],
					thunder: [
						"The frozen lightning bolts suddenly remember how to move.",
						"The whispering thunder finds its normal voice again.",
						"The geometric storm patterns dissolve into natural chaos.",
						"The sky's impossible electrical colors fade to normal flashes.",
						"The backward lightning strikes start moving properly again.",
						"The tessellated storm cells merge into normal thunderheads.",
						"The thunder forgets its harmonic musical qualities.",
						"The air's crystalline charge dissipates into normal static.",
						"The pulsating electrical storm stabilizes to natural rhythms.",
						"The lightning stops branching in perfect fractal patterns.",
						"The glowing discharge particles extinguish their light.",
						"The thunder's impossible echoes return to normal acoustics.",
						"The storm's alien intelligence seems to depart.",
						"The air stops smelling like ozone and burnt roses.",
						"The lightning's slow-motion effects speed to normal.",
						"The whispering stormfront forgets its secret knowledge.",
						"The pulsating electrical activity stabilizes to normal storms.",
						"The crystalline charge structures melt into natural electricity.",
						"The thunder's perfect synchronization breaks randomly.",
						"The weather remembers how to be normally frightening again."
					],
					tornado: [
						"The floating debris suddenly remembers how gravity works.",
						"The whispering winds lose their unnatural harmonic tones.",
						"The geometric wind patterns dissolve into natural chaos.",
						"The tornado's impossible colors fade to normal grays and blues.",
						"The reverse-spinning funnel corrects its rotation suddenly.",
						"The tessellated vortex merges into a single normal funnel.",
						"The tornado forgets its perfect mathematical precision.",
						"The air's crystalline structures shatter into normal winds.",
						"The pulsating rotation stabilizes to natural tornado speeds.",
						"The hovering projectiles decide to obey physics again.",
						"The glowing funnel particles extinguish their eerie light.",
						"The tornado's impossible movements become merely dangerous.",
						"The storm's alien awareness seems to dissipate.",
						"The air stops tasting like electricity and burnt honey.",
						"The tornado's slow-motion effects accelerate to real-time.",
						"The whispering vortex forgets its ancient secrets.",
						"The pulsating winds stabilize to normal cyclonic patterns.",
						"The crystalline air formations melt into natural turbulence.",
						"The tornado's perfect symmetry breaks into normal asymmetry.",
						"The weather remembers how to be normally destructive again."
					]
				}
					

				}

			G.getWeatherTransitionString = function(oldWeather, newWeather) {
				// If you can see the HUGE dict above, you'll know what this does lol
				if (oldWeather === newWeather) {
					return c(weather_transitions[oldWeather][oldWeather]);
				} else {
					return c(weather_transitions[oldWeather][newWeather]);
				}
			}
			G.nextWeatherForce = '';
			G.getWeatherSettings = function() {
				// Used for initialising the weather
				var initialWeather = l('initialWeather').value;
				var changeFreq = l('weatherChangeFreq').value;
				
				// If random is selected, choose a random weather (excluding "weird" unless you want it included)
				if (initialWeather === 'random') {
					var weatherOptions = ['sunny', 'cloudy', 'rainy', 'drought', 'thunder', 'tornado'];
					initialWeather = c(weatherOptions);
				}
				G.nextWeatherForce = initialWeather;
				var initialWeatherString = G.getWeatherTransitionString(initialWeather,initialWeather);
				var boxcol = weatherStates[initialWeather].col;
				var initialWeatherIcon = weatherStates[initialWeather].icon;
				return {
					current: initialWeather,
					current_string: initialWeatherString,
					changeFreq: changeFreq,
					col: boxcol,
					icon: initialWeatherIcon
				};
			};

			// Modify your weather state change logic to use these settings
			G.changeWeather = function(currentWeather) {
				var settings = G.weatherSettings;

				if (G.nextWeatherForce) { 
					G.nextWeatherForce = '';
					return G.nextWeatherForce;
				}
				
				// Handle no changes case
				if (settings.changeFreq === 'none') {
					return 0;
				}
				
				// Check if weather should change this round
				var changeChance = weatherStates[currentWeather].chance;
				
				// Adjust change chance based on settings
				switch(settings.changeFreq) {
					case 'low': changeChance *= 0.5; break;
					case 'high': changeChance *= 1.5; break;
					case 'always': changeChance = 1; break;
					// 'default' uses the original chance
				}
				
				// If weather doesn't change, return current
				if (Math.random() > changeChance) {
					return 0;
				}
				
				// Otherwise, determine new weather
				var rand = Math.random();
				var possibilities = weatherStates[currentWeather].possibilities;
				
				for (var weather in possibilities) {
					if (rand <= possibilities[weather]) {
						return weather;
						
					}
				}
				
				// Fallback (shouldn't happen if possibilities are set up correctly)
				return 0;
			};

		G.ShowTheWeather=function(){
			var weatherdiv = l("ShowWeather")
			var weathericon = l("WeatherIcon")
			weathericon.innerHTML = `<img src="${weatherStates[G.weatherSettings.current].icon}" style="position:absolute;height:24px;width;24px;top: 50%;left: 50%;transform: translate(-50%, -50%);filter:drop-shadow(1px 1px 2px rgba(1,1,1,0.25)) drop-shadow(-1px -1px 2px rgba(1,1,1,0.25)) drop-shadow(2px 2px 4px rgba(1,1,1,0.1)) drop-shadow(-2px -2px 4px rgba(1,1,1,0.1));"title="${G.weatherSettings.current} Icon"/><img src="/assets/ui/frame.png" style="z-index:1;position: relative;top:2px;filter: drop-shadow(1px 1px 2px rgba(1,1,1,0.25)) drop-shadow(-1px -1px 2px rgba(1,1,1,0.25)) drop-shadow(2px 2px 4px rgba(1,1,1,0.1)) drop-shadow(-2px -2px 4px rgba(1,1,1,0.1))"/>
                                    `
			weatherdiv.innerHTML = G.weatherSettings.current_string
		}
		G.getGameSpeed = function(){
			var speed_str=l('gameSpeed').value;
			var base_speed=1
			/*
				<option value="cinematic">Cinematic (0.25x)</option>
				<option value="slow">Slow (0.5x)</option>
				<option value="enjoyer">Enjoyer (0.75x)</option>
				<option value="normal">Normal (1x)</option>
				<option value="fast"Fast (1.5x)</option>
				<option value="faster">Faster (3x)</option>
				<option value="brr"Round go brr (5x)</option>
				<option value="instant">Instant (1000x)</option>
			*/
			switch(speed_str){
				case 'cinematic':
					base_speed *= 0.25;
					break;
				case 'slow':
					base_speed *= 0.5;
					break;
				case 'enjoyer':
					base_speed *= 0.75;
					break;
				case 'normal':
					break; // Base speed stays as 1
				case 'fast': 
					base_speed *= 1.5;
					break;
				case 'faster':
					base_speed *= 3;
					break;
				case 'brr':
					base_speed *= 5;
					break;
				case 'instant':
					base_speed *= 3000;
					break
			}
			console.log(3000 * (1 / base_speed))
			return 3000 * (1 / base_speed)
		}
		G.viewDetails=function()
		{
			var str=`
				<header>Details</header>
				<div>
			`;
			
			var teams=G.teams.slice(0);
			var teamless={chars:[],name:'NOTEAM'};
			for (var i=0;i<G.chars.length;i++){if (!G.chars[i].team){teamless.chars.push(G.chars[i]);}}
			if (teamless.chars.length>0) teams.unshift(teamless);
			
			for (var i=0;i<teams.length;i++)
			{
				var team=teams[i];
				if (team.name=='NOTEAM') str+=`<div class="box team teamless"><cap>Unaffiliated</cap>`;
				else str+=`<div class="box team ${i%2==0?'blue':'red'}"><cap>${team.name}</cap>`;
				for (var ii=0;ii<team.chars.length;ii++)
				{
					var me=team.chars[ii];
					str+=`
					<div class="charDisplay" style="font-size:12px;">
						<div class="picBox"><img src="${me.pic}" class="pic" title="${me.name}"/>${me.has('dead')?'<div class="picSkull"></div>':''} ${me.has('revived')?'<div class="picAngel"></div>':''}</div>
						<div style="text-align:center;">
							<e style="float:left;margin-right:8px;">${me.name}</e>
							<div style="min-width:32%;display:inline-block;"><cap>Perks :</cap> ${me.perks.map(perk=>(perk.perk.type=='trait' && perk.perk.name!='no perk')?('<div class="bit" title="'+perk.desc+'">'+perk.perk.name+'</div>'):'').join(' ')}</div>
							<div style="min-width:32%;display:inline-block;"><cap>Items :</cap> ${me.perks.map(perk=>(perk.perk.type=='item' && perk.perk.name!='no item')?('<div class="bit" title="'+perk.desc+'">'+perk.perk.name+'</div>'):'').join(' ')}</div>
							<div style="min-width:32%;display:inline-block;"><cap>Other :</cap> ${me.perks.map(perk=>(perk.perk.type!='item' && perk.perk.type!='trait')?('<div class="bit" title="'+perk.desc+'">'+perk.perk.name+'</div>'):'').join(' ')}</div>
						</div>
						${me.kills.length>0?('<div style="color:#e2461f;">Killed '+me.kills.length+' (<e>'+me.kills.map(char=>char.name).join(', ')+'</e>)</div>'):''}
						${(me.killer.length>0 && me.has('dead'))?('<div style="color:#e2461f;">Dead, killed by <e>'+me.killer.map(char=>char.name).join(', ')+'</e> ('+me.deathReason+')</div>'):''}
						${(me.killer.length==0 && me.has('dead'))?('<div style="color:#e2461f;">Dead ('+me.deathReason+')</div>'):''}
					</div>`;
				}
				str+=`</div>`;
				
			}

			
			G.popup(str,function(){
			});
		}

		document.addEventListener('keydown', function(e) { if (e.shiftKey && e.key.toLowerCase() == 's') { G.importSetup(userDataJSON); G.start(); } });
		
		G.started = false;
		G.simulating = false;
		G.start = function()
		{
			G.started = true;
			// Sort out weather and animals before we move onto characters
			// Move if you fancy (CTRL+F: weather and animals)
			G.game_speed = G.getGameSpeed();
			G.weatherSettings = G.getWeatherSettings();
			G.setupData = G.exportSetup(-1);
			G.deaths = 0;
			var teams = G.teams;
			G.teams = [];
			G.chars = [];
			G.team = function(o, temp)
			{
				this.type='team';
				this.chars=[];
				for (let i in o) { this[i] = o[i]; }
				for (let i in this.chars) { this.chars[i].team = this; this.chars[i].trueTeam = this; }
				this.charsAlive = 0;
				this.charsDead = 0;
				this.temp = false;
				if (!temp) { G.teams.push(this); } else { this.temp = true; }
			}
				G.team.prototype.pick = function(n)
				{
					if (this.chars.length<n) return false;
					var members=shuffle(this.chars.slice(0));
					return members.slice(0,n);
				}
				G.team.prototype.dissolve = function()
				{
					//kick all members and delete self
					for (var i in this.chars)
					{
						this.chars[i].team=0;
					}
					G.teams.splice(G.teams.indexOf(this),1);
				}
				G.team.prototype.getAliveCharsN = function() {
					let amount = 0; 
					for (let i in this.chars) {
						if (!this.chars[i].isOut()) { amount++; }
					}
					return amount;
				}
				G.team.prototype.getDeadCharsN = function() {
					return this.chars.length - this.getAliveCharsN();
				}
				G.team.prototype.cacheDeathCounts=function() {
					this.charsAlive = this.getAliveCharsN();
					this.charsDead = this.getDeadCharsN();
				}
				G.cacheAllTeamDeathCounts = function() {
					for (let i in G.teams) {
						G.teams[i].cacheDeathCounts();
					}
				}
			G.char = function(o, notReal)
			{
				this.type = 'char';
				this.perks = [];
				this.team = 0;
				this.trueTeam = 0; //the team that it started with, never leaves it permanently but can change
				this.kills = [];
				this.deathReason = '';
				this.reviveReason = '';
				this.killer = [];
				this.revivedBy = [];
				this.combat = null;
				if (notReal) { this.real = false; } else { this.real = true; }
				for (let i in o) { this[i] = o[i]; }
				this.id = G.chars.length;
				if (!notReal) {
					G.chars.push(this);
					G.charsBN[this.name] = this;
				}
			}
			G.newPhantomChar = function(idPerk, overseer, creator) {
				let char = new G.char({}, true);
				char.perks.push(new G.perkToken(idPerk, char, {creator:creator||null}));
				if (creator) {
					char.name = creator.name + '\'s ' + idPerk.name;
					char.team = creator.team;
					char.trueTeam = creator.team;
					char.pic = creator.pic;
					char.gender = 3;
				}
				if (overseer) {
					char.combat = new G.combatTracker(overseer, char);
					overseer.addExtra(char);
					overseer.removeParticipant(char); //(maybe not) it will actually be duplicated across extras and participants but if otherwise things dont work well yeah...
					if (creator && creator.combat) { char.combat.horizontal = creator.combat.horizontal; char.combat.vertical = creator.combat.vertical; }
					char.id = overseer.extras.length;
				}
				if (char.team) { char.team.cacheDeathCounts(); }
				return char;
			}
			G.charsBN = {}; //Do not use for code, just convenient for testing
				G.char.prototype.has=function(perk) {
					if (typeof perk==='string') {
						if (!G.perksBN[perk]) {console.log('No perk named','"'+perk+'"');return false;}
						perk=G.perksBN[perk];
					}
					if (perk instanceof G.perkToken) {
						if (this.perks.includes(perk)) { return this.perks[this.perks.indexOf(perk)]; }
						return false;
					}
					for (let i in this.perks) {
						if (this.perks[i].perk.name==perk.name) return this.perks[i];
					}
					return false;
				}
				G.char.prototype.gain=function(perk) {
					let alreadyHasPerk = false;
					let token = null;
					if (this.has(perk)) { 
						token = this.has(perk); 
						alreadyHasPerk = true;
						if (typeof perk==='string') {
							if (!G.perksBN[perk]) { console.log('No perk named','"'+perk+'"'); return false; }
							perk = G.perksBN[perk];
						}
					} else {
						if (perk instanceof G.perkToken) { token = perk; token.owner = this; perk = token.perk; } else if (perk instanceof G.perk) { token = new G.perkToken(perk, this); }
						if (typeof perk==='string') {
							if (!G.perksBN[perk]) { console.log('No perk named','"'+perk+'"'); return false; }
							perk = G.perksBN[perk];
							token = new G.perkToken(perk, this);
						}
					}
					if (!alreadyHasPerk || token.perk.type == 'item') { this.perks.push(token); }
					if (token.perk.onGain) { token.perk.onGain.call(token, alreadyHasPerk); }
					if (this.combat) { this.combat.overseer.cacheAllTargetCounts(); }
					if (this.team) { this.team.cacheDeathCounts(); }
					return token;
				}
				G.char.prototype.lose=function(perk, force) {
					let token = null;
					if (perk instanceof G.perkToken) { token = perk; } else { token = this.has(perk); }
					if (token) { 
						if (token.perk.onLose) { token.perk.onLose.call(token); }
						if (!token.perk.cannotLose || force) { 
							if (this.combat) { this.combat.overseer.cacheAllTargetCounts(); }
							if (this.team) { this.team.cacheDeathCounts(); }
							return this.perks.splice(this.perks.indexOf(token), 1); 
						}
					}
				}
				G.char.prototype.give=function(other,perk) {
					if (this.has(perk)) {this.has(perk).owner = other; other.gain(this.has(perk)); this.lose(perk);}
				}
				G.char.prototype.die=function(reason) {
					if (!this.has('dead'))
					{
						if (this.real) {
							G.deaths++;
							G.deadThisRound.push(this);
						}
						if (this.onDeath) { this.onDeath.call(this); }
						for (let i in this.perks) { if (this.perks[i].perk.onDeath) { this.perks[i].perk.onDeath.call(this.perks[i]); } }
						this.gain('dead');
						if (reason) this.deathReason=reason;
						if (this.combat) {
							this.combat.overseer.injectColor('red');
							this.combat.overseer.injectSkull(this.name);
							if (this.real) { this.fleeCombat(true); } else { this.gain('nihil'); }
						}
						G.cacheAllTeamDeathCounts();
						//if (this.team) {this.team.chars.splice(this.team.chars.indexOf(this),1);this.team=0;}
						return true;
					}
					return false;
				}
				G.char.prototype.getTeam = function() {
					return this.combat?.actingTeam ?? this.team;
				}
				G.char.prototype.cureAilments = function() {
					for (let i = this.perks.length - 1; i >= 0; i--) {
						if (this.perks[i].perk.ailment) { this.lose(this.perks[i]); }
					}
				}
				G.char.prototype.healInjuries = function() {
					for (let i = this.perks.length - 1; i >= 0; i--) {
						if (this.perks[i].perk.injury) { this.lose(this.perks[i]); }
					}
				}
				G.char.prototype.isDisabled = function(isHard) {
					let count = 0;
					for (let i in this.perks) {
						if (this.perks[i].perk.disable && !isHard) { 
							let add = (this.perks[i].perk.countFunc?this.perks[i].perk.countFunc.call(this.perks[i], 'disable'):1);
							if (this.perks[i].perk.hard) { add *= 5; }
							count += add;
						}
						if (isHard && this.perks[i].perk.disable && this.perks[i].perk.hard) { count += (this.perks[i].perk.countFunc?this.perks[i].perk.countFunc('disable'):1); }
					}
					return count;
				}
				G.char.prototype.globalRestore = function() {
					//panacea pellet effect
					for (let i = this.perks.length - 1; i >= 0; i--) {
						if (!(this.perks[i].perk.disable || this.perks[i].perk.injury || this.perks[i].perk.ailment)) { continue; }
						this.lose(this.perks[i], true);
					}
				}
				G.char.prototype.isOut = function() {
					let count = 0;
					for (let i in this.perks) {
						if (this.perks[i].perk.out) { count += (this.perks[i].perk.countFunc?this.perks[i].perk.countFunc.call(this.perks[i], 'out'):1); }
					}
					return count;
				}
				G.char.prototype.isAiled = function() {
					let count = 0;
					for (let i in this.perks) {
						if (this.perks[i].perk.ailment) { count += (this.perks[i].perk.countFunc?this.perks[i].perk.countFunc.call(this.perks[i], 'ailment'):1); }
					}
					return count;
				}
				G.char.prototype.isInjured = function() {
					let count = 0;
					for (let i in this.perks) {
						if (this.perks[i].perk.injury) { count += (this.perks[i].perk.countFunc?this.perks[i].perk.countFunc.call(this.perks[i], 'injury'):1); }
					}
					return count;
				}
				G.char.prototype.isDead = function() {
					return this.has('dead');
				}
				G.char.prototype.getMiniIcon = function() {
					return `<img src="${this.pic}" class="pic intext" style="${(this.team.color?('border: '+this.team.color+' solid 1px;'):'')}" title="${this.name}"/>`;
				}
				G.char.prototype.revive = function(reason, by) {
					//console.log(this.name + ' has been revived!');
					for (let i = this.perks.length - 1; i >= 0; i--) {
						if (this.perks[i].perk.out || this.perks[i].perk.disable || this.perks[i].perk.injury || this.perks[i].perk.ailment) { this.lose(this.perks[i], true); }
					}
					this.lose('confirmed');
					this.gain('revived');
					if (reason) { this.reviveReason = reason; }
					if (by) { this.revivedBy = [].concat(by); } else { this.revivedBy = []; }
					if (this.combat) { this.combat.overseer.injectAngel(this.name); }
					G.revivedThisRound.push(this);
				}
				G.char.prototype.minimumRevive = function(reason, by) {
					//console.log(this.name + ' has been minimally revived!');
					this.lose('dead');
					this.lose('confirmed');
					this.gain('revived');
					if (reason) { this.reviveReason = reason; }
					if (by) { this.revivedBy = [].concat(by); } else { this.revivedBy = []; }
					if (this.combat) { this.combat.overseer.injectAngel(this.name); }
					G.revivedThisRound.push(this);
				}
				G.char.prototype.switchTeam = function(team) {
					this.team = team;
					if (this.combat) { this.combat.actingTeam = team; }
					G.cacheAllTeamDeathCounts();
				}
				G.char.prototype.adjust = function(chance, type) {
					if (!type) { type = 'overall'; }
					let additionalArgs = [];
					for (let i = 2; i < arguments.length; i++) {
						additionalArgs.push(arguments[i]);
					}
					return G.adjustFuncs[type].call(this, chance, ...additionalArgs);
				}
				G.adjustFuncs = {
					overall: function(c) {
						let pow = 1;
						if (this.has('bruised')) { pow += 0.1; }
						if (this.has('clumsy')) { pow += 0.25; }
						if (this.has('dazed')) { pow += 0.25; }
						if (this.has('dizzy')) { pow += 0.2; }
						if (this.has('crippled')) { pow += 0.35; }
						if (this.isDisabled(true)) { pow += 2; }
						pow += 0.1 * this.isDisabled();
						pow += 0.075 * this.isAiled();
						pow += 0.05 * this.isInjured();
						if (this.has('blind')) { pow += 0.7; }
						if (this.has('vulnerable')) { pow += 2; }
						if (this.has('weak')) { pow += 1; }

						if (this.has('bulky')) { pow *= 0.85; }
						if (this.has('survivalist')) { pow *= 0.85; }
						if (this.has('frenzied')) { pow *= 0.75; }
						if (this.has('alert')) { pow *= 0.75; }
						if (this.has('ninja')) { pow *= 0.95; }
						if (this.has('combat gear')) { pow *= 0.7; }
						if (this.has('knight armor')) { pow *= 0.8; }
						if (this.has('kevlar vest')) { pow *= 0.9; }
						if (this.has('ironskin')) { pow *= 0.7; }

						return 1 - Math.pow(1 - c, pow);
					}
				}
				G.char.prototype.kill = function(other,reason,accomplices)
				{
					if (other.die(reason))
					{
						this.gain('has killed');
						if (other.killer.indexOf(this)==-1) other.killer.push(this);
						if (this.kills.indexOf(other)==-1) this.kills.push(other);
						if (accomplices)
						{
							if (!Array.isArray(accomplices)) accomplices=[accomplices];
							for (var i in accomplices)
							{
								accomplices[i].gain('has killed');
								if (other.killer.indexOf(accomplices[i])==-1) other.killer.push(accomplices[i]);
								if (accomplices[i].kills.indexOf(other)==-1) accomplices[i].kills.push(other);
							}
						}
					}
				}
				G.char.prototype.leave=function()
				{
					if (this.team) {this.team.chars.splice(this.team.chars.indexOf(this),1);this.team=0;}
				}
				G.char.prototype.join=function(team)
				{
					if (this.team) this.leave();
					if (team) {this.team=team;team.chars.push(this);}
				}
			
			
			//convert team setup into actual members and teams
			//console.log(teams);
			for (var i in teams)
			{
				var base=teams[i];
				if (!base.teamless) { 
					base.name=STRCLN(l(base.l.id+'-name').value); 
					base.color=STRCLN(l(base.l.id+'-color').value);
					base.icon=STRCLN(l(base.l.id+'-teamIcon').value);
				} else { 
					base.name = 'NOTEAM'; 
					base.color = '';
					base.icon = '';
				}
				var members=[];
				for (var i in base.members)
				{
					var member=base.members[i];
					member.name=STRCLN(l(member.l.id+'-name').value);
					member.gender=INTCLN(parseInt(l(member.l.id+'-gender').options[l(member.l.id+'-gender').selectedIndex].value));
					member.tier=INTCLN(parseInt(l(member.l.id+'-tier').options[l(member.l.id+'-tier').selectedIndex].value));
					var val=STRCLN(member.pic);
					if (val.length<3) member.pic='defPic.jpg';
					else member.pic=val;
					var perks=[];
					var perkN=0;
					while (l(member.l.id+'-perk-'+perkN))
					{
						var el=l(member.l.id+'-perk-'+perkN);
						var perk=G.perks[el.options[el.selectedIndex].value];
						if (perk.name!='no perk' && perk.name!='no item' && (perk.type!='trait' || perks.indexOf(perk)==-1)) perks.push(new G.perkToken(perk, null));
						perkN++;
					}
					var me=new G.char({name:member.name,pic:member.pic,perks:perks,gender:member.gender,tier:member.tier});
					members.push(me);
					for (let i of me.perks) { i.owner = me; }
				}
				if (!base.teamless) new G.team({name:base.name,color:base.color,icon:base.icon,chars:members});
			}

			for (let i in G.chars) {
				let pointsSpent = 0;
				for (let ii in G.chars[i].perks) {
					if (typeof G.chars[i].perks[ii].perk.tier != 'undefined') { pointsSpent += G.chars[i].perks[ii].perk.tier; }
				}
				if (pointsSpent > 6) { console.log(G.chars[i].name+' has more than 6 points; actually has '+pointsSpent+' points worth of perks'); }
			}

			G.cacheAllTeamDeathCounts();

			document.addEventListener('keydown', function(e) { if (e.shiftKey && e.key.toLowerCase() == 'n' && !G.simulating) { G.nextRound(); } });
			
			G.acts=[];
			G.actsForced=[];
			G.actsOther=[];
			let FORCE=100;
			G.act=function(chance,people,text,func,reqFunc)
			{
				this.chance=chance;
				this.people=G.sanitizeInaction(people);
				this.text=text;
				this.func=func||0;
				this.reqFunc=reqFunc||0;
				this.uses=0;
				G.acts.push(this);
				if (this.chance==FORCE) G.actsForced.push(this);
				else G.actsOther.push(this);
			}
				G.getActUses=function()
				{
					var list=G.acts.slice(0);
					list.sort((a,b)=>a.uses-b.uses);
					console.log(list.map(me=>(me.uses+' : '+me.text)));
				}
				G.testVariableCond=function(val,cond)
				{
					//can handle val:1, val:<1, val:>1
					var op=cond.charAt(0);
					if (op=='<' || op=='>'){cond=cond.substr(1);}
					else op=0;
					cond=parseInt(cond);
					if (op=='>' && val>cond) return true;
					else if (op=='<' && val<cond) return true;
					else if (!op && val==cond) return true;
					else return false;
				}
				G.actReqKeywords = ['any', 'able', 'out', 'inTeam', 'noTeam', '-', '+', '=', 'every', 'ailed', 'injured', 'inCombat', 'delete', 'hidden', 'real'];
				G.getAliveCharsN = function() {
					let amount = 0;
					for (let i in G.chars) {
						if (!G.chars[i].isOut()) { amount++; }
					}
					return amount;
				}
				G.getDeadCharsN = function() {
					return G.chars.length - G.getAliveCharsN();
				}
				G.getNoTeamAliveCharsN = function () {
					let amount = 0;
					for (let i in G.chars) {
						if (!G.chars[i].team && !G.chars[i].isOut()) { amount++; }
					}
					return amount;
				}
				G.getNoTeamDeadCharsN = function() {
					let amount = 0;
					for (let i in G.chars) {
						if (!G.chars[i].team && G.chars[i].isOut()) { amount++; }
					}
					return amount;
				}

				G.charParseModules = {};
				G.charParseModule = function(key, func) {
					//stuff like [1:thing]
					this.func = func;
					this.key = key;
					G.charParseModules[key] = this;
				}
				G.charParseModule.prototype.parse = function(char) {
					return this.func.call(char, this);
				}
				//NOTE: to make it work will also have to put the gender into genderList
				G.pronouns = {};
				G.pronoun = function(key, p1, p2, p3, p4, p5, obj) {
					this.key = key;
					//p1 = they, p2 = them, p3 = their, p4 = themself, p5 = theirs
					this.p1 = p1;
					this.p1C = capitalize(p1);
					this.p2 = p2;
					this.p2C = capitalize(p2);
					this.p3 = p3;
					this.p3C = capitalize(p3);
					this.p4 = p4;
					this.p4C = capitalize(p4);
					this.p5 = p5;
					this.p5C = capitalize(p5);
					obj = obj??{};
					this.do = 'does';
					this.are = 'is';
					for (let i in obj) {
						this[i] = obj[i];
					}
					G.pronouns[key] = this;
				}
				new G.charParseModule('they', function() {
					return G.pronouns[this.gender].p1;
				});
				new G.charParseModule('them', function() {
					return G.pronouns[this.gender].p2;
				});
				new G.charParseModule('their', function() {
					return G.pronouns[this.gender].p3;
				});
				new G.charParseModule('themself', function() {
					return G.pronouns[this.gender].p4;
				});
				new G.charParseModule('theirs', function() {
					return G.pronouns[this.gender].p5;
				});
				new G.charParseModule('They', function() {
					return G.pronouns[this.gender].p1C;
				});
				new G.charParseModule('Them', function() {
					return G.pronouns[this.gender].p2C;
				});
				new G.charParseModule('Their', function() {
					return G.pronouns[this.gender].p3C;
				});
				new G.charParseModule('Themself', function() {
					return G.pronouns[this.gender].p4C;
				});
				new G.charParseModule('Theirs', function() {
					return G.pronouns[this.gender].p5C;
				});
				new G.pronoun(0, 'he', 'him', 'his', 'himself', 'his');
				new G.pronoun(1, 'she', 'her', 'her', 'herself', 'hers');
				new G.pronoun(2, 'they', 'them', 'their', 'themself', 'theirs', { do: 'do', are: 'are' });
				new G.pronoun(3, 'it', 'it', 'its', 'itself', 'its');
				//new G.pronoun(4, 'ze', 'zir', 'zir', 'zirself', 'zirs');
				new G.charParseModule('are', function() {
					return G.pronouns[this.gender].are;
				});
				new G.charParseModule('Are', function() {
					return capitalize(G.pronouns[this.gender].are);
				});
				new G.charParseModule('do', function() {
					return G.pronouns[this.gender].do;
				});
				new G.charParseModule('Do', function() {
					return capitalize(G.pronouns[this.gender].do);
				});
				new G.charParseModule('they are', function() {
					return G.charParseModules['they'].parse(this) + ' ' + G.charParseModules['are'].parse(this);
				});
				new G.charParseModule('They are', function() {
					return G.charParseModules['They'].parse(this) + ' ' + G.charParseModules['are'].parse(this);
				});

				//refactored TW's code to be much more sensible - CS
				let conditionTester = function(str, prevTeam, firstTeam) {
					//individual expressions, without AND or OR
					if (str == '') { return true; }
					if (!str) { return false; } 
					let chance = str.split('%')[1]; 
					let item = str.split('%')[0];
					let t = this.team?this.getTeam():this;
					let actualTrue = true;
					let actualFalse = false;
					if (item[0] == '!') { item = item.slice(1, item.length); }
					if (item[0] == '*') { actualTrue = !actualTrue; actualFalse = !actualFalse; item = item.slice(1, item.length); }
					if (chance) { if (!(Math.random() < chance)) { return actualFalse; } }
					if (item == 'team') { return cNegate(actualTrue, this.type == 'team'); }
					else if (G.actReqKeywords.includes(item) && this.type == 'char') {
						if (item == 'inCombat') { return cNegate(actualTrue, !this.combat); }
						if (item == 'able') { return cNegate(actualTrue, this.isDisabled()); }
						if (item == 'out') { return cNegate(actualTrue, !this.isOut()); }
						if (item == 'real') { return cNegate(actualTrue, !this.real); }
						if (item == 'any') { return cNegate(actualTrue, this.isOut()); } 
						if (item == 'inTeam') { return cNegate(actualTrue, !t); }
						if (item == 'noTeam') { return cNegate(actualTrue, t); }
						if (item == '-') { return cNegate(actualTrue, (t === prevTeam && t != 0)); }
						if (item == '+') { return cNegate(actualTrue, (!(t === prevTeam) && t != 0)); }
						if (item == '=') { return cNegate(actualTrue, !(t === firstTeam && t != 0)); }
						if (item == 'ailed') { return cNegate(actualTrue, !this.isAiled()); }
						if (item == 'injured') { return cNegate(actualTrue, !this.isInjured()); }
						if (item == 'every') { return actualTrue; }
						if (item == 'delete' || item == 'hidden') { return actualTrue; }
						throw 'Special keyword not found!';
					}
					if (item.includes(':')) {
						let amount = item.split(':')[1];
						let key = item.split(':')[0];
						if (key == 'members') { 
							if (t) { return cNegate(actualFalse, G.testVariableCond(t.chars.length, amount)); }
							else if (this.type == 'team') { return cNegate(actualFalse, G.testVariableCond(this.chars.length, amount)); } 
							else { return actualFalse; }
						}
						if (key == 'alive') {
							return cNegate(actualFalse, G.testVariableCond(G.getAliveCharsN(), amount));
						}
						if (key == 'unalive') {
							return cNegate(actualFalse, G.testVariableCond(G.getDeadCharsN(), amount));
						}
						if (key == 'deaths') {
							return cNegate(actualFalse, G.testVariableCond(G.deaths, amount));
						}
						if (key == 'teamalive') {
							if (t) { return cNegate(actualFalse, G.testVariableCond(t.charsAlive, amount)); }
							else if (this.type == 'team') { return cNegate(actualFalse, G.testVariableCond(this.charsAlive, amount)); }
							else { return actualFalse; }
						}
						if (key == 'teamdeaths') {
							if (t) { return cNegate(actualFalse, G.testVariableCond(t.charsDead, amount)); }
							else if (this.type == 'team') { return cNegate(actualFalse, G.testVariableCond(this.charsDead, amount)); }
							else { return actualFalse; }
						}
						if (key == 'w') {
							return cNegate(actualFalse, G.weatherSettings.current == amount);
						}
						if (key == 'func') {
							const toPass = amount.split('#')[1];
							return cNegate(actualFalse, (Math.random() < G.fitFuncs[amount.split('#')[0]].call(this, toPass)));
						}
						throw 'Special variable keyword not found!';
					} 
					//finally, perks
					if (this.type == 'team') { return actualFalse; }
					item = item.replaceAll('_', ' ');
					if (!G.perksBN[item]) { throw '"'+item+'" is not a valid perk!'; }
					
					//if (!G.perksBN[item].disable && this.isDisabled()) { return actualFalse; }
					//if (!G.perksBN[item].out && this.isOut()) { return actualFalse; }
					if (this.has(item)) { return actualTrue; } else { return actualFalse; }
				}
				G.char.prototype.testCond = conditionTester;
				G.team.prototype.testCond = conditionTester;
				G.act.prototype.checkSelf = function(me, toMatch, lastSelected, interactMin) {
					let prevTeam = lastSelected || 0;
					let firstTeam = me.team;
					toMatch = toMatch || deepArrCopy(this.people)[0];
					let req = toMatch.split(' ');
					for (let i in req) {
						req[i] = req[i].split('|');
					} 
					let fitANDMe = true;
					for (let i in req) {
						let fitORMe = false;
						let neg = false;
						if (req[i][0][0] == '!') {
							neg = true;
						}
						for (let ii in req[i]) {
							if (me.testCond(req[i][ii], prevTeam, firstTeam)) { fitORMe = true; break; }
						} 
						if (fitORMe && neg) { fitORMe = false; } else if (!fitORMe && neg) { fitORMe = true; }
						if (!fitORMe) { fitANDMe = false; break; }
					} 
					if (fitANDMe) {
						return true;
					} else {
						return false;
					}
				}
				G.act.prototype.fit = function(me, toMatch, lastSelected, interactMin, forcePool)
				{
					/*
						returns one or more people/team who fit the given conditions
						the "me" parameter specifies which person/team the first condition must match
						- optimization: this now assumes that the first condition already matches, check for first condition elsewhere using G.act.prototype.checkSelf
						ie. ['shotgun lunatic','- meek'] will return a person with the "shotgun" and "lunatic" perks specified by me, and a person who is "meek" and on a different team
						syntax :
	  						' '
		 						> AND operator, put expressions to the left and right to signify that both must be met
		 					'|'
								> OR operator, put expressions go the left and right to signify that at least one must be met
							'!'
	   							> AND-level NOT operator, put before the entire OR statement chain (e.x. !perk_name|other_perk for not having either)
		   					'*'
		  						> Local level NOT operator, put before individual perks
							'perk_name'
								> must have the perk
							'perk_name|other_perk|third_perk'
								> must have either of those perks
							'team'
								> must be a team (otherwise must be a person)
							'members:3' 'members:<3' 'members:>3'
								> team must have the specified amount of members
							'alive:3' 'alive:<3' 'alive:>3'
								> this many people must be alive
							'unalive:3' 'unalive:<3' 'unalive:>3'
								> this many people must be dead
							'deaths:3' 'deaths:<3' 'deaths:>3'
								> this many deaths must have happened
							'teamalive:3' 'teamalive:<3' 'teamalive:>3'
								> this many in the team must be dead
							'teamdeaths:3' 'teamdeaths:<3' 'teamdeaths:>3'
								> this many in the team must be dead
							'w:cloudy'
								> weather must be this
							'+'
								> must be the same team as the previous team/person selected (separated to others via AND)
							'='
       							> must be the same team as the initial team/person ("char") selected
							'-'
								> must be a different team
							'inTeam'
								> must be in a team
							'noTeam'
								> must not be in a team
							'!out'
								> must not have a perk marked .out (dead, sheep, comatose etc)
							'!able'
								> must have a perk marked .disable (trapped, shell-shocked etc)
		`					'ailed'
  								> must have a perk marked .ailment
		  					'injured'
		 						> must have a perk marked .injury
							'any'
								> can be abled or disabled (still doesn't accept out)
							'every'
       							> matches everyone 
	       					'delete' 
	      						> removes the character from the output; must be put at the front as an independent term (use percent sign to make it probabilistic)
			 				'hidden'
								> does not output the character, but a matching character must still exist for it to consider the output valid, and it counts toward + and -; must be put at the front and is mutually exclusive with "delete"; does not support percent signs
							'real'
	   							> matches real (characters initialized at the beginning of the game) characters only; put a "real" anywhere to make the fit check check all characters
		   					'func:function_name#argument'
		  						> will call the function with the same key in G.fitFuncs and use its results as the chance for this to be true; "this" in the function is set to the actor that it is placed in, and argument is passed in (does not support multiple, always passes a string)
			   				put '%N' after any perk to signify a chance for that to be true, where N is the chance
					*/
					let bigReq = null;
					if (toMatch) { bigReq = deepArrCopy(toMatch); } else { bigReq = deepArrCopy(this.people); }

					if (!interactMin && interactMin != 0) { interactMin = bigReq.length - 1; }

					if (!me instanceof G.char) { console.log(me); throw 'The above is not an instance of char!'; }
					
					let selected = [me];
					
					let prevTeam = me.team;
					let firstTeam = me.team;

					if (lastSelected) { prevTeam = lastSelected.team; }
					//previous check self code here
					for (let i=1;i<bigReq.length;i++)
					{
						//i is each person in the req
						let pool=[];
						req = bigReq[i];
						if (!forcePool) {
							if (req.includes('team')) { pool = deepArrCopy(G.teams); }
							else { pool = deepArrCopy(G.chars); }
						} else {
							pool = forcePool;
						}

						req = req.split(' '); //req now describes all statements separated by AND
						let hidden = false;
						let skip = false;
						for (let ii in req) {
							if (req[ii].indexOf('delete') == 0) {
								if (req[ii] == 'delete') { skip = true; continue; }
								let chance = parseFloat(req[ii].split('%')[1]);
								if (Math.random() < chance) { skip = true; continue; }
							}
							if (req[ii].indexOf('hidden') == 0) {
								hidden = true;
							}
							req[ii] = req[ii].split('|'); //req is now a nested array, with layer one being AND and layer two being OR
						}
						if (skip) { continue; }

						pool=shuffle(pool);
						
						let found=false;
						for (let ii = 0; ii < pool.length; ii++) {
							//ii is iteration over all chars and teams to try match ("it")
							let it=pool[ii];
							if (selected.includes(it)) { continue; }
							let fitAND = true;
							for (let iii in req) {
								let fitOR = false;
								let neg = false;
								if (req[iii][0][0] == '!') {
									neg = true;
								}
								for (let iiii in req[iii]) {
									if (it.testCond(req[iii][iiii], prevTeam, firstTeam)) { fitOR = true; break; }
								}
								if (fitOR && neg) { fitOR = false; } else if (!fitOR && neg) { fitOR = true; }
								if (!fitOR) { fitAND = false; break; }
							}
							
							if (fitAND)
							{
								if (!hidden) { selected.push(it); }
								pool.splice(pool.indexOf(it), 1);
								prevTeam=it.team;
								found=it;
								break;
							}
						}
						if (!found && i <= interactMin) { return false; }
					}
					//if (selected.length!=bigReq.length) { console.log('selected length is not equal to req length!'); return false; }
					return selected;
				}
			G.sanitizeInaction = function(req, fitForCombat) {
				if (!req || req.length == 0) { return [(fitForCombat?'':'!inCombat ')+'!out able']; }
				for (let i = 0; i < req.length; i++) {
					let hasDisable = false;
					let hasOut = false;
					let hasReal = !!i; //skips sanitizing reals past the me check
					if (req[i].includes('able') || req[i].includes('any')) { hasDisable = true; }
					if (req[i].includes('out')) { hasOut = true; }
					if (req[i].includes('real')) { hasReal = true; }
					if (req[i].includes('every')) { hasDisable = true; hasOut = true; }
					for (let ii in G.perks) {
						if (G.perks[ii].disable && req[i].includes(G.perks[ii].name.toLowerCase().replaceAll(' ', '_'))) { hasDisable = true; }
						if (G.perks[ii].out && req[i].includes(G.perks[ii].name.toLowerCase().replaceAll(' ', '_'))) { hasOut = true; }
						if (G.perks[ii].identificator && req[i].includes(G.perks[ii].name.toLowerCase().replaceAll(' ', '_'))) { hasReal = true; }
					}
					if (!hasReal) { req[i] = 'real '+req[i]; }
					if (!hasDisable) { req[i] = 'able '+req[i]; }
					if (!hasOut) { req[i] = '!out '+req[i]; }
					if (!req[i].includes('inCombat') && !fitForCombat) { req[i] = '!inCombat '+req[i]; }
				}
				return req;
			}

			G.fitFuncs = {};

			var importGlobMult = 1;
			
			//NOTE : the first person or team in an act counts as its main actor; they cannot be the main actor of another act in the same round
			
			/*
			new G.act(FORCE,['team members:1','+'],`[2] sees no point in being the only member in [1] and dissolves it.`,p=>{p[1].dissolve();});
			*/

			new G.charParseModule('smallItem', function() {
				//[a cheeseburger|a bag of kale chips|a nice hunk of cheese|a garden salad|some grilled fish|a delicious steak|a tall glass of milk|some cookies|a birthday cake|some trail mix|a popsicle|some pizza|a chicken dinner|some fried chicken|some yogurt|a really cool shirt|a new hat|a bag of chips|some candy|some marshmallows|some comic books|a rubber ducky]
				return choose(['a cheeseburger', 'a bag of kale chips', 'a nice hunk of cheese']);
				//unfinished, wacky idea
				//perhaps can instead pull randomly based on items on characters?
			});
			
			//trait-related idling
			new G.act(1,['any|any'],`[1] [hums a song to [1:themself]|twiddles [1:their] thumbs|thinks about what [1:they] did to end up here|wonders about the future|has a horrible feeling in [1:their] [chest|gut]|stares into the distance].`);
			new G.act(1,['leader','+ team teamalive:>2'],`[1] [hopes to get everyone out of here|tries to keep a brave face on for everyone's sake].`);
				new G.act(0.5,['leader','+ leader|devious|stubborn|any%0.2 !kind|peaceful|naive'],`[1] and [2] get into an argument over who should be in charge.`);
				new G.act(0.5,['leader !sociopath','+ team teamalive:>2 teamdeaths:0'],`[1] is proud to lead [2].`);
				new G.act(0.5,['leader !sociopath','+ team teamalive:>2 teamdeaths:>0'],`[1] made some mistakes as a leader, but wants to do right by [2].`);
				new G.act(0.5,['leader|any%0.2 !sociopath','+ team teamdeaths:>1'],`[1] feels horrible for failing [2]...`);
				new G.act(0.5,['leader naive|cowardly%0.5|any%0.2 !sociopath%0.5|analytical%0.5','+ team teamdeaths:0'],`[1] wants to lead [2] to victory, but isn't sure how to proceed...`);
				new G.act(0.5,['leader devious|sociopath','+ team teamalive:>1'],`[1] sees [2] as a bunch of chumps to be milked.`);
			new G.act(1,['peaceful'],`[1] [doesn't feel prepared for any of this|hopes [1:g|he doesn't|she doesn't|they don't|it doesn\'t] have to harm anyone].`);
				new G.act(0.5,['peaceful%0.5|kind%0.5|naive%0.5|medic%0.5|any%0.5 !sociopath|survivalist%0.5','+ peaceful'],`[1] seems to find [2]'s presence soothing.`);
			new G.act(1,['sociopath deaths:>0'],`[1] [seems unshaken by any of this|is only looking out for [1:themself]].`);
			new G.act(1,['kind teamalive:>1'],`[1] [just wants to be helpful|is ready to defend [1:their] friends].`);
				new G.act(0.5,['kind|naive|peaceful|any%0.5 !sociopath|devious%0.5|survivalist%0.5','+ kind|medic%0.5|any%0.2'],`[1] thanks [2] for being there for [1:them].`);
				new G.act(0.5,['kind','+ cute'],`[1] [can't stop fawning over [2]...|wants to protect [2]!]`);
				new G.act(0.5,['kind|medic%0.5|any%0.2 !sociopath|survivalist%0.5','+ shell-shocked'],`[[1] tries to cheer [2] up, but it's not really working...|[1] is really worried about [2]...|[1] doesn't know how to cheer [2] up...]`);
			new G.act(1,['unstable'],`[1] [looks on the verge of snapping|twitches uncontrollably].`);
			new G.act(1,['bulky'],`[1] [sizes [1:their] muscles|feels strong enough to handle anything].`);
			new G.act(1,['meek'],`[1] [wants this to be over already|wishes [1:they] could go home].`);
				new G.act(0.5,['meek','+ bulky|leader|any%0.2'],`[1] is glad [1:they] can rely on [2].`);
			new G.act(1,['naive'],`[1] [doesn't really understand what's happening|fails to grasp the gravity of the situation].`);
				new G.act(0.5,['kind|naive|artist|clumsy%0.5|any%0.2 !sociopath|devious%0.5|survivalist%0.5','+ kind|naive|cute|artist|any%0.2 !sociopath|devious%0.5|survivalist%0.5'],`[1] and [2]'s fingers touch by accident.<br>They both blush a little bit...`);
				new G.act(0.5,['naive !leader','+ leader|any%0.2'],`[1] admires [2]'s [leadership|confidence|decisiveness].`);
				new G.act(0.5,['naive !bulky','+ bulky'],`[1] admires [2]'s [muscles|strength].`);
				new G.act(0.5,['naive alive:1'],`[1] looks around. Where did everybody go?`);
			new G.act(1,['devious alive:>1'],`[1] [is looking for an easy out|looks for someone dumb enough to believe [1:them]].`);
				//new G.act(0.5,['!devious|sociopath|analytical|cowardly|any%0.2 !naive','+ devious'],`[1] does [1:their] best to avoid [2].`);
			new G.act(1,['seductive alive:>1'],`[1] [doesn't care much for this place|tries to get others to notice [1:them]].`);
				new G.act(0.5,['seductive alive:1'],`There's nobody left to notice [1]...`);
				new G.act(0.5,['','+ seductive'],`[1] can't take [1:their] eyes off [2]...`);
				new G.act(0.5,['seductive','+ naive'],`[1] whispers some things in [2]'s ear, but [2] is a bit too innocent to understand.`);
				new G.act(0.5,['seductive','+ rich|analytical|artist%0.5|any%0.2 !naive'],`[1] hits on [2], but [2] finds it suspicious...`);
			new G.act(1,['suicidal'],`[1] [wishes [1:g|he was|she was|they were|it was] dead|longs for death].`);
			new G.act(1,['cute'],`[1] [is being adorable as always|does something really cute].`);
			new G.act(1,['annoying teamalive:>1'],`[1] [rambles on about something nobody cares about|keeps trying to tell a joke, but it always falls flat].`);
				new G.act(0.5,['annoying','+ annoying|artist%0.5'],`[[1] is glad to have someone like [2] [to tell really bad puns to|to have boring conversations with].|[1] and [2] giggle like idiots. Better not ask.]`);
			new G.act(1,['scrappy'],`[1] [looks around for stuff to scrounge|spots something shiny in the distance].`);
			new G.act(1,['survivalist deaths:0'],`[1] [came prepared|could get used to this place].`);
				new G.act(1,['survivalist|stubborn%0.5|any%0.2 !naive|suicidal deaths:>0'],`[1] [is determined to survive this|won't die like the others|won't give up so easily].`);
			new G.act(1,['rich'],`[1] [feels protected by [1:their] wealth|finds all this below his concern].`);
			new G.act(1,['inventor'],`[1] [is thinking of plans to get out of here|is cooking up a genius idea].`);
				new G.act(0.5,['inventor|any%0.2','+ scrappy|any%0.2'],`[1] asks [2] if [2:g|he's|she's|they've|it has] found anything useful.`);
			new G.act(1,['goth'],`[1] [mopes around uselessly|thinks of a dark, dark poem].`);
			new G.act(1,['lunatic'],`[1] [isn't sure whether to cry, laugh, or tear [1:their] hair out|is looking particularly erratic today].`);
			// New traits -TW
			new G.act(1,['medic'],`[1] [takes stock of any possible first aid supplies|checks their own health].`);
				new G.act(0.5,['medic|kind%0.5|any%0.2 !sociopath','+ team teamalive:>2'],`[1] checks [1:their] team's [health|injuries|medical supplies].`);
			new G.act(1,['marksmen !handgun%0.5|shotgun%0.5|lasergun%0.5'],`[1] keeps [1:their] eyes open [to [1:their] surroundings|for danger|for anything unexpected|for a firearm to use].`);
				new G.act(0.5,['marksmen|any%0.2 handgun|shotgun|lasergun !peaceful|naive%0.5 '],`[1] [aims down the sights of|cleans|performs maintenance on|practices with] [1:their] gun.`);
			new G.act(1,['animal_ken|peaceful%0.2'],`[1] [feeds|dances with|encounters|plays with] a wild [squirrel|mouse|bird|deer|animal] in the [woods|forest|field|grass|night] peacefully.`);
			new G.act(1,['ninja'],`[1] [practices|shows off|performs some] [hardcore parkour|throwing techniques|hiding in plain sight|sick ninja skills].`);
			new G.act(1,['stubborn'],`[1] is ready to [fearlessly |stubbornly | ][ignore|face|handle|endure] [the cold|any struggle|danger|[1:their] fear].`);
			new G.act(1,['analytical'],`[1] [plans ahead|begins drafting plans|analyzes the situation|begins overthinking the sitution|considers all the variables ahead].`);
			new G.act(1,['artist'],`[1] creates a [sketch|drawing|picture|character] [in [1:their] spare time|while bored|to distract [1:themself]].`);
			new G.act(1,['pyromania'],`[1] really wants to [burn something|light a fire|create some sparks|warm up somewhere safe].`);
			new G.act(1,['cowardly'],`[1] is afraid of [what's next|the dark|a sound [1:they] heard|possible dangers|everything..].`);
			new G.act(1,['clumsy'],`[1] [stumbles|trips|drops something] but [nothing serious happens|[1:they] will be fine].`);
			new G.act(1,['glasses !blind'],`[1] [cleans|wipes off|checks|adjusts|defogs] [1:their] glasses so [1:they] can see better.`);
				new G.act(0.33,['glasses pyromania|survivalist%0.5|any%0.2 !blind|naive%0.5|clumsy%0.5'],`[1] starts a fire with their glasses for [warmth|heat|cooking|fun]`);
				new G.act(0.33,['glasses clumsy|any%0.2 !blind|survivalist%0.5'],`[1] drops [1:their] glasses and spends [a minute|a few minutes|an hour] to find them again.`);
				new G.act(0.33,['glasses sociopath|devious%0.5|inventor%0.5|analytical%0.5|any%0.2','+ cowardly|any%0.5 !sociopath%0.5|survivalist%0.5'],`[2] gets uncomfortable after noticing [1]'s glasses glint when [1:they] plan, spooky.`);
			new G.act(1,['the_gift'],`[1] [practices creating [fire|lights|strange sounds] with [1:their] gift|is feeling particularly empowered today|worries about losing [1:their] magical powers].`);
			
			new G.act(1,['survivalist|sociopath|stubborn alive:1 unalive:>0'],`[1] [always knew [1:they]'d be the last to survive|made it out alive, it seems].`);
			new G.act(1,['devious alive:1 unalive:>0'],`[1] is glad [1:they] made it out alive.`);
			new G.act(1,['!survivalist|sociopath|devious alive:1 unalive:>0'],`[Dead... they're all dead...|[1] stares into the distance... Was it really worth it?|[1] survived... but at what price?]`);
			new G.act(1,['alive:1 unalive:0'],`[1] is all by [1:themself].`);
			new G.act(1,['alive:1'],`[1] [screams at nobody in particular|hums to [1:themself]|wishes [1:they] had someone to talk to|].`);
			new G.act(2,['determined|any%0.2 leader inTeam'],`[1] is determined to lead [1:their] team to victory, whatever the cost may be.`);
			
			//item-related idling
            //Halved the idle-chance to compensate for additional items -TW
			new G.act(0.5,['big_stick !naive|peaceful|cowardly alive:>1'],`[1] waves [1:their] big stick around menacingly.`);
			new G.act(0.5,['pitchfork !peaceful'],`[1] wonders how far [1:they] could throw [1:their] pitchfork.`);
			new G.act(0.5,['sword !peaceful'],`[1] swooshes the air with [1:their] sword.`);
			new G.act(0.5,['axe !naive|peaceful'],`[1] is ready to use [1:their] axe if [1:g|he has|she has|they have|it has] to.`);
			new G.act(0.5,['handgun !peaceful|suicidal%0.5'],`[1] aims [1:their] handgun in the distance.`);
				new G.act(0.25,['handgun suicidal'],`[1] looks at the end of [1:their] handgun, then puts it to [1:their] head. Yeah... that oughta do it.`);
			new G.act(0.5,['shotgun !naive|peaceful|suicidal%0.5'],`[1] reloads [1:their] shotgun, just in case.`);
				new G.act(0.25,['shotgun suicidal'],`[1] looks at the end of [1:their] shotgun, then puts it to [1:their] head. Yeah... that oughta do it.`);
			new G.act(0.5,['grenade !peaceful'],`[1] juggles a bit with [1:their] grenade, kind of wanting to use it...`);
			new G.act(0.5,['rocket_launcher !peaceful'],`[1] loves the way [1:their] rocket launcher feels on [1:their] shoulder.`);
			new G.act(0.5,['slingshot !naive|peaceful'],`[1] gathers ammo for [1:their] slingshot.`);
			new G.act(0.5,['bow !naive|peaceful'],`[1] practices pulling [1:their] bow's string back.`);
			new G.act(0.5,['flamethrower !peaceful'],`[1] really wants to use [1:their] flamethrower...`);
				new G.act(0.25,['flamethrower pyromania|unstable%0.2|any%0.2 !peaceful%0.5|survivalist%0.2'],`[1] sets random stuff on fire with their awesome flamethrower!`);
			new G.act(0.5,['lasergun !peaceful'],`[1] feels unstoppable with [1:their] lasergun.`);
			new G.act(0.5,['magic_wand'],`[1] waves [1:their] magic wand around, sending sparkles everywhere.`);
			new G.act(0.5,['ancient_scepter'],`[1] polishes [1:their] ancient scepter, making the magic orb shine.`);
			
			new G.act(1,['pet_wolf animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[[1] pets [1:their] pet wolf to soothe him.|[1]'s pet wolf licks [1:their] [ear|cheek|face]!|[1] teaches [1:their] pet wolf a trick.|[1]'s pet wolf growls contentedly.]`);
				new G.act(0.01,['dead pet_wolf !nihil'],`[1]'s pet wolf lets out a sad howl...`);
				new G.act(0.25,['pet_wolf alive:1'],`[1]'s pet wolf is all [1:g|he has|she has|they have|it has] left in the world.`);
			new G.act(1,['pet_tiger animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[[1] scratches [1:their] pet tiger's neck. That's a good tiger.|[1]'s pet tiger pounces on [1:them] playfully.|[1] plays fetch with [1:their] pet tiger.|[1]'s pet tiger purrs softly.]`);
				new G.act(0.01,['dead pet_tiger !nihil'],`[1]'s pet tiger rests by her owner's body.`);
				new G.act(0.25,['pet_tiger alive:1'],`[1]'s pet tiger is all [1:g|he has|she has|they have|it has] left in the world.`);
			new G.act(1,['pet_turtle animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[[1] rests again [1:their] pet turtle's flank.|[1] feeds [1:their] pet turtle some lettuce.|[1] watches [1:their] pet turtle ambling around.|[1]'s pet turtle does a really impressive trick.]`);
				new G.act(0.01,['dead pet_turtle !nihil'],`[1]'s pet turtle is looking for her owner, but can't find [1:them]...`);
				new G.act(0.25,['pet_turtle alive:1'],`[1]'s pet turtle is all [1:g|he has|she has|they have|it has] left in the world.`);
			
			new G.act(0.5,['wish_ring'],`[1] ponders about how best to use [1:their] wish ring.`);
				new G.act(0.2,['wish_ring'],`[1] wishes for [a cheeseburger|a bag of kale chips|a nice hunk of cheese|a garden salad|some grilled fish|a delicious steak|a tall glass of milk|some cookies|a birthday cake|some trail mix|a popsicle|some pizza|a chicken dinner|some fried chicken|some yogurt|a really cool shirt|a new hat|a bag of chips|some candy|some marshmallows|some comic books|a rubber ducky]...<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and [1:their] wish materializes in front of [1:them].`);
				new G.act(0.15,['wish_ring'],`[1] wishes for [a longer nose|a shorter nose|bigger ears|really cool facial hair|really nice eyebrows|an interesting accent]...<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second before answering [1:their] wish.`);
				new G.act(0.15,['annoying%0.5|naive%0.5|any%0.5 !survivalist%0.8|kind%0.5 wish_ring','+'],`[1] wishes for [2] to have [a longer nose|a shorter nose|bigger ears|really cool facial hair|really nice eyebrows|an interesting accent]...<br>Much to [2]'s surprise, [1]'s wish ring seems happy to comply.`);
			
			new G.act(0.5,['leather_scraps'],`[1] wearing leather scraps is a sight to behold.`);
			new G.act(0.5,['bikini'],`[1] [is very proud of|flaunts|looks really good in] [1:their] bikini.`);
				new G.act(0.5,['bikini seductive|cute%0.5|any%0.2','+'],`Everybody is staring at [1] in [1:their] bikini...`);
				new G.act(0.5,['','+ bikini seductive|cute%0.5|any%0.2'],`[1] gets distracted staring at [2]'s bikini.`);
			new G.act(0.5,['dapper_suit'],`[1] [is very proud of|acts cool in|looks amazing in] [1:their] dapper suit.`);
				new G.act(0.25,['has_killed dapper_suit'],`[1] washes the blood off of [1:their] dapper suit.`);
			new G.act(0.5,['knight_armor'],`[1] [looks glorious in|stands proudly in|is ready to cleave some invaders in] [1:their] knight armor.`);
				new G.act(0.25,['has_killed knight_armor'],`[1] washes the blood off of [1:their] knight armor.`);
			new G.act(0.5,['combat_gear'],`[1] [looks menacing in|is looking downright tactical in|practices some strategic moves in] [1:their] combat gear.`);
				new G.act(0.25,['has_killed combat_gear'],`[1] washes the blood off of [1:their] combat gear.`);
			new G.act(0.5,['wizard_robe'],`[1] [shakes [1:their] wizard sleeves, and a thousand tiny animals fall out|sneezes from all the sparkles coming out of [1:their] wizard robe, making [1:them] levitate for a few seconds|is looking magical today].`);
				new G.act(0.25,['has_killed wizard_robe'],`[1] washes the blood off of [1:their] wizard robe.`);
            
            // Additional Item idling -TW
			new G.act(0.5,['shuriken !peaceful|ninja%0.5|clumsy%0.5|marksmen%0.2'],`[1] tosses a few of [1:their] [knives|shuriken] at a [tree|wall|target] for practice.`);
				new G.act(0.25,['shuriken ninja|marksmen%0.5 !clumsy%0.5|meek%0.2'],`[1] [juggles|practices with] [1:their] [knives|shuriken] with [expert|true|keen] [skill|finesse].`);
				new G.act(0.25,['shuriken clumsy|meek%0.2|any%0.2 !ninja|marksmen|peaceful%0.5'],`[1] [juggles|practices with] [1:their] [knives|shuriken] and nearly cuts [1:themself] after dropping them all!`);
            new G.act(0.5,['lucky_coin'],`[1] flips [1:their] lucky coin, it lands on [heads|heads|heads|tails|tails|tails|its side]. [Ominous.|Just as [1:they] called it.|What could it mean?]`);
            new G.act(0.5,['cursed_knife !goth%0.5|lunatic%0.5'],`[[1] feels compelled to use [1:their] knife...|[1] is hearing strange whispers.|[1] tries to toss [1:their] knife away, but finds it in [1:their] supplies again.]`);
                new G.act(0.25,['cursed_knife goth|lunatic|analytical%0.2'],`[1] has a long conversation with [1:their] knife about the nature of the universe.`);
            new G.act(0.5,['random_orb'],`[1] ponders their orb, as it flashes between a myriad of possible other things.`);
            new G.act(0.5,['pet_hawk animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[1] [catches mice with|practices tricks with|scouts ahead with|pets] [1:their] pet hawk.`);
				new G.act(0.01,['dead pet_hawk !nihil'],`[1]'s pet hawk perches atop her owner's unmoving body.`);
				new G.act(0.2,['pet_hawk alive:1'],`[1]'s pet tiger is all [1:g|he has|she has|they have|it has] left in the world.`);
            new G.act(0.5,['pet_rock naive|animal_ken%0.5|peaceful%0.5|annoying%0.5|any%0.5'],`[1] [paints a new look for|practices tricks with|plays fetch with|murmurs sweet nothings to] [1:their] pet rock.`);
				new G.act(0.01,['dead pet_rock !nihil'],`[1]'s pet rock sits beside [1:g|his|her|their|its] cold body.`);
				new G.act(0.2,['pet_rock alive:1'],`[1]'s pet rock is all [1:g|he has|she has|they have|it has] left in the world.`);
                new G.act(0.25,['pet_rock annoying|cute%0.5|naive%0.5|any%0.2','+ team teamalive:>1'],`[1] keeps showing everyone [1:their] rock's neat tricks. [Stay!|Sleep!|Roll over!]`);
            new G.act(0.5,['parka'],`[1] feels quite comfortable in the [heat|cold|wind|rain] thanks to [1:their] handy parka.`);
				new G.act(0.25,['has_killed parka'],`[1] washes the blood off of [1:their] parka.`);
            new G.act(0.5,['kevlar_vest'],`[1] [wonders if|considers] getting shot in [1:their] vest will still hurt.`);
				new G.act(0.25,['has_killed kevlar_vest'],`[1] washes the blood off of [1:their] kevlar vest.`);
            new G.act(0.5,['kite_shield'],`[1] feels [heroic|safe|tired] carrying around [1:their] kite shield.`);
            new G.act(0.5,['riot_shield !peaceful%0.5|meek%0.2'],`[1] practices combat drills with [1:their] modern riot shield.`);
			new G.act(0.5,['medicine medic|peaceful%0.5|kind%0.5|any%0.5 !sociopath%0.5|clumsy%0.5|suicidal%0.5'],`[1] [counts|tries to figure out|takes stock of] how much of [1:their] medicine is left.`);
				new G.act(0.25,['medicine clumsy|meek%0.5|naive%0.5|any%0.2 !medic|survivalist%0.5|analytical%0.5|ninja%0.5'],`[1] checks on how much medicine is left, only to [spill|drop|lose] some [shakily|when [1:they] trip|by accident], oops...`);
				new G.act(0.25,['medicine suicidal'],`[1] shakes the bottle of medicine. Would it be enough...?`);
				new G.act(0.25,['medicine pitchfork|sword|axe|cursed_knife|shuriken|bow sociopath|devious|survivalist|ninja|medic%0.5 !kind|peaceful|naive'],`[1] considers using the medicine as a poison for [1:their] weapon...`);
			new G.act(0.5,['first_aid_kit medic|peaceful%0.5|kind%0.5|any%0.5 !sociopath%0.5|suicidal%0.5'],`[1] sorts all the bandages, gauze, and [materials|supplies|ointment|salves] in [1:their] kit, making sure it's all still [clean|sterile|ready].`);
			new G.act(0.5,['tourniquet medic|peaceful%0.5|kind%0.5|any%0.5 !sociopath%0.5|cowardly%0.5|naive%0.5'],`[1] straps and unstraps the tourniquet. Hopefully [1] never needs to use this...`);
				new G.act(0.25,['tourniquet cowardly|any%0.2 !medic%0.5|sociopath%0.5|naive%0.5|survivalist%0.2|analytical%0.2'],`[1] is terrified of losing a limb to [1:their] tourniquet`);
			new G.act(0.5,['AED medic|peaceful%0.5|kind%0.5|analytical%0.5|any%0.5 !sociopath%0.5|naive%0.5'],`[1] takes out [1:their] AED [for practice drills|to make sure the batteries still work].`);
            new G.act(0.2,['scrap_metal'],`[1] wonders what they could do with all [1:their] shiny bits of metal.`);
            new G.act(0.2,['gun_parts !peaceful|naive|inventor%0.5|marksmen%0.5'],`[1] tries piecing together their gun parts but hasn't figured it out yet.`);
            new G.act(0.2,['magic_dust artist|cute%0.5|naive%0.5|any%0.5 !goth|survivalist|analytical%0.5|inventor%0.5'],`[1] decorates some stuff with their magic dust.<br>The sparkles will never come out of that now.`);
				new G.act(0.1,['magic_dust analytical|inventor|any%0.2 !naive'],`[1] tries to study [1:their] magic dust [with reason|scientifically|carefully] but its [properties|colors|effects] keep changing`);
			new G.act(0.2,['roll_of_fabric artist|cute%0.5|any%0.5'],`[1] [wraps [1:themself] in|cuts pieces out of|considers what to make with] [1:their] fabrics.`);
			// Weather Idling - CS
			const weatherIdlingMult = 2.5;
			new G.act(1.5*weatherIdlingMult,['w:sunny any'],`[1] [stares at the [blazing |shining |overhead |]sun[, almost blinding [1:themself]|]|enjoys the sunlight [bathing|coating] [1:them] in warmth|wishes that this period of gentle weather would last|[despises|hates|dislikes] the uncomfortable [thick, heated air|intense lights|blazing heat[, like a sauna|||]]|rests below the sun|is sunbathing[ naked| barely clothed| face down| face down| face down| smiling| smiling|||]].`);
			new G.act(1*weatherIdlingMult,['w:rainy any'],`[1] [feels the raindrops landing on [1:their] [face|hair|hands], and [screams|cries|smiles|laughs|murmurs to [1:themself]]|looks up at the crying sky and sighs|holds out a hand to catch some raindrops|sniffles, taking in some cold, moist air|wipes away the water on [1:their] [face|head|hair|body|hands]|closes [1:their] eyes and lets the rain pour over [1:their] [face|body]].`);
				new G.act(1*weatherIdlingMult,['w:rainy survivalist|analytical%0.5|any%0.2 !naive'],`[1] collects some rain in a [rudimentary bucket|simple container|bucket|newly-dug hole in the ground|cup] for use later.`);
				new G.act(1*weatherIdlingMult,['w:rainy any artist%0.5|survivalist%0.4|annoying%0.2|any%0.1'],`[1] is annoyed about [the rain staining [1:their clothes]|getting wet|how [1:they] just got soaked|wishes for an umbrella, or something].`);
				new G.act(1*weatherIdlingMult,['w:rainy devious%0.5|sociopath%0.5|vigilant%0.2|bulky%0.1|any%0.05 !naive'],`[1] realizes that this rain is a perfect cover for [ambushing|killing|dismembering] someone...`);
				new G.act(1*weatherIdlingMult,['w:rainy survivalist%0.5|inventor%0.5|any%0.5'],`[1] quickly [assembles a [rudimentary tent|simple roof|tiny umbrella]|finds a [tree|cave|crevice|fallen wood]] to protect [1:them] against the rain.`);
			new G.act(1.5*weatherIdlingMult,['w:cloudy any'],`[1] [feels a chilly breeze brushing past [1:them]|stands beneath the low-lying sky|is in a low mood, looking over the gray langscape|examines the cloud-covered sky, wondering when rain will come|is grateful that the sun's oppressive rays are no longer upon [1:them]|finds that this weather reminds [1:them] of Autumn].`);
				new G.act(1*weatherIdlingMult,['w:cloudy analytical%0.5|survivalist%0.2|vigilant%0.2|any%0.05'],`[1] analyzes patterns and trends in the clouds, thinking hard about the future.`);
			new G.act(1*weatherIdlingMult,['w:drought any'],`[1] [fears for [1:their] water supplies|is thirsty, but could find no water|picks at the crumbling dirt|is grateful to be near a water source[, however brief it may be|even if not exactly drinkable]|discovers that shades are not very useful against such pure dryness|would love some water right now|always knew that agriculture was a bad idea|attempts to soothe [1:their] scaly skin|uncomfortably tumbles in [1:their] sleep|kicks a large bunch of dust off the ground|checks [1:their] water supplies].`);
				new G.act(1*weatherIdlingMult,['w:drought survivalist%0.5|analytical%0.2'],`[1] thinks about ways to get some more water.`);
				new G.act(1*weatherIdlingMult,['w:drought naive%0.5|suicidal%0.5|hypersomniac%0.3'],`[1] is rather unconcerned about this terrible weather.`);
				new G.act(1*weatherIdlingMult,['w:drought high_pressure_garden_hose'],`[1] is grateful to have his hose around during such dire times.`);
				new G.act(1*weatherIdlingMult,['w:drought|any%0.05 haste%0.6|survivalist%0.3|any%0.1'],`[1] fortunately stumbles upon a small spring, coincidentally worth a small fortune at the moment.`);
			new G.act(2*weatherIdlingMult,['w:thunder any'],`[1] [shakes from a bout of distant thunder|is shaken awake by a thunderous crash in the distance|lets the downpour wash over [1:them]|had to evacuate the tree that [1:they] were resting under from the present thunderstorm|[shudders|jumps away|is very startled] by a stray lightning bolt hitting atop a [tree|dead branch|dead branch|tall cliff|shack's roof|hanged man]|welcomes this nice change of scenary].`);
				new G.act(1*weatherIdlingMult,['w:thunder analytical%0.5|devious%0.25|sociopath%0.1|will_respawn|any%0.05'],`[1] wonders how [1:they] can use the power of lightning against [1:their] enemies.`);
				new G.act(1*weatherIdlingMult,['w:thunder any cowardly%0.5|meek%0.4|survivalist%0.3|any%0.15 !suicidal'],`[1] desperately tries to find some sort of shelter against the storm.`);
				new G.act(1*weatherIdlingMult,['w:thunder any survivalist%0.75|inventor%0.5|any%0.25'],`[1] quickly hacks together a cover against the storm.`);
				new G.act(1*weatherIdlingMult,['w:thunder any inventor%0.6'],`[1] thinks about constructing a machine to barter with the thunder, but is lacking in supplies.`);
				new G.act(1*weatherIdlingMult,['w:thunder topaz_on_a_stick'],`[1] holds up [1:their] topaz on a stick toward the sky, unafraid of the storm.`);
			new G.act(4*weatherIdlingMult,['w:tornado any'],`[1] [is grateful to be alive|[is trying to find|finds] a hiding spot from the deadly tornado|wonders how [1:they] will avoid this catastrophic weather|tries to run away, as fast as [1:they] can|is rather concerned about the vortex of ascending dust in the distance, but doesn't want to move [1:their] [camp|base|supplies]|wonders when this will end|finds the overpowering winds a bit too chilly for [1:their] liking|covers [1:their] eyes with [1:their] clothes to prevent dust from getting into them|sincerely hopes for the tornado to befall upon [1:their] enemies].`);
				new G.act(2*weatherIdlingMult,['w:tornado survivalist%0.75|any%0.25'],`[1] [finds|constructs|makes] some simple shelter against the windstorm.`);
				new G.act(2*weatherIdlingMult,['w:tornado cowardly%0.5|meek%0.3|any%0.5 !able%0.5|survivalist|leader'],`[1] [screams in fear|aimlessly runs around in panic|huddles against the ground|cries in desperation|starts praying for [1:their] life], [frightened out of [1:their] minds|feeling completely helpless against the tornado|utterly lost on what to do].`);
				new G.act(1*weatherIdlingMult,['w:thunder|w:tornado will_respawn|angel_in_a_bottle|bulky%0.2|leader%0.1|invulnerable|ironskin|panacea_pellet able'],`[1] solemnly stands in the raging storm, feeling invincible against any and all dangers.`);
			new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [plays with the sand in the suspended in air|stares in awe at the brilliant-cut sky|is scared of falling through glitches on the ground into the unknown|is really confused at everything happening around [1:them]|forms the suspended water droplets into crystal balls|does happy moon jumps on the top of caves|is counting imaginary numbers of [hands|fingers|trees|blades of grass|items on [1:them]|suns|stars|feet|distance from home]|is shocked to find everyone's faces mangled and distorted|hums to the tunes of the wind|bashes [1:their] head against a [hill|ground|tree|sky|star|manifestation of death|memory|person], only for it run away|admires the geometric patterns on the back of [1:their] head].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [plays with the sand in the suspended in air|stares in awe at the brilliant-cut sky|is scared of falling through glitches on the ground into the unknown|is really confused at everything happening around [1:them]|forms the suspended water droplets into crystal balls|does happy moon jumps on the top of caves|is counting imaginary numbers of [hands|fingers|trees|blades of grass|items on [1:them]|suns|stars|feet|distance from home]|is shocked to find everyone's faces mangled and distorted|hums to the tunes of the wind|bashes [1:their] head against a [hill|ground|tree|sky|star|manifestation of death|memory|person], only for it run away|admires the geometric patterns on the back of [1:their] head].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [plays with the sand in the suspended in air|stares in awe at the brilliant-cut sky|is scared of falling through glitches on the ground into the unknown|is really confused at everything happening around [1:them]|forms the suspended water droplets into crystal balls|does happy moon jumps on the top of caves|is counting imaginary numbers of [hands|fingers|trees|blades of grass|items on [1:them]|suns|stars|feet|distance from home]|is shocked to find everyone's faces mangled and distorted|hums to the tunes of the wind|bashes [1:their] head against a [hill|ground|tree|sky|star|manifestation of death|memory|person], only for it run away|admires the geometric patterns on the back of [1:their] head].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [is stepping carefully, avoiding unstable coordinates|cries into tears that accumulate into checkerboard patterns|doesn't mind standing on [1:their] head and walking with [1:their] chest|is [considering forcibly passing out from seeing|scared to see|seeing|seeing|absentmindedly observing|delighted to see] [[slimy|slimy|phantom] tentacles wriggle|shadows phasing|a jelly-like substance squeezing|earthy vibrations becoming corporeal exiting|[1:their] memories coming] out of the ground|considers going to sleep|tries to find prophecies in this cosmic event|tries to climb the impossibly tall hill on the horizon, only to find it becoming a [toadstool|bump on the ground|cheeseburger|fellow tribute|puddle on the ground|sprouting leaf]].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [is stepping carefully, avoiding unstable coordinates|cries into tears that accumulate into checkerboard patterns|doesn't mind standing on [1:their] head and walking with [1:their] chest|is [considering forcibly passing out from seeing|scared to see|seeing|seeing|absentmindedly observing|delighted to see] [[slimy|slimy|phantom] tentacles wriggle|shadows phasing|a jelly-like substance squeezing|earthy vibrations becoming corporeal exiting|[1:their] memories coming] out of the ground|considers going to sleep|tries to find prophecies in this cosmic event|tries to climb the impossibly tall hill on the horizon, only to find it becoming a [toadstool|bump on the ground|cheeseburger|fellow tribute|puddle on the ground|sprouting leaf]].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [is stepping carefully, avoiding unstable coordinates|cries into tears that accumulate into checkerboard patterns|doesn't mind standing on [1:their] head and walking with [1:their] chest|is [considering forcibly passing out from seeing|scared to see|seeing|seeing|absentmindedly observing|delighted to see] [[slimy|slimy|phantom] tentacles wriggle|shadows phasing|a jelly-like substance squeezing|earthy vibrations becoming corporeal exiting|[1:their] memories coming] out of the ground|considers going to sleep|tries to find prophecies in this cosmic event|tries to climb the impossibly tall hill on the horizon, only to find it becoming a [toadstool|bump on the ground|cheeseburger|fellow tribute|puddle on the ground|sprouting leaf]].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [plays with the sand in the suspended in air|stares in awe at the brilliant-cut sky|is scared of falling through glitches on the ground into the unknown|is really confused at everything happening around [1:them]|forms the suspended water droplets into crystal balls|does happy moon jumps on the top of caves|is counting imaginary numbers of [hands|fingers|trees|blades of grass|items on [1:them]|suns|stars|feet|distance from home]|is shocked to find everyone's faces mangled and distorted|hums to the tunes of the wind|bashes [1:their] head against a [hill|ground|tree|sky|star|manifestation of death|memory|person], only for it run away|admires the geometric patterns on the back of [1:their] head].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [plays with the sand in the suspended in air|stares in awe at the brilliant-cut sky|is scared of falling through glitches on the ground into the unknown|is really confused at everything happening around [1:them]|forms the suspended water droplets into crystal balls|does happy moon jumps on the top of caves|is counting imaginary numbers of [hands|fingers|trees|blades of grass|items on [1:them]|suns|stars|feet|distance from home]|is shocked to find everyone's faces mangled and distorted|hums to the tunes of the wind|bashes [1:their] head against a [hill|ground|tree|sky|star|manifestation of death|memory|person], only for it run away|admires the geometric patterns on the back of [1:their] head].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [plays with the sand in the suspended in air|stares in awe at the brilliant-cut sky|is scared of falling through glitches on the ground into the unknown|is really confused at everything happening around [1:them]|forms the suspended water droplets into crystal balls|does happy moon jumps on the top of caves|is counting imaginary numbers of [hands|fingers|trees|blades of grass|items on [1:them]|suns|stars|feet|distance from home]|is shocked to find everyone's faces mangled and distorted|hums to the tunes of the wind|bashes [1:their] head against a [hill|ground|tree|sky|star|manifestation of death|memory|person], only for it run away|admires the geometric patterns on the back of [1:their] head].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [is stepping carefully, avoiding unstable coordinates|cries into tears that accumulate into checkerboard patterns|doesn't mind standing on [1:their] head and walking with [1:their] chest|is [considering forcibly passing out from seeing|scared to see|seeing|seeing|absentmindedly observing|delighted to see] [[slimy|slimy|phantom] tentacles wriggle|shadows phasing|a jelly-like substance squeezing|earthy vibrations becoming corporeal exiting|[1:their] memories coming] out of the ground|considers going to sleep|tries to find prophecies in this cosmic event|tries to climb the impossibly tall hill on the horizon, only to find it becoming a [toadstool|bump on the ground|cheeseburger|fellow tribute|puddle on the ground|sprouting leaf]].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [is stepping carefully, avoiding unstable coordinates|cries into tears that accumulate into checkerboard patterns|doesn't mind standing on [1:their] head and walking with [1:their] chest|is [considering forcibly passing out from seeing|scared to see|seeing|seeing|absentmindedly observing|delighted to see] [[slimy|slimy|phantom] tentacles wriggle|shadows phasing|a jelly-like substance squeezing|earthy vibrations becoming corporeal exiting|[1:their] memories coming] out of the ground|considers going to sleep|tries to find prophecies in this cosmic event|tries to climb the impossibly tall hill on the horizon, only to find it becoming a [toadstool|bump on the ground|cheeseburger|fellow tribute|puddle on the ground|sprouting leaf]].`);
				new G.act(Math.min(20*weatherIdlingMult, 49),['w:weird any'],`[1] [is stepping carefully, avoiding unstable coordinates|cries into tears that accumulate into checkerboard patterns|doesn't mind standing on [1:their] head and walking with [1:their] chest|is [considering forcibly passing out from seeing|scared to see|seeing|seeing|absentmindedly observing|delighted to see] [[slimy|slimy|phantom] tentacles wriggle|shadows phasing|a jelly-like substance squeezing|earthy vibrations becoming corporeal exiting|[1:their] memories coming] out of the ground|considers going to sleep|tries to find prophecies in this cosmic event|tries to climb the impossibly tall hill on the horizon, only to find it becoming a [toadstool|bump on the ground|cheeseburger|fellow tribute|puddle on the ground|sprouting leaf]].`);

			// Status Effect Idling - TW
			// // Minor Status Effects
			new G.act(0.5,['scratched !first_aid_kit%0.5|bulky%0.5|stubborn%0.5'],`[1] [winces|worries|checks over [1:themself]] as [1:their] scratches [burn a little|bother [1:them]|sting steadily].`);
			new G.act(0.5,['bruised !first_aid_kit%0.5|bulky%0.5|stubborn%0.5'],`[1] [rubs over|worries about] [1:their] bruises, as they continue to hurt [a little|a lot|steadily].`);
			new G.act(0.5,['sick !medicine%0.5|bulky%0.5|stubborn%0.5'],`[1] is feeling very [ill|sick|feverish|unsteady] as [1:they] [wander|prepare [1:themself]|try to rest it off].`);
			new G.act(0.5,['dizzy !medicine%0.5|bulky%0.5|stubborn%0.5'],`[1] [wanders|walks|looks] around, dizzy and a bit [tired|confused|uncertain|dazed].`);
			new G.act(0.5,['cut_up !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1] covers up [1:their] various cuts [and slashes |] as [1:they] [slightly bleed|have mostly scabbed over|breath slowly to [numb|stiffle] the pain].`);
			new G.act(0.5,['broken !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1]'s breathing is [pained|struggling|staggered] from [1:their] [internal injuries|broken rib|sore body].`);
			new G.act(0.5,['shot !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1] grips [1:their] [still slightly bleeding|gruesome] bullet wound, pressing on to survive.`);
			new G.act(0.5,['singed !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1] is still looking toasty from when [1:they] last delt with fire.`);
			new G.act(0.5,['poisoned !medicine%0.5|bulky%0.2|stubborn%0.2'],`[1] is turning [pale|yellow|green] from the poison coursing through [1:their] body.`);
			// // Major Status Effects
			new G.act(1,['bleeding_out !out'],`[1] hasn't died yet despite their extensive blood loss.`);
			new G.act(1,['burnt'],`[1] is disabled by the extreme pain of [1:their] burns.`);
			new G.act(1,['comatose'],`[1] still hasn't woken up...`);
			new G.act(1,['badly_poisoned'],`[1] can barely move as [1:their] [poisoned|sick|struggling] body [slowly|steadily] shuts down[. |bit by bit|organ by organ.]`);
			new G.act(1,['missing_leg'],`[1] [sometimes still feels|suffers phantoms from] [1:their] missing [arm|hand].`);
			new G.act(1,['missing_arm'],`[1] struggles to get around since losing [1:their] leg.`);
			new G.act(1,['frenzied'],`[[1] looks around maniacally, seething.|[1] looks for [1:their] next victim...]`);
			new G.act(1,['shell-shocked'],`[1] [sits there with a blank stare.|has a blank expression and seems unresponsive to what's going on...|sobs quietly...|starts sobbing uncontrollably.|just wants it to end already...|is on the verge of a nervous breakdown...]`);
			new G.act(1,['dazed'],`[1] [sits there with a [blank|long|helpless] stare|hasn't moved since in a while|is still completely senseless|remains helpless].`);
			new G.act(1,['laughed'],`[1] keeps up their evil laughing practice, [Muahahahahahaa|Ehehehehee|Buahahahaaaaa]!`);
			new G.act(1,['sheep'],`[1] is a sheep and [grazes peacefully|doesn't do much|baahs softly|glances away, a sad look in [1:their] eyes].`);
				new G.act(0.5,['peaceful%0.5|kind%0.5|animal_ken%0.5|cute%0.2|any%0.5 !sociopath%0.8|survivalist%0.8','sheep cute|any%0.5 !annoying%0.5|cowardly%0.2'],`[1] gently pets [2], who is a sheep.`);
			new G.act(0.4,['pixelated every !nihil'],`As a [still, low-resolution image of [1:their] former self|pixelated mess of [1:themself]|unwilling glitch in reality], [1] [wants to scream, but can't|longs for death|anticipates [1:their] fate|hopes that this will end soon].`);
				new G.act(0.2,['peaceful%0.5|kind%0.5|animal_ken%0.5|cute%0.2|any%0.5 !sociopath%0.8|devious%0.4', 'pixelated every !nihil'],`[1] is [rather |quite |somewhat | ][confused|puzzled|perplexed] to stumble upon a [strange, warped assortment of colorful blocks|weird floating batch of pixels|what is seemingly a vibrant tear in reality]. It [somehow|seems to] reminds [1:them] of [2]...`);
			new G.act(0.6,['peaceful%0.5|kind%0.5|animal_ken%0.5|cute%0.2|medic%0.5|any%0.5 !sociopath%0.8|devious%0.4', 'disassembled every !nihil'],`[1] [can't piece [2] back together|struggles to reassemble [2]|tries [1:their] hardest to put [2:their] internal organs into place|fails to fix [2]]...`);
			new G.act(1,['will_respawn dead !nihil !sheep'],`[BLUE]Suddenly, [1] materializes out of thin air in a storm of purple mist! Looking around, [1:they] notices the respawn anchor besides [1:them], crumbling and decaying...`,p=>{p[1].revive('respawned');p[1].lose('will respawn');});
			// Misc Idling -TW
			new G.act(0.1,['!sociopath|devious|leader deaths:0'],`[1] [doesn't know yet how bad things are gonna get.|knows not of the horrors yet to come.|is pretty optimistic about all of this.]`);
			new G.act(0.1,['!sociopath|devious|leader deaths:>0'],`[1] [sobs quietly...|starts sobbing uncontrollably.|just wants it to end already...]`);
			new G.act(2,['respawn_anchor any !clumsy%0.6|meek%0.3|naive%0.3|ailed%0.3'],`[BLUE][1] places down [1:their] respawn anchor and attempts to activate it. Soon enough, it started to glow, signaling a successful activation!`,p=>{p[1].lose('respawn anchor'); p[1].gain('will respawn');});
			new G.act(1,['respawn_anchor any !inventor%0.5|goth%0.6|the_gift%0.6'],`[1] places down [1:their] respawn anchor and attempts to activate it, however, [1:they] couldn\'t quite figure out how to do so, and gives up shortly after.`);
			new G.act(0.25,['respawn_anchor any !inventor%0.5|goth%0.6|the_gift%0.6'],`[RED][1] places down [1:their] respawn anchor and attempts to activate it, however, the respawn anchor broke while fidgeting with its complex inner workings.`,p=>{p[1].lose('respawn anchor');});
			new G.act(0.075,['respawn_anchor any !inventor%0.5|goth%0.6|the_gift%0.6'],`[RED][1] places down [1:their] respawn anchor and attempts to activate it.<br>However, [1:they] made a mistake while trying to activate it, and the respawn anchor blew up into a miniature mushroom cloud in front of [1:them], killing [1:them] instantly!`,p=>{p[1].kill(p[1], 'respawn anchor');p[1].lose('respawn anchor');});
			new G.act(0.175,['respawn_anchor any !inventor%0.5|goth%0.6|the_gift%0.6', 'any', 'delete%0.8 any', 'delete%0.8 any', 'delete%0.8 any', 'delete%0.8 any', 'delete%0.8 any'],`[RED][1] places down [1:their] respawn anchor and attempts to activate it.<br>However, [1:they] made a mistake while trying to activate it, and the respawn anchor blew up into a miniature mushroom cloud in front of [1:them], killing [1:them] instantly. [ALL-1] were also caught in this explosion, killing them as well!`,p=>{for (let i = 1; i < p.length; i++) { p[1].kill(p[i], '[INTENTIONAL GAME DESIGN]'); } p[1].lose('respawn anchor'); });
			new G.act(1,['angel\'s_revival dead !nihil|sheep|pixelated'],'[BLUE]Out of nowhere, a point in the sky begin to glow a glorious golden shine, as a pair of wings grow out of it - carrying [1]! <br>As it turns out, when [1:they] last died, their angel in a bottle shattered, which lead to [1:their] revival.',p=>{ p[1].revive('angels'); p[1].lose('angel\'s revival'); });
			new G.act(0.6,['angel\'s_revival dead !nihil|sheep|pixelated'],'[BLUE]Out of nowhere, a point in the sky begin to glow a glorious golden shine, as a pair of wings grow out of it - carrying [1]! <br>As it turns out, when [1:they] last died, their angel in a bottle shattered, which lead to [1:their] revival.<br>The angel set [1:them] down gently, then hands [1:them] something - another angel in a bottle!',p=>{ p[1].revive('angels'); p[1].lose('angel\'s revival'); p[1].gain('angel in a bottle'); });
			
			//finding items
			var baseItemMult=1.5;
				var newItemMult=baseItemMult*0.2 // New item spawns
				var newPetMult=baseItemMult*0.1 // New pet spawns
				var newMatMult=baseItemMult*0.3 // New material spawns
				
				var lootDeadMult=baseItemMult*0.4 // Stealing from the dead
				var lootStealMult=baseItemMult*0.1 // Stealing from the living
				
				var petFindMult=baseItemMult*0.1 // Pet finding material actions
				var airDropMult=baseItemMult*0.1 // Rich air drop item actions
				var itemCraftMult=baseItemMult*0.7 // Crafting item actions
			var baseItemLoss=0.1;
			var inanimateItemFind='!w:thunder%0.5|w:rainy%0.25|w:tornado%0.2 scrappy%0.75|vigilant%0.2';
			var itemThief=' gremlin|scrappy%0.5|devious%0.5|survivalist%0.5|any%0.2 !naive%0.5|kind%0.2|cut_up%0.2|broken%0.2|shot%0.2|missing_arm%0.3|w:thunder%0.5|w:rainy%0.35|w:tornado%0.5';

			//Every action in each category adds to a total of 1.0, in the original version, items had a combined rate of 0.012 -TW
			//Everything is weighted with traits, to be 40-% with worst traits, 50% with no traits, and 90+% with all best traits. -TW
			//CS speaking here: who cares, it matters very little apart from keeping the total chance to find something roughly the same (which doesn't really matter for anything), so to all future modders, all you need to care about is that the new item find event has similar rates to previous events
			//Clothing & Armor(30%) -TW
			new G.act(newItemMult*0.05,[inanimateItemFind+'|lucky_coin%0.2|any%0.5 !leather_scraps|naive%0.2'],`[BLUE][1] finds some leather scraps, just enough to patch together some rudimentary clothing.<br>It looks rather caveman-like.`,p=>{p[1].gain('leather scraps');});
			new G.act(newItemMult*0.04,[inanimateItemFind+'|lucky_coin%0.2|seductive%0.5|any%0.5 !bikini|survivalist%0.8|naive%0.2'],`[BLUE][1] finds a lovely bikini and puts it on!<br>It's quite revealing.`,p=>{p[1].gain('bikini');});
			new G.act(newItemMult*0.04,[inanimateItemFind+'|lucky_coin%0.2|seductive%0.5|rich%0.5|any%0.5 !dapper_suit|survivalist%0.8|naive%0.2'],`[BLUE][1] finds a dapper suit and puts it on!<br>It's rather fetching.`,p=>{p[1].gain('dapper suit');});
			new G.act(newItemMult*0.03,[inanimateItemFind+'|lucky_coin%0.2|bulky%0.5|survivalist%0.2|any%0.5 !knight_armor|meek%0.5|naive%0.2'],`[BLUE][1] somehow finds a full suit of medieval armor and puts it on!<br>It gleams with a dazzling shine.`,p=>{p[1].gain('knight armor');});
			new G.act(newItemMult*0.03,[inanimateItemFind+'|lucky_coin%0.2|survivalist%0.2|any%0.5 !combat_gear|naive%0.2'],`[BLUE][1] somehow finds a bunch of tactical combat gear and equips it!<br>It provides optimal protection for the whole body, without sacrificing flexibility.`,p=>{p[1].gain('combat gear');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|magic_wand%0.2|ancient_scepter%0.2|the_gift%0.5|any%0.5 !wizard_robe|naive%0.2'],`[BLUE][1] disappears for a while and comes back with a wizard robe [1:they] just found...<br>[1:g|He slips|She slips|They slip|It slips] it on, scattering sparkles everywhere.`,p=>{p[1].gain('wizard robe');});
			new G.act(newItemMult*0.05,[inanimateItemFind+'|lucky_coin%0.2|survivalist%0.2|any%0.5 !parka|naive%0.2'],`[BLUE]While at first [1] was shivering in the [rain|cold|wind], [1:they] manages to warm up from finding a comfortable parka!`,p=>{p[1].gain('parka');});
			new G.act(newItemMult*0.04,[inanimateItemFind+'|lucky_coin%0.2|survivalist%0.2|any%0.5 !kevlar_vest|naive%0.2'],`[BLUE][1] somehow finds a kevlar vest and puts it on.<br>[1] feels bulletproof now!`,p=>{p[1].gain('kevlar vest');});
			//Weapons (30%) -TW
			new G.act(newItemMult*0.04,[inanimateItemFind+'|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !big_stick !peaceful|naive%0.2'],`[BLUE][1] finds a big stick...<br>Probably comes in handy to bash some skulls.`,p=>{p[1].gain('big stick');});
			new G.act(newItemMult*0.03,[inanimateItemFind+'|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !pitchfork !peaceful%0.8|naive%0.2'],`[BLUE][1] finds a pitchfork, which [1:g|he figures|she figures|they figure|it figures] is great for lobbing at enemies.`,p=>{p[1].gain('pitchfork');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !sword !peaceful|naive%0.2'],`[BLUE][1] finds a sword, shiny and sharp.<br>A rather nice find!`,p=>{p[1].gain('sword');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !axe !peaceful|naive%0.2'],`[BLUE][1] finds an axe, upping [1:their] chances of survival somewhat.`,p=>{p[1].gain('axe');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !handgun !peaceful|naive%0.2'],`[BLUE][1] finds a handgun, with just enough bullets to be useful.`,p=>{p[1].gain('handgun');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !shotgun !peaceful|naive%0.2'],`[BLUE][1] finds a shotgun!<br>[1:g|He starts|She starts|They start|It starts] thinking about the damage [1:they] can do.`,p=>{p[1].gain('shotgun');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|survivalist%0.2|any%0.5 !grenade !peaceful|naive%0.2'],`[BLUE][1] finds a grenade...<br>Better be careful with that.`,p=>{p[1].gain('grenade');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|survivalist%0.2|any%0.5 !rocket_launcher !peaceful|naive%0.2'],`[BLUE][1] finds a rocket launcher!<br>That's gonna end well.`,p=>{p[1].gain('rocket launcher');});
			new G.act(newItemMult*0.03,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !slingshot !peaceful|naive%0.2'],`[BLUE][1] finds a slingshot! How quaint...<br>Might be useful in a pinch.`,p=>{p[1].gain('slingshot');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !bow !peaceful|naive%0.2'],`[BLUE][1] finds a bow and some arrows.<br>It'll take some practice but this can surely come in handy.`,p=>{p[1].gain('bow');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|pyromania%0.5|survivalist%0.2|any%0.5 !flamethrower !peaceful|naive%0.2'],`[BLUE]Are you kidding? [1] just found a flamethrower!<br>See if anyone gets in [1:their] way now!`,p=>{p[1].gain('flamethrower');});
			new G.act(newItemMult*0.005,[inanimateItemFind+'|lucky_coin%0.2|inventor%0.2|survivalist%0.2|any%0.5 !lasergun !peaceful|naive%0.2'],`[BLUE]Whoah! [1] just found a lasergun!<br>[1:g|He starts|She starts|They start|It starts] swinging it around making "pew pew" sounds, before [1:they] realize [1:they] can just pull the trigger and make those sounds for real.`,p=>{p[1].gain('lasergun');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|naive%0.2|the_gift%0.2|any%0.5 !magic_wand'],`[BLUE][1] follows some sparkles and discovers a magic wand!<br>Hopefully it still has some spells left in it...`,p=>{p[1].gain('magic wand');});
			new G.act(newItemMult*0.005,[inanimateItemFind+'|lucky_coin%0.2|goth%0.2|the_gift%0.2|any%0.5 !ancient_scepter|naive%0.2'],`[BLUE][1] catches a strange glow in the corner of [1:their] eye and discovers an ancient scepter!<br>Arcane magic courses through [1:their] body as [1:their] fingers touch the carved wood.`,p=>{p[1].gain('ancient scepter');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.1|bulky%0.1|artist%0.1|inventor%0.1 !high_pressure_garden_hose'],`[BLUE][1] digs up a discarded tube composed of an unusually resiliant material!<br>Seems like it could be useful in a lot of situations...`,p=>{p[1].gain('high pressure garden hose');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.1|ninja%0.1 !pyromania%0.2|naive%0.2'],`[BLUE][1] glances around and suddenly notices something shiny on the ground!<br>It turns out to be a deep, mesmerizing crystal of sapphire, magically cold to the touch.`,p=>{p[1].gain('freezing sapphire');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|w:thunder|lucky_coin%0.2|the_gift%0.3|vigilant%0.2 !topaz_with_a_hole|topaz_on_a_stick|goth%0.2|naive%0.5'],`[BLUE][1] notices something shiny on the ground. <br>Thinking it was a coin, [1:they] picks it up purely out of boredom, but then realizes that it is actually a piece of brilliantly cut topaz with a hole on one side. This could be useful, but [1:they] don\'t quite yet know why...`,p=>{p[1].gain('topaz with a hole');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|ninja%0.5|survivalist%0.2|any%0.5 !shuriken !peaceful'],`[BLUE][1] finds a [bundle|box|pile] of throwing weapons, including some knives and shuriken.<br>[1] is already practicing with a few tosses.`,p=>{p[1].gain('shuriken');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|suicidal%0.5|sociopath%0.2|goth%0.2|any%0.5 !cursed_knife|lucky_coin%0.8|survivalist%0.5|peaceful%0.5'],`[RED][1] finds an old knife with dried blood.<br>Once [1:they] pick it up, they can't seem to get rid of it...`,p=>{p[1].gain('cursed knife');});
            //Other Stuff (30%) -TW
			new G.act(newItemMult*0.01,['scrappy%0.2|vigilant%0.2|lucky_coin%0.2|peaceful%0.2|the_gift%0.5|any%0.5 !wish_ring'],`[BLUE][1] was lost in [1:their] thoughts... The next thing [1:g|he knows|she knows|they know|it knows], [1:g|he's|she's|they've|it has] found a wish ring.<br>Hopefully [1:they]'ll be responsible with it.`,p=>{p[1].gain('wish ring');});
			
            new G.act(newItemMult*0.03,[inanimateItemFind+'|clumsy%0.5|marksmen%0.2|the_gift%0.2|any%0.5 !lucky_coin','- handgun|shotgun|bow|lasergun|slingshot'],`[BLUE][1] [notices|trips over|falls into] something shining on the ground.<br> When [1:they] go to pick up the coin, a shot goes right over their head. How lucky!`,p=>{p[1].gain('lucky coin');});
            new G.act(newItemMult*0.04,[inanimateItemFind+'|lunatic%0.5|the_gift%0.5|any%0.5 !random_orb'],`[BLUE][1] can't believe their luck, a random item orb!<br>Across it's shiny surface, pictures between many other possibilities arise.<br>What will it turn into?`,p=>{p[1].gain('random orb');});
            new G.act(newItemMult*0.03,[inanimateItemFind+'|kind%0.2|bulky%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !kite_shield'],`[BLUE][1] somehow finds a knightly kite shield.<br>[1] practices fending off attackers with their new shield.`,p=>{p[1].gain('kite shield');});
            new G.act(newItemMult*0.03,[inanimateItemFind+'|kind%0.2|bulky%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !riot_shield'],`[BLUE][1] somehow finds a riot shield.<br>[1] begins crouching and acting all tactical!`,p=>{p[1].gain('riot shield');});
			new G.act(newItemMult*0.05,[inanimateItemFind+'|medic%0.5|lucky_coin%0.2|survivalist%0.2|any%0.5 !medicine'],`[BLUE][1] [finds|scavenges] some [medicine|medicine|pills|ground medical herbs|herbal remedies].<br>[1] keeps it all in a bottle for later.`,p=>{p[1].gain('medicine');});
			new G.act(newItemMult*0.04,[inanimateItemFind+'|medic%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !first_aid_kit'],`[BLUE][1] finds a small [box|bag|kit] with a [camo pattern|red cross|green cross|unassuming apperance].<br>It's full of medical supplies, score!`,p=>{p[1].gain('first aid kit');});
			new G.act(newItemMult*0.04,[inanimateItemFind+'|medic%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !tourniquet'],`[BLUE][1] finds a small [box|bag|kit] with a camo pattern.<br>Inside is a wrapped [tourniquet|"Combat Application Tourniquet"], could be useful in an emergency.`,p=>{p[1].gain('tourniquet');});
			new G.act(newItemMult*0.03,[inanimateItemFind+'|medic%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !AED'],`[BLUE][1] somehow finds a riot shield.<br>[1] begins crouching and acting all tactical!`,p=>{p[1].gain('AED');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|goth%0.3|the_gift%0.1|artist%0.5|inventor%0.1 !snake_charmer\'s_flute|naive%0.5'],`[BLUE][1] finds a rustic and faded golden flute on the ground. <br>Not thinking much of it at first, [1:they] picks it up and tries to play it, but what no one expected was the ascension of a snake out of the ground! This could be very valuable.`,p=>{p[1].gain('snake charmer\'s flute');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|goth%0.5|the_gift%0.3|cowardly%0.2 !respawn_anchor|will_respawn|naive%0.2|suicidal'],`[BLUE][1] finds a strange stone; it is pitch-black with a hint of purple, alongside two large depressions on the surface. Being so distinct to the touch, curiosity overwhelms [1:them] and [1:they] decided to launch an investigation into its purpose.<br>Prying it away from the ground, [1:he was|she was|they were] shocked to discover a manual directly beneath it, detailing its usage as the container of souls...`,p=>{p[1].gain('respawn anchor');});
			new G.act(newItemMult*0.02,[inanimateItemFind+'|lucky_coin%0.2|the_gift%0.5|kind%0.3 !angel_in_a_bottle|angel\'s_revival|suicidal'],`[BLUE][1] finds a strange bottle lying on the ground. It has a dim light suspended inside, but when [1:they] got closer to get a better look, the light appeared to be speaking to [1:them]!<br>[1:g|He|She|They|It] immediately pocketed it to use it as a potent charm of life.`,p=>{p[1].gain('angel in a bottle');});

			new G.act(newItemMult*0.03,[inanimateItemFind+'|lucky_coin%0.2|seductive%0.5|kind%0.2 !vanilla_ice_cream|naive%0.2'],`[BLUE][1] suddenly finds a discarded cone of vanilla-flavored ice cream, seemingly straight of the freezer!<br>Somehow, it has not melted.`,p=>{p[1].gain('vanilla ice cream');});
			new G.act(newItemMult*0.03,[inanimateItemFind+'|lucky_coin%0.2|the_gift%0.3 !mint_essence|mint_enhanced|goth%0.1'],`[BLUE][1] finds a turquoise colored crystal sticking out of the ground! It has a distinctly strong minty smell to it.<br>[1:g|He|She|They|It] decides to pocket it for potential future [investigations|inspections|use] - perhaps it could even be edible? After all, it does strangely resemble rock candy...`,p=>{p[1].gain('mint essence');});
			//Combo Events (10%) -TW
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|sociopath%0.2|survivalist%0.2|any%0.5 !axe%0.8|leather_scraps%0.8|peaceful%0.5|kind%0.2'],`[BLUE][1] finds a dead body dressed in leather and holding an axe.<br>[1] loots the body, maybe some of this could be useful?`,p=>{p[1].gain('axe');p[1].gain('leather scraps');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.2|any%0.5 !handgun%0.8|kevlar_vest%0.8|peaceful%0.5'],`[BLUE][1] finds a box with a gun, ammo, and vest inside.<br>Who left this here...?`,p=>{p[1].gain('handgun');p[1].gain('kevlar vest');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|the_gift%0.5|naive%0.2|any%0.5 !magic_wand%0.8|magic_dust%0.8'],`[BLUE][1] follows a trail of sparkly dust to a still sparking wand.<br>It continues to leak the colorful dust long after [1] picks it up.`,p=>{p[1].gain('magic wand');p[1].gain('magic dust');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|annoying%0.2|any%0.5 !slingshot%0.8|grenade%0.8|peaceful%0.8'],`[BLUE][1] finds an abandoned slingshot with a single grenade next to it.<br>That could be an interesting combination...`,p=>{p[1].gain('slingshot');p[1].gain('grenade');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|sociopath%0.2|survivalist%0.2|any%0.33 !sword%0.8|kite_shield%0.8|knight_armor%0.8|peaceful%0.5|kind%0.2'],`[BLUE][1] finds the dead body of an armored knight<br>[1] begins putting on the armor before grabing the sword and shield.<br>Hopefully, [1]'s fate won't be the same.`,p=>{p[1].gain('sword');p[1].gain('kite shield');p[1].gain('knight armor');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|marksmen%0.2|any%0.33 !shotgun%0.8|riot_shield%0.8|combat_gear%0.8|peaceful%0.5'],`[BLUE][1] gets really lucky and finds a whole bunch of gear!<br>Shotgun, riot shield, and body armor all at [1]'s disposal!`,p=>{p[1].gain('shotgun');p[1].gain('riot shield');p[1].gain('combat gear');});
			new G.act(newItemMult*0.01,['gremlin%0.5|scrappy%0.5|lunatic%0.5|the_gift%0.5|any%0.33 !wish_ring%0.8|lucky_coin%0.8|random_orb%0.8|survivalist%0.5'],`[BLUE][1] is plauged by weird dreams of a laughing god.<br>When [1:they] wakes, a strange orb, ring, and coin are left in [1]'s hands.`,p=>{p[1].gain('wish ring');p[1].gain('lucky coin');p[1].gain('random orb');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|medic%0.2|lucky_coin%0.2|any%0.25 !medicine%0.8|first_aid_kit%0.8|tourniquet%0.8|AED%0.8'],`[BLUE][1] somehow finds a whole [locker|backpack|broken vehicle] full of medical supplies in the middle of nowhere.<br>Medicine, bandages, gauze, even a tourniquet and AED!`,p=>{p[1].gain('medicine');p[1].gain('first aid kit');p[1].gain('tourniquet');p[1].gain('AED');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|lucky_coin%0.2|artist%0.2|any%0.25 !bikini%0.8|dapper_suit%0.8|parka%0.8|wizard_robe%0.8|survivalist%0.5'],`[BLUE][1] stumbles across an abandoned building.<br>It is some sort of dressing room, with all sorts of outfits, even a magic robe!<br>[1] isn't sure which to wear right now, so [1:they] grab them all.`,p=>{p[1].gain('bikini');p[1].gain('dapper suit');p[1].gain('parka');p[1].gain('wizard robe');});
			new G.act(newItemMult*0.01,[inanimateItemFind+'|sociopath%0.2|survivalist%0.2|any%0.2 !sword%0.8|axe%0.8|cursed_knife%0.8|peaceful%0.8|kind%0.2','+ scrappy|lucky_coin%0.5|any%0.5 !sword%0.8|axe%0.8|peaceful%0.8'],`[BLUE][1] and [2] stumble across an old battlefield littered with weapons[and|, and though gruesome,] they [decide|team up to|dare each other] to pick through the remains.<br>[1] and [2] leave after grabbing some blades and axes, though [1] gets a weird feeling with the last one [1:they] grabbed...`,p=>{p[1].gain('sword');p[1].gain('axe');p[2].gain('sword');p[2].gain('axe');p[1].gain('cursed knife');});
			
			//Materials -TW
            new G.act(newMatMult*0.4,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|any%0.5 !scrap_metal|naive%0.2'],`[BLUE][1] finds some chunks of metal scrap<br>Maybe [1:they] can make something out of it?`,p=>{p[1].gain('scrap metal');});
            new G.act(newMatMult*0.2,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|marksmen%0.2|any%0.5 !gun_parts|peaceful%0.8|naive%0.2'],`[BLUE][1] finds some old looking gun parts...<br>Now how do they go back together?`,p=>{p[1].gain('gun parts');});
            new G.act(newMatMult*0.1,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|the_gift%0.5|any%0.5 !magic_dust|naive%0.2'],`[BLUE][1] finds a sachet full of faintly glowing dust.<br>Oh no, this stuff is worse than glitter!`,p=>{p[1].gain('magic dust');});
			new G.act(newMatMult*0.3,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|artist%0.2|any%0.5 !roll_of_fabric|naive%0.2'],`[BLUE][1] [finds|stumbles across|scrounges] [various|rolls of|dusty old|unused] fabrics.<br>Might be useful for an outfit or to stay warm.`,p=>{p[1].gain('roll of fabric');});
            
            // With other traits -TW
            new G.act(petFindMult*0.2,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !big_stick'],`[BLUE][1] was playing with [1:their] pet, when they returned with a big stick!<br>It will make a good club if nothing else.`,p=>{p[1].gain('big stick');});
                new G.act(petFindMult*0.05,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !big_stick'],`[BLUE][1] was [playing with|training their|practicing their] [1:their] pet rock, tossing them a couple of feet at a time to see if they'll return.<br>After a few tosses, [1:their] pet rock found a stick it was laying next to!`,p=>{p[1].gain('big stick');});
            new G.act(petFindMult*0.2,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !scrap_metal'],`[BLUE][1] was playing with [1:their] pet when they dug up some metal scraps!<br>Maybe [1:they] can make something out of it?`,p=>{p[1].gain('scrap metal');});
                new G.act(petFindMult*0.05,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !big_stick'],`[BLUE][1] was trying to find [1:their] pet rock some new friends.<br>While none of the other rocks seemed interested, [1] did find some scraps of shiny metal!`,p=>{p[1].gain('big stick');});
            new G.act(petFindMult*0.1,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !gun_parts|peaceful'],`[BLUE][1] was playing with [1:their] pet they found a box of gun parts!<br>Now how do they go back together?`,p=>{p[1].gain('gun parts');});
                new G.act(petFindMult*0.02,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !gun_parts|peaceful'],`[BLUE][1] was trying to teach their pet rock some new tricks, when they both tripped over a half burried box.<br>Uncovering it, [1] and [1:their] pet rock found some gun parts!`,p=>{p[1].gain('gun parts');});
            new G.act(petFindMult*0.1,['animal_ken%0.5|scrappy%0.5|the_gift%0.5|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !magic_dust'],`[BLUE][1] was playing with [1:their] pet when they returned covered in sparkling dust!<br>Oh no, this stuff is worse than glitter, but maybe it can be useful.`,p=>{p[1].gain('magic dust');});
                new G.act(petFindMult*0.03,['naive%0.2|scrappy%0.5|the_gift%0.5|lucky_coin%0.2|any%0.5 pet_rock !magic_dust'],`[BLUE][1] was playing with [1:their] pet when [1:they] found [1:their] rock covered in sparkling dust!<br>Oh no, this stuff is worse than glitter, but maybe it can be useful.`,p=>{p[1].gain('magic dust');});
			new G.act(petFindMult*0.2,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !roll_of_fabric'],`[BLUE][1] was playing with [1:their] pet when they fetched a [bunch|bundle|roll] of mostly intact fabrics!<br>Might be useful for an outfit or to stay warm.`,p=>{p[1].gain('roll of fabric');});
				new G.act(petFindMult*0.05,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !roll_of_fabric'],`[BLUE][1] tried to dress up [1:their] pet rock with some paint and clay.<br>[1] stumbled across some [rolls|bundles|unsorted] fabric, now they both can have outfits!`,p=>{p[1].gain('roll of fabric');});
			
            // Finding Pets -TW
            new G.act(newPetMult*0.02,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|analytical%0.2|any%0.5 !pet_wolf|sociopath%0.8|survivalist%0.5'],`[BLUE][1] finds a whimpering wolf stuck in a trap...<br>Feeling pity, [1] releases the wolf from the trap, who begins wagging their tail much more like a dog.`,p=>{p[1].gain('pet wolf');});
                new G.act(newPetMult*0.01,['big_stick animal_ken%0.5|peaceful%0.5|kind%0.5|scrappy%0.2|analytical%0.2|any%0.5 !pet_wolf|sociopath%0.8'],`[BLUE][1] practices tossing their big stick as far as they can<br>To their surprise, it's returned by a wild wolf! The two continue to play fetch together.`,p=>{p[1].gain('pet wolf');});
            new G.act(newPetMult*0.02,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|bulky%0.2|any%0.5 !pet_turtle|sociopath%0.8|survivalist%0.5'],`[BLUE][[1] takes a seat... only the seat starts moving!<br>[1] feeds their new pet turtle some food to keep them around|[1] releases a massive turtle from an old trap.<br>The turtle seems to have taken a liking to [1]].`,p=>{p[1].gain('pet turtle');});
            new G.act(newPetMult*0.01,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|rich%0.2|any%0.5 !pet_tiger|sociopath%0.8|survivalist%0.5'],`[BLUE][[1] is almost mauled by a raging tiger!<br>[1] removes the thorn from their paw, and the tiger quickly becomes the biggest, scariest, kitten.|[1] finds a starving tiger cub who's lost their mother.<br>[1] begins feeding it and teaching the tiger cub tricks.]`,p=>{p[1].gain('pet tiger');});
            new G.act(newPetMult*0.02,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|marksmen%0.2|any%0.5 !pet_hawk|sociopath%0.8|survivalist%0.5'],`[BLUE][1] finds an injured bird and nurturs them back to health.<br>The recovered hawk keeps circling around [1].`,p=>{p[1].gain('pet hawk');});
            new G.act(newPetMult*0.02,['peaceful%0.2|naive%0.5|annoying%0.5|scrappy%0.5|any%0.5 !pet_rock|sociopath%0.8|analytical%0.8|survivalist%0.8'],`[BLUE][1] picks up an unusual rock.<br>Maybe [1:they] can teach it some tricks...?`,p=>{p[1].gain('pet rock');});
			
			// Theft - TW & Nyan Cat (& CursedSliver for adding the new items)
			// - Melee
			new G.act(lootDeadMult*0.025,[itemThief+' !peaceful|pitchfork|naive%0.5|meek%0.2','pitchfork dead !nihil'],`[BLUE][1] [stops in their tracks|freezes in fear|gasps in surprise] when [1:they] stumble upon [2]'s lifeless body.<br>Fearing for [1:their] own safety, [1] [grabs|takes|loots] the nearby pitchfork [from the ground|from [2]].`,p=>{p[1].gain('pitchfork');p[2].lose('pitchfork');});
			new G.act(lootDeadMult*0.025,[itemThief+' ninja|any%0.8 !peaceful|sword|naive%0.5|meek%0.2','sword dead !nihil'],`[BLUE][1] [spots|discovers|notices] [2]'s [bloodied|rusty|ornate] sword lying nearby.<br>Feeling that [1:they] could put it to better use, [1] [grabs|takes|loots] it [from the ground|from [2]].`,p=>{p[1].gain('sword');p[2].lose('sword');});
			new G.act(lootDeadMult*0.025,[itemThief+' survivalist|any%0.8 !peaceful|axe|naive%0.5|meek%0.2','axe dead !nihil'],`[BLUE][1] [stumbles upon|finds|comes across] [2]'s [heavy|sharp|old] axe lying nearby.<br>[1:They] feel that it could be useful in the harsh wilderness, and [grabs|takes|loots] it [from the ground|from [2]].`,p=>{p[1].gain('axe');p[2].lose('axe');});
			new G.act(lootDeadMult*0.05,[itemThief+' goth%0.5|ninja%0.5|naive%0.5|any%0.5 !peaceful%0.8|cursed_knife','cursed_knife dead !nihil'],`[RED][1] [notices|spots|discovers] [2]'s [ominous|freaky|bloodied] knife lying nearby.<br>Despite feeling uneasy about it, [1] [grabs|takes|loots] it [from the ground|from [2]], hoping to use it to [2:their] advantage.`,p=>{p[1].gain('cursed knife');p[2].lose('cursed knife');});
			// - Ranged
			new G.act(lootDeadMult*0.025,[itemThief+' annoying|any%0.8 !peaceful|slingshot|naive%0.5','slingshot dead !nihil'],`[BLUE][1] [spies|sees|notices] a [tattered|frayed|handmade] slingshot next to [2]'s body.<br>[1:They] [grabs|takes|loots] it [from the ground|from [2]], thinking it could be a useful tool for hunting or defending [1:themself].`,p=>{p[1].gain('slingshot');p[2].lose('slingshot');});
			new G.act(lootDeadMult*0.025,[itemThief+' ninja%0.8|marksmen%0.5|any%0.5 !peaceful|shuriken|naive%0.5','shuriken dead !nihil'],`[BLUE][1] [notices|spots|sees] some [gleaming|shiny|sharp] [shurikens|throwing knives] lying near [2]\'s body.<br>Quickly, [1:they] [grab|take|loot] them [from the ground|from [2]], thinking they could come in handy in [1:their] next fight.`,p=>{p[1].gain('shuriken');p[2].lose('shuriken');});
			new G.act(lootDeadMult*0.025,[itemThief+' marksmen%0.8|survivalist%0.5|any%0.5 !peaceful|bow|naive%0.5','bow dead !nihil'],`[BLUE][1] [stares at|peers at|notices] the bow at [2]s side. [1] picks it up [as a weapon against|ready to use it against] any [potential enemies|threats].`,p=>{p[1].gain('bow');p[2].lose('bow');});
			new G.act(lootDeadMult*0.05,[itemThief+' pyromania%0.5|inventor%0.5|any%0.5 !peaceful|grenade|naive%0.5','grenade dead !nihil'],`[BLUE][1] [gasps in shock|shudders in fear|gulps nervously] when [1:they] [spots|see] [2] lying dead on the ground.<br>[1] [quickly snatches up|sneaks over and takes|grabs] the [improved|unused] grenade by [2]s body before [hastily departing|slinking away into the shadows|disappearing into the night].`,p=>{p[1].gain('grenade');p[2].lose('grenade');});
			new G.act(lootDeadMult*0.05,[itemThief+' devious%0.2|sociopath%0.4|any%0.5 !peaceful|freezing_sapphire|pyromania%0.5|naive','freezing_sapphire dead !nihil'],`[BLUE][1] notices something shiny on the ground. Looking closely, [1] [gasps in shock|shudders in fear|gulps nervously] as [1:they] hover [1:their] hands over that shiny object, which is a sapphire carried by the corpse of [2]! [1:they] hastily pocket it before promptly running away, as [1:they] should.`,p=>{p[1].gain('freezing sapphire');p[2].lose('freezing sapphire');});
			// - Gun
			new G.act(lootDeadMult*0.025,[itemThief+' marksmen|any%0.8 !peaceful|handgun|naive%0.5','handgun dead !nihil'],`[BLUE][1] notices the handgun lying next to [2] and [hurriedly|cautiously] [picks up|takes|grabs] the weapon [from the ground|from [2]] to [defend [1:themself]|stay safe].`,p=>{p[1].gain('handgun');p[2].lose('handgun');});
			new G.act(lootDeadMult*0.025,[itemThief+' marksmen|any%0.8 !peaceful|shotgun|naive%0.5','shotgun dead !nihil'],`[BLUE][1] spots the shotgun lying on the ground next to [2]. Feeling [nervous|anxious|apprehensive], [1] [picks up|takes|grabs] the weapon [from the ground|from [2]] to [defend [1:themself]|stay safe|ensure [1:their] survival].`,p=>{p[1].gain('shotgun');p[2].lose('shotgun');});
			new G.act(lootDeadMult*0.025,[itemThief+' pyromania|any%0.8 !peaceful|flamethrower|naive%0.5','flamethrower dead !nihil'],`[BLUE][1] notices the flamethrower lying near [2]\'s body and [hastily|nervously] [picks up|takes|grabs|steals] the fiery weapon [from the ground|from [2]] to [defend [1:themself]|stay safe].`,p=>{p[1].gain('flamethrower');p[2].lose('flamethrower');});
			new G.act(lootDeadMult*0.025,[itemThief+' inventor|any%0.8 !peaceful|rocket_launcher|naive%0.5|meek%0.2','rocket_launcher dead !nihil'],`[BLUE][1] [hesitantly|cautiously] picks up the rocket launcher lying on the ground next to [2]. Though [1:they] [are scared to|are unsure if [1:they] will] use it, [1] takes the weapon [from the ground|from [2]] to [defend [1:themself]|stay safe|ensure survival].`,p=>{p[1].gain('rocket launcher');p[2].lose('rocket launcher');});
			new G.act(lootDeadMult*0.025,[itemThief+' inventor|any%0.8 !peaceful|lasergun|naive%0.5','lasergun dead !nihil'],`[BLUE][1] [gazes in awe|marvels|is surprised] at the sight of the lasergun lying next to [2]\'s body. [1] [picks up|takes|grabs] the weapon [from the ground|from [2]] with the intention of using it [for protection|to stay safe].`,p=>{p[1].gain('lasergun');p[2].lose('lasergun');});
			// - Magic
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift%0.5|cute%0.5|any%0.5 !magic_wand|peaceful%0.5|naive%0.5','magic_wand dead !nihil'],`[BLUE][1] notices a [sparkling|glowing|shimmering] object near [2]s dead body and [walks towards|approaches|investigates] it.<br>[1] [picks up|steals|loots] the magic wand [from the ground|from [2]] hoping it will [magically keep [1:them] alive|be useful later|keep [1:them] safe].`,p=>{p[1].gain('magic wand');p[2].lose('magic wand');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift%0.5|goth%0.5|any%0.5 !ancient_scepter|peaceful%0.8|naive%0.5','ancient_scepter dead !nihil'],`[BLUE][1] [comes across|lays their eyes on|discovers] the ancient scepter that a dead [2] had with them.<br>[1] [picks up|steals|loots] the ancient scepter [from the ground|from [2]] hoping to [see how to use it|make better use of it|survive longer than [2] did].`,p=>{p[1].gain('ancient scepter');p[2].lose('ancient scepter');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift|any%0.8 !wish_ring|peaceful%0.5|naive%0.5','wish_ring dead !nihil'],`[BLUE][1] [notices|spies|sees] the [glowing|shimmering|radiant] wish ring on [2]'s finger.<br>[1] [slides off|steals|loots] the wish ring [from [2]|from [2:their] finger] hoping it will [prove useful|bring good luck].`,p=>{p[1].gain('wish ring');p[2].lose('wish ring');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift%0.5|marksmen%0.5|any%0.5 !lucky_coin|peaceful%0.5|naive%0.5','lucky_coin dead !nihil'],`[BLUE][1] [notices|spots|sees] the lucky coin that [2] had in their possession.<br>[1] [picks up|steals|loots] the lucky coin [off of [2]|from [2]] hoping to [stay alive longer|turn the tide of fate].`,p=>{p[1].gain('lucky coin');p[2].lose('lucky coin');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift|any%0.8 !random_orb|peaceful%0.5|naive%0.5','random_orb dead !nihil'],`[BLUE][1] [notices|spots|sees] the [mysterious|mystical|enigmatic] orb that [2] had in their possession.<br>[1] [reaches for|steals|loots] the random item orb [from [2]|off the floor] hoping to [get something useful|find value within it|discover the treasures within].`,p=>{p[1].gain('random orb');p[2].lose('random orb');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift|any%0.8 !topaz_with_a_hole|topaz_on_a_stick|peaceful%0.5|naive%0.5','topaz_with_a_hole dead !nihil'],`[BLUE][1] [notices|spots|sees] the strange topaz that [2] had in their possession.<br>[1] [reaches for|steals|loots] the piece of topaz [from [2]|off the floor] hoping to [make something with it|figure out its purpose].`,p=>{p[2].give(p[1], 'topaz with a hole')});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift|any%0.8 !topaz_with_a_hole|topaz_on_a_stick|peaceful%0.5|naive%0.5','topaz_on_a_stick dead !nihil'],`[BLUE][1] [notices|spots|sees] a crude magic wand that [2] had in their possession, with a wooden handle fallen from a tree and a [delicately|masterfully] [cut|crafted] topaz on the top.<br>[1] [reaches for|steals|loots] the magic wand [from [2]|off the floor][ hoping to [do something with it|use it against [2:their] enemies]|, thinking that it can [be useful|come in handy]].`,p=>{p[2].give(p[1], 'topaz with a hole')});
			new G.act(lootDeadMult*0.025,[itemThief+' cowardly%0.6|any%0.6|the_gift%0.6|artist !snake_charmer\'s_flute|peaceful%0.5|naive%0.5|sociopath%0.5','snake_charmer\'s_flute dead !nihil'],`[BLUE][1] [notices|spots|sees] a [mysterious|strange|unusual|intriguing] flute on [2]\'s dead body, with a faded golden exterior and touches of purple.<br>[1] [reaches for|steals|loots] the flute [from [2]|off the floor] to try to figure out what it does.`,p=>{p[2].give(p[1], 'snake charmer\'s flute')});
			new G.act(lootDeadMult*0.025,[itemThief+' cowardly%0.2|the_gift%0.6|goth%0.5|any%0.5|scrappy%0.1 !respawn_anchor|will_respawn|peaceful%0.5|naive%0.5|suicidal','respawn_anchor dead !nihil'],`[BLUE][1] [notices|spots|sees] a [dark, dark|ominous, yet promising|familiar, yet frightening] cauldrun that [2:their] dead body carries.<br>[1] [carefully carries|loots|fishes|takes] it out of [2:their] [bag|backpack].`,p=>{p[2].give(p[1], 'respawn anchor')});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift|any%0.8 !angel_in_a_bottle|peaceful%0.5|naive%0.5','angel_in_a_bottle dead !nihil'],`[BLUE][1] [notices|spots|sees] a [glowing and arcane|enticing and otherworldly|heavenly yet dim] [point of light|- what seems like - small fairies|heavenly glow|unusually bright fireflies] sealed in a [bottle|vial] that [2] had in their possession.<br>[1] [reaches for|steals|loots] it [from [2]|off the floor][ hoping to [do something with it|keep it as a souvenir]|, thinking that it can [be useful|come in handy]].`,p=>{p[2].give(p[1], 'topaz with a hole')});
			// - Armor
			new G.act(lootDeadMult*0.00625,[itemThief+' bulky%0.5|sociopath%0.5|survivalist%0.5|any%0.5 !knight_armor|peaceful%0.8|naive%0.8|cowardly%0.5|meek%0.2','knight_armor dead !nihil'],`[BLUE][1] [stops in their tracks|pauses|stumbles] when [1:they] come across the body of [2].<br>[1] notices the [shiny|durable|impressive] knight armor and [quickly|easily|swiftly] removes it from the [lifeless|lifeless and cold|lifeless and still] [2] for [protection|self-defense|future use].`,p=>{p[1].gain('knight armor');p[2].lose('knight armor');});
			new G.act(lootDeadMult*0.00625,[itemThief+' bulky%0.5|sociopath%0.5|survivalist%0.5|any%0.5 !combat_gear|peaceful%0.8|naive%0.8|cowardly%0.5|meek%0.2','combat_gear dead !nihil'],`[BLUE][1] [stops in their tracks|pauses|stumbles] when [1:they] come across the body of [2].<br>[1] notices the [tactical|military|camo] combat gear and [quickly|easily|swiftly] removes it from the [lifeless|lifeless and cold|lifeless and still] [2] for [protection|self-defense|future use].`,p=>{p[1].gain('combat gear');p[2].lose('combat gear');});
			new G.act(lootDeadMult*0.0125,[itemThief+' bulky%0.5|sociopath%0.5|survivalist%0.5|marksmen%0.5|any%0.5 !kevlar_vest|peaceful%0.8|naive%0.8|cowardly%0.5','kevlar_vest !survivalist%0.5|cowardly%0.5 dead !nihil'],`[BLUE][1] [searches|looks through|rifles through] the [clothes|body|vest] of [2] until [1:they] find a kevlar vest.<br>[1] [quickly|briskly|swiftly] removes the vest and puts it on [[1:themself]|for [1:their] safety|for future use].`,p=>{p[1].gain('kevlar vest');p[2].lose('kevlar vest');});
			new G.act(lootDeadMult*0.05,[itemThief+' bulky%0.5|kind%0.5|any%0.5 !kite_shield|peaceful%0.2|naive%0.5','kite_shield dead !nihil'],`[BLUE][1] [notices|spots|sees] the [sturdy|reliable|strong] kite shield that was left by [2]\s body.<br>[1] [quickly|hastily|swiftly] takes the shield and [uses it for protection|puts it to use].`,p=>{p[1].gain('kite shield');p[2].lose('kite shield');});
			new G.act(lootDeadMult*0.05,[itemThief+' stubborn%0.5|kind%0.5|any%0.5 !riot_shield|peaceful%0.2|naive%0.5','riot_shield dead !nihil'],`[BLUE][1] [comes across|stumbles upon|finds] the [strong|sturdy|protective] riot shield that [2] had been [carrying|holding|using] before [2:their] unfortunate demise.<br>[1] [quickly|hastily|swiftly] takes the shield and [uses it for protection|puts it to use].`,p=>{p[1].gain('riot shield');p[2].lose('riot shield');});
			// - Medicine
			new G.act(lootDeadMult*0.025,[itemThief+' medic|any%0.8 !first_aid_kit|peaceful%0.2|naive%0.5','first_aid_kit dead !nihil'],`[BLUE][1] [opens|inspects] [2] for any possessions, and finds a first aid kit which [1:they] [grab|take]. [1] figures it could be useful later on.`,p=>{p[1].gain('first aid kit');p[2].lose('first aid kit');});
			new G.act(lootDeadMult*0.025,[itemThief+' medic|any%0.8 !tourniquet|peaceful%0.2|naive%0.5','tourniquet dead !nihil'],`[BLUE][1] [searches [2]s body|loots [2]] and finds a tourniquet. [1] [places it in|attaches it to] [1:their] bag. It might cost a limb, but better safe than sorry.`,p=>{p[1].gain('tourniquet');p[2].lose('tourniquet');});
			new G.act(lootDeadMult*0.025,[itemThief+' medic|any%0.8 !AED|peaceful%0.2|naive%0.5','AED dead !nihil'],`[BLUE][1] [searches|looks through|rifles through] [2]s body and find an AED. [1] [puts it in|attaches it to] [1:their] bag. If [1:they] ever have to use it, it could be a lifesaver.`,p=>{p[1].gain('AED');p[2].lose('AED');});
			new G.act(lootDeadMult*0.05,[itemThief+' medic%0.5|suicidal%0.5|any%0.5 !medicine|peaceful%0.2|naive%0.5','medicine dead !nihil'],`[BLUE][1] [rummages through|searches|inspects] [2]s body and [pockets|takes] [a bottle of|some] medicine. [1] figures [1:they] might need it later.`,p=>{p[1].gain('medicine');p[2].lose('medicine');});
			// Materials
			new G.act(lootDeadMult*0.075,[itemThief+' scrappy%0.5|inventor%0.5|bulky%0.5|any%0.5 !scrap_metal|peaceful%0.5|naive%0.5','scrap_metal dead !nihil'],`[BLUE][1] [rummages|searches|scours] through a dead [2]'s belongings, finding a handful of [scrap metal|metal pieces|metal scraps]. Quietly, [1:they] [decide|plan|intend] to keep it, in case it comes in handy.`,p=>{p[1].gain('scrap metal');p[2].lose('scrap metal');});
			new G.act(lootDeadMult*0.075,[itemThief+' scrappy%0.5|inventor%0.5|marksmen%0.5|any%0.5 !gun_parts|peaceful%0.5|naive%0.5','gun_parts dead !nihil'],`[BLUE][1] [finds|spots] a small [bag|satchel|container] containing [gun parts|weapon parts|parts of a gun] near [2]s carcass. Quietly, [1:they] [sneak|take|grab] the [bag|satchel|container] and makes off with [1:their] loot.`,p=>{p[1].gain('gun parts');p[2].lose('gun parts');});
			new G.act(lootDeadMult*0.05,[itemThief+' scrappy%0.5|inventor%0.5|the_gift%0.5|any%0.5 !magic_dust|peaceful%0.5|naive%0.5','magic_dust dead !nihil'],`[BLUE][1] [carefully picks up|gently takes|slowly gathers] some [magic|magical|colorful|colourful] dust off [2]'s [clothing|body|belongings]. Planning ahead, [1:they] [hope|wish|plan] to use it somehow later.`,p=>{p[1].gain('magic dust');p[2].lose('magic dust');});
			new G.act(lootDeadMult*0.05,[itemThief+' scrappy%0.5|inventor%0.5|artist%0.5|any%0.5 !roll_of_fabric|peaceful%0.5|naive%0.5','roll_of_fabric dead !nihil'],`[BLUE][1] [unfurls|unrolls|unwinds] a roll of fabric found in [2]'s possession. [1] [considers|think about|ponder on] whether or not to take it, and conclude it is better safe than sorry.`,p=>{p[1].gain('roll of fabric');p[2].lose('roll of fabric');});
			// Consumables
			new G.act(lootDeadMult*0.075,[itemThief+' any !vanilla_ice_cream','vanilla_ice_cream dead !nihil'],`[BLUE][1] suddenly feels a [mysterious|primal|irresistible] urge to go somewhere specific...<br>When [1:they] arrive, [1:their] eyes immediately wander onto that sparkling cone of vanilla ice cream that [2]\'s dead body has! [1] immediately takes it, enamored for a moment - only for a moment, though.`,p=>{p[2].give(p[1], 'vanilla ice cream');});
			new G.act(lootDeadMult*0.05,[itemThief+' any !cookie_dough','cookie_dough dead !nihil'],`[BLUE][1] found a small mound of cookie dough on [2]!<br>Thinking that it could be useful in a pinch, [1] takes it.`,p=>{p[2].give(p[1], 'cookie dough');});
			new G.act(lootDeadMult*0.05,[itemThief+' any !batch_of_cookies','batch_of_cookies dead !nihil'],`[BLUE][1] found a still-fresh batch of cookies on [2]!<br>Thinking that it could be useful in a pinch, [1] takes it.`,p=>{p[2].give(p[1], 'batch of cookies');});
			new G.act(lootDeadMult*0.05,[itemThief+' any !hot_chocolate','hot_chocolate dead !nihil'],`[BLUE][1] found a still-warm cup of hot chocolate on [2]!<br>Thinking that it could be useful in a pinch, [1] takes it.`,p=>{p[2].give(p[1], 'hot chocolate');});
			new G.act(lootDeadMult*0.05,[itemThief+' any !mint_essence|mint_enhanced','mint_essence dead !nihil'],`[BLUE][1] found a tiny, turquoise-colored, minty crystal on [2]!<br>Intrigued, [1] [takes|snatches|carefully bags|puts it in [1:their] pocket] from [2:their] deceased body for further examination.`,p=>{p[2].give(p[1], 'mint essence');});
			new G.act(lootDeadMult*0.05,[itemThief+' any !extreme_cinnamon_soda','extreme_cinnamon_soda dead !nihil'],`[BLUE][1] found a bottle of what appears to be flavored soda on [2]!<br>Thinking that it could be useful in a pinch, [1] takes it.`,p=>{p[2].give(p[1], 'extreme cinnamon soda');});
			
            // Rich AirDrop! -TW
            new G.act(airDropMult*0.2,['rich !dapper_suit|survivalist%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a fresh change of clothes. The dapper suit is quite fetching.`,p=>{p[1].gain('dapper suit');});
            new G.act(airDropMult*0.05,['rich marksmen|vigilant%0.5|any%0.5 !handgun|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a handgun with plenty of ammo!`,p=>{p[1].gain('handgun');});
            new G.act(airDropMult*0.05,['rich annoying|vigilant%0.5|any%0.5 !grenade|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a single grenade...`,p=>{p[1].gain('grenade');});
            new G.act(airDropMult*0.04,['rich marksmen|vigilant%0.5|any%0.5 !shotgun|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a shotgun and shells!`,p=>{p[1].gain('shotgun');});
            new G.act(airDropMult*0.01,['rich sociopath|vigilant%0.5|any%0.5 !rocket_launcher|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a whole rocket launcher! Now that's a game changer!`,p=>{p[1].gain('rocket launcher');});
            new G.act(airDropMult*0.02,['rich pyromania|vigilant%0.5|any%0.5 !flamethrower|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a dangerous looking flamethrower`,p=>{p[1].gain('flamethrower');});
            new G.act(airDropMult*0.03,['rich bulky|vigilant%0.5|any%0.5 !combat_gear|meek%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a complete suit of tactical combat gear!`,p=>{p[1].gain('combat gear');});
			new G.act(airDropMult*0.1,['rich medic|vigilant%0.5|any%0.5 !first_aid_kit|suicidal%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a kit of first aid supplies.`,p=>{p[1].gain('first aid kit');});
			new G.act(airDropMult*0.06,['rich the_gift|vigilant%0.5|any%0.5 !freezing_sapphire|topaz_on_a_stick|topaz_with_a_hole'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds two gems - literally, one sapphire and one topaz.`,p=>{p[1].gain('freezing sapphire');p[1].gain('topaz with a hole');});
			new G.act(airDropMult*0.03,['rich goth|the_gift%0.5|vigilant%0.5|any%0.5 !respawn_anchor|will_respawn'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a mysterious cauldrun, with myths about its life-anchoring powers.`,p=>{p[1].gain('respawn anchor');});
			new G.act(airDropMult*0.03,['rich the_gift|vigilant%0.5|any%0.5 !angel_in_a_bottle|angel\'s_revival|goth%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a promising, glowing bottle, not to be opened until the last moment of life.`,p=>{p[1].gain('angel in a bottle');});
			new G.act(airDropMult*0.02,['rich medic|vigilant%0.5|any%0.5 !panacea_pellet|sociopath%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a mysterious and promising [pellet|pill|capsule], known to harbor life within!`,p=>{p[1].gain('panacea pellet');});
			
            new G.act(airDropMult*0.2,['rich !dapper_suit%0.5|survivalist%0.5|vigilant','- !dapper_suit%0.8|survivalist%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a fresh change of clothes. The dapper suit is quite fettching.`,p=>{p[2].gain('dapper suit');});
            new G.act(airDropMult*0.05,['rich marksmen|any%0.5 !shotgun%0.5|peaceful%0.5|vigilant','- !handgun%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a handgun with plenty of ammo!`,p=>{p[2].gain('handgun');});
            new G.act(airDropMult*0.05,['rich annoying|any%0.5 !grenade%0.5|peaceful%0.5|vigilant','- !grenade%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a single grenade...`,p=>{p[2].gain('grenade');});
            new G.act(airDropMult*0.04,['rich marksmen|any%0.5 !shotgun%0.5|peaceful%0.5|vigilant','- !shotgun%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a shotgun and shells!`,p=>{p[2].gain('shotgun');});
            new G.act(airDropMult*0.01,['rich sociopath|any%0.5 !rocket_launcher%0.5|peaceful%0.5|vigilant','- !rocket_launcher%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a whole rocket launcher! Now that's a game changer!`,p=>{p[2].gain('rocket launcher');});
            new G.act(airDropMult*0.02,['rich pyromania|any%0.5 !flamethrower%0.5|peaceful%0.5|vigilant','- !flamethrower%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a dangerous looking flamethrower`,p=>{p[2].gain('flamethrower');});
            new G.act(airDropMult*0.03,['rich bulky|any%0.5 !combat_gear%0.5|meek%0.5|vigilant','- !combat_gear%0.8|meek%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a complete suit of tactical combat gear!`,p=>{p[2].gain('combat gear');});
			new G.act(airDropMult*0.1,['rich medic|any%0.5 !first_aid_kit%0.5|suicidal%0.5|vigilant','- !first_aid_kit%0.8|suicidal%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a kit of first aid supplies.`,p=>{p[2].gain('first aid kit');});
			new G.act(airDropMult*0.06,['rich the_gift|any%0.5 !freezing_sapphire|topaz_on_a_stick|topaz_with_a_hole|vigilant','- !freezing_sapphire|topaz_on_a_stick|topaz_with_a_hole%1'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds two gems - literally, one sapphire and one topaz.`,p=>{p[2].gain('freezing sapphire');p[2].gain('topaz with a hole');});
			new G.act(airDropMult*0.03,['rich goth|the_gift%0.5|any%0.5 !respawn_anchor|will_respawn|vigilant','- !respawn_anchor|will_respawn|goth%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a mysterious cauldrun, with myths about its life-anchoring powers.`,p=>{p[2].gain('respawn anchor');});
			new G.act(airDropMult*0.03,['rich the_gift|vigilant%0.5|any%0.5 !angel_in_a_bottle|angel\'s_revival|goth%0.5','- !angel_in_a_bottle|angel\'s_revival|the_gift%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a promising, glowing bottle, not to be opened until the last moment of life.`,p=>{p[2].gain('angel in a bottle');});
			new G.act(airDropMult*0.02,['rich medic|peaceful%0.5|any%0.5 !panacea_pellet|sociopath%0.5|vigilant', '- !panacea_pellet%0.8|sociopath%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a mysterious and promising [pellet|pill|capsule], known to harbor life within!`,p=>{p[2].gain('panacea pellet');});
            
			// Crafting for self -TW
			new G.act(itemCraftMult*0.04,['scrap_metal scrappy%0.2|artist%0.3|any%0.5 !big_stick|peaceful|inventor%0.2'],`[BLUE][1] attaches [1:their] metal scraps to a stick, making a big, crude, club.`,p=>{p[1].gain('big stick');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.03,['scrap_metal scrappy%0.2|artist%032|any%0.5 !pitchfork|peaceful%0.5|inventor%0.5'],`[BLUE][1] fashions a new pitchfork from [1:their] scrap metal.<br>Turns out most of the scrap was from some farm tools.`,p=>{p[1].gain('pitchfork');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.3|any%0.5 !sword|peaceful'],`[BLUE][1] forges the spare metal [1:they] found into a fine blade<br>[1] practices swinging it around in the air.`,p=>{p[1].gain('sword');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.3|any%0.5 !axe|peaceful'],`[BLUE][1] takes the time to forge an axe head out of [1:their] spare chunks of metal.<br>The new axe is crude, but effective.`,p=>{p[1].gain('axe');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.3|any%0.5 !shuriken|peaceful'],`[BLUE][1] forges the scraps of metal into various throwing knives.<br>They may not all match, but they should still be deadly.`,p=>{p[1].gain('knight armor');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.3|any%0.5 !bow|peaceful'],`[BLUE][1] fletches some arrows and a bow together in [1:their] spare time.<br>With [1:their] metal scrap acting as arrowheads, [1] soon has a new weapon.`,p=>{p[1].gain('bow');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.02,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.3|kind%0.2|any%0.5 !kite_shield'],`[BLUE][1] carefully takes the time to forge reinforcements for a wooden base.<br>Eventually, [1] has an effective kite shield for [1:their] protection!`,p=>{p[1].gain('knight armor');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.01,['scrap_metal inventor%0.5|any%0.2 !knight_armor'],`[BLUE][1] cleverly forges a whole suit of armor.<br>[1] knew that scrap metal would be put to good use!`,p=>{p[1].gain('knight armor');p[1].lose('scrap metal');});
            new G.act(itemCraftMult*0.1,['gun_parts scrappy%0.2|artist%0.3|any%0.5 !handgun|peaceful|inventor%0.5'],`[BLUE][1] manages to piece together a simple working gun from the parts [1:they] found.`,p=>{p[1].gain('handgun');p[1].lose('gun parts');});
                new G.act(itemCraftMult*0.06,['gun_parts !shotgun|peaceful|inventor%0.5'],`[BLUE][1] begins making shells for the new shotgun [1:they] finished building.<br>[1]'s gun parts found a good use.`,p=>{p[1].gain('shotgun');p[1].lose('gun parts');});
				new G.act(itemCraftMult*0.03,['gun_parts inventor%0.5|pyromania%0.8|scrappy%0.25|artist%0.25|any%0.5 !flamethrower|peaceful'],`[BLUE][1] pieces together the gun parts [1:they] found into a flamethrower!<br>Now this is a fire arm!`,p=>{p[1].gain('flamethrower');p[1].lose('gun parts');});
                new G.act(itemCraftMult*0.01,['gun_parts inventor%0.5|any%0.2 !lasergun|peaceful'],`[BLUE][1] hides away in a surge of inspiration.<br>When [1:g|he returns|she returns|they return|it returns], [1:their] assembled gunparts glow with a new scientific hum.`,p=>{p[1].gain('lasergun');p[1].lose('gun parts');});
            new G.act(itemCraftMult*0.04,['roll_of_fabric scrappy%0.2|any%0.5 !leather_scraps|inventor%0.2|artist%0.5'],`[BLUE][1] makes a mess of [1:their] roll of fabric...<br>The once high quality leather is now merely scraps of armor.`,p=>{p[1].gain('leather scraps');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.04,['roll_of_fabric scrappy%0.2|artist%0.3|any%0.5 !slingshot|peaceful|inventor%0.5'],`[BLUE][1] tries out a sling made from [1:their] fabric, but it's hard to use...<br>[1] settles for turning it into a slingshot instead.`,p=>{p[1].gain('slingshot');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric scrappy%0.2|artist%0.5|any%0.5 !bikini|inventor%0.5'],`[BLUE][1] works on a new outfit with [1:their] rolls of fabric.<br>There wasn't much fabric to work with, but [1]'s new bikini sure is stunning!`,p=>{p[1].gain('bikini');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.02,['roll_of_fabric scrappy%0.2|artist%0.5|any%0.5 !dapper_suit|inventor%0.5'],`[BLUE][1] measures [1:themself] before tailoring [1:their] fabric.<br>It's a lot of hard work, but [1]'s new dapper suit is priceless!`,p=>{p[1].gain('dapper suit');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric scrappy%0.2|artist%0.5|any%0.5 !parka|inventor%0.5'],`[BLUE][1] is tired of wearing [1:their] bundles of fabric for warmth...<br>[1] fashions the fabric into a proper parka instead.`,p=>{p[1].gain('parka');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.01,['roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.3|any%0.5 !kevlar_vest'],`[BLUE][1] realizes some of [1:their] fabric is kevlar!<br>A new vest could be pricelessly lifesaving, [1] works on one right away.`,p=>{p[1].gain('kevlar vest');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.02,['roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.3|medic%0.5|any%0.5 !tourniquet'],`[BLUE][1] tries fashioning a tourniquet from [1:their] fabric.<br>[1] takes a while to find a proper windlass rod, but the new tourniquet is ready for an emergency.`,p=>{p[1].gain('tourniquet');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.01,['roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.3|medic%0.5|any%0.5 !first_aid_kit'],`[BLUE][1] takes the time to sterilize rolls of cloth for bandages.<br>It's time consuming, but a first aid kit is worth the effort.`,p=>{p[1].gain('first aid kit');p[1].lose('roll of fabric');});
			new G.act(itemCraftMult*0.1,['magic_dust scrappy%0.2|artist%0.2|the_gift%0.2|any%0.5 !magic_wand|inventor%0.5'],`[BLUE][1] spills [1:their] magic dust over a stick.<br>The new wand begins to glow softly, leaving a trail of sparkles`,p=>{p[1].gain('magic wand');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.02,['magic_dust clumsy|any%0.5 !lucky_coin'],`[BLUE][1] trips and spills their magic dust everywhere! What a waste...<br>Wait, [1] finds a shimmering coin that was hidden in the dust...?`,p=>{p[1].gain('lucky coin');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.02,['magic_dust inventor%0.5|the_gift%0.5|artist%0.2|goth%0.2|any%0.5 !ancient_scepter|peaceful%0.5'],`[BLUE][1] finds an old shadowy orb that whispers softly...<br>[1] pours the magic dust on it, as it swirls cloudly back to life.`,p=>{p[1].gain('ancient scepter');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.05,['magic_dust inventor%0.5|pyromania%0.2|unstable%0.2|scrappy%0.2|artist%0.3|any%0.5 !grenade|peaceful'],`[BLUE][1] tries compacting as much magic dust into as small of a container as possible.<br>The new makeshift grenade cracks unstably.`,p=>{p[1].gain('grenade');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.01,['magic_dust inventor%0.5|artist%0.5|the_gift%0.5|any%0.2 !wizard_robe'],`[BLUE][1] finds an old robe, and decorates it with [1:their] magic dust.<br>[1] slips on [1:their] new wizard cosplay.`,p=>{p[1].gain('wizard robe');p[1].lose('magic dust');});
			new G.act(itemCraftMult*0.04,['scrap_metal roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !riot_shield'],`[BLUE][1] finds a large chunk of durable plexiglass.<br>[1] uses [1:their] metal scraps to make a rim and handle for [1:their] new makeshift riot shield.`,p=>{p[1].gain('riot shield');p[1].lose('scrap metal');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.02,['gun_parts scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !rocket_launcher|peaceful'],`[BLUE][1] cleverly figures out how to use [1:their] gun parts and scrap metal to make a whole rocket launcher.<br>[1] begins working on the ammo next...`,p=>{p[1].gain('rocket launcher');p[1].lose('gun parts');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.01,['gun_parts magic_dust inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !lasergun|peaceful'],`[BLUE][1] tries assembling a gun and loading it with magic dust for ammo.<br>[1] nearly falls back as the magically glowing gun fires a laser blast!`,p=>{p[1].gain('lasergun');p[1].lose('gun parts');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric big_stick inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !tourniquet'],`[BLUE][1] fashions an effective tourniquet out of [1:their] stick and fabric.<br>Hopefully [1] doesn't need it later.`,p=>{p[1].gain('tourniquet');p[1].lose('roll of fabric');p[1].lose('big stick');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric medicine inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !first_aid_kit'],`[BLUE][1] fashions bandages and sterile wraps with [1:their] fabric and medicine.<br>This new first aid kit could be life saving!`,p=>{p[1].gain('first aid kit');p[1].lose('roll of fabric');p[1].lose('medicine');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !combat_gear'],`[BLUE][1] realizes some of the fabric is kevlar!<br>With some forged scrap metal and full body tailoring, the new combat gear looks ready for war!`,p=>{p[1].gain('combat gear');p[1].lose('roll of fabric');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.01,['magic_dust scrap_metal inventor%0.5|scrappy%0.2|the_gift%0.5|artist%0.2|any%0.5 !wish_ring'],`[BLUE][1] forges [1:their] metal scraps into a ring, and cools it in the magic dust.<br>It sparkles softly in the light...`,p=>{p[1].gain('wish ring');p[1].lose('magic dust');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.03,['magic_dust roll_of_fabric inventor%0.5|scrappy%0.2|the_gift%0.5|artist%0.5|any%0.5 !wizard_robe'],`[BLUE][1] tailors a custom fitting robe for [1:themself]<br>With the help of [1:their] magic dust, the new robe begins to flutter with power.`,p=>{p[1].gain('wizard robe');p[1].lose('magic dust');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.01,['magic_dust inventor%0.5|scrappy%0.3|the_gift%0.2|medic%0.5|any%0.5 !panacea_pellet'],`[BLUE][1] accidentally gets some magic dust on [1:their] fingers and ingested some, soon realizing a strange healing property with it. Inspired, [1:they] condensed some magic dust into a small [pill|pellet|capsule], forming a powerful medicine.`,p=>{p[1].gain('panacea pellet');p[1].lose('magic dust');});
			//topaz
			new G.act(itemCraftMult*0.75,['topaz_with_a_hole inventor%0.5|scrappy%0.2|artist%0.3|any%0.5|the_gift%0.5|goth%0.2|big_stick !topaz_on_a_stick'],`[BLUE][1] remembers [1:their] topaz with a suspiciously shaped hole, and soon realized...<br>[1] got a nearby branch and put the topaz onto one end, which neatly snaps together! In [1:their] [amazement|astonishment], the topaz feels tingly and electric to the touch, now faintly glowing yellow!`,p=>{ p[1].lose('topaz with a hole'); p[1].gain('topaz on a stick'); });
			//cooking
			new G.act(itemCraftMult*0.75,['cookie_dough any%0.5|pyromania%0.3|flamethrower%0.25|survivalist%0.2|inventor%0.3|artist%0.2|big_stick%0.05|the_gift%0.5'],`[BLUE][1] starts a fire and uses it to bake [1:their] cookie dough into brand-new, [steaming|delicious] batches of cookies! While the methods are crude and the finished product looks [rather disappointing|somewhat disfigured|slightly malformed|arguably undercooked], they are still as [delicious|tasty] as ever.`,p=>{ p[1].gain('batch of cookies').uses = p[1].has('cookie dough').uses; p[1].lose('cookie dough'); });
			//panacea pellet
			new G.act(0.01,['panacea_pellet cowardly%0.5|any%0.1|naive%0.25|clumsy%0.1|cursed_knife%0.05'],`[BLUE][1] takes a good look at [1:their] glowing, glittering miracular pellet... and downs it in one swing!<br>Suddenly, [1:they] feel rejuvenated with energy - but was that really worth it?`,p=>{ p[1].globalRestore(); p[1].lose('panacea pellet'); });
			G.fitFuncs.inHelpFunc = (n) => {
				if (this.type != 'char') { return 0; }
				n = parseFloat(n)??1;
				let count = 0;
				count += this.isDisabled();
				count += 0.4 * this.isAiled();
				count += 0.5 * this.isInjured();
				if (this.isDead()) { count += 10; }
				return count * 0.02 * n;
			}
			new G.act(G.fitFuncs.inHelpFunc,['panacea_pellet cowardly%0.5|any%0.5|survivalist%0.5|analytical%0.2'],`[BLUE]Feeling completely lost and hopeless, [1] turns to [1:their] last resort, and takes out [1:their] glowing, iridescent pellet, shoving it down [1:their] own throat.<br>Miraculously, every wound on [1:them] began to heal all at once, blood returning to and draining into [1:their] regrown body!<br>Looking at [1:themself] again, [1:they are] completely in awe at this transformation, [1:their] body completely wiped of all wounds and bruises, and the mind crystal clear and alert.`,(p) => { p[1].globalRestore(); p[1].lose('panacea pellet'); });
			new G.act(0.5,['panacea_pellet any%0.5|kind%0.35|leader%0.25|medic%0.75|analytical%0.1|will_respawn|angel_in_a_bottle%0.5|kite_shield%0.1|riot_shield%0.1', '+ func:inHelpFunc#0.5 any%0.2|kind%0.6|leader|medic%0.4|animal_ken%0.3|rich%0.5|cute%0.6|seductive%0.5|vanilla_ice_cream !annoying%0.4|devious%0.3|sociopath%0.6|nerd%0.2|stubborn%0.4|unstable%0.1|pyromania%0.2'],`[BLUE]Seeing the painful, agonizing struggles of [1:their] [teammate|dear friend] [2], [1][| feels really bad for [2:them] and| is overwhelmed with empathy and| feels [1:their] moral calling and] takes out [1:their] glowing, iridescent pellet, [sliding|putting|shoving|dropping] it down [2:their] throat.<br>Miraculously, every wound on [2] began to heal all at once, blood returning to and draining into [2:their] regrown body!<br>Becoming more aware, [2:they] looks at [2:themself] again, and is completely in awe at [2:their] transformation, [2:their] body completely wiped of all wounds and bruises, and the mind crystal clear and alert.`,(p) => { p[2].globalRestore(); p[1].lose('panacea pellet'); });
			new G.act(0.9,['panacea_pellet any%0.7|kind%0.35|leader%0.4|medic|analytical%0.1', '+ func:inHelpFunc#0.2|dead%0.8 dead%0.5|kind%0.6|leader%0.8|medic%0.4|animal_ken%0.3|rich%0.5|cute%0.6|seductive%0.5|vanilla_ice_cream !annoying%0.4|devious%0.3|sociopath%0.6|nerd%0.2|stubborn%0.4|unstable%0.1|pyromania%0.2 !nihil'],`[BLUE]Seeing [[1:their] dead [teammate|friend]|[1:their] [teammate|friend] that is now a lifeless corpse|a corpse that strongly resembled someone [1:they] knew], [1][| desperately wants [2:them] back and| is overwhelmed with emotions and memories and| feels [1:their] moral calling and] takes out [1:their] glowing, iridescent pellet, [gently sliding|putting|inserting|dropping] it down [2:their] throat.<br>Miraculously, every wound on [2] began to heal all at once, blood returning to and draining into [2:their] regrown body!<br>Soon, [2:they] opens [2:their] eyes once more, realizing what has just happened...`,(p) => { p[2].globalRestore(); p[2].revive('panacea restore', p[1]); p[1].lose('panacea pellet'); });
            // Crafting for teammates -TW
				// TODO - write new teamwork craft. (Friendly and Leader-inspired)
			new G.act(itemCraftMult*0.01,['inventor kind%0.5|leader%0.5|artist%0.2|any%0.5','+ scrap_metal !peaceful|inventor'],`[BLUE][2] asks [1] for help with [forging|finding a use for] the metal [scrap|scraps] [2:they] found.<br>[1] stokes an improvised forge, and soon [2] has a new sword to protect themselves!`,p=>{p[2].lose('scrap metal');p[2].gain('sword');});
			new G.act(itemCraftMult*0.01,['inventor kind%0.5|leader%0.5|artist%0.2|any%0.5','+ scrap_metal !peaceful|inventor'],`[BLUE][2] asks [1] for help with [forging|finding a use for] the metal [scrap|scraps] [2:they] found.<br>[1] leverages a [big piece of rock|a slab of granite] as an anvil, creating a crude but effective axe!`,p=>{p[2].lose('scrap metal');p[2].gain('axe');});
			new G.act(itemCraftMult*0.005,['inventor leather_scraps kind%0.5|leader%0.5|artist%0.2|any%0.5','+ scrap_metal !peaceful|inventor'],`[BLUE][1] realizes that [2] has metal scraps that would go well with [1:their] own leather scraps, and so they worked together to create two copies of a nice and durable shield for them both!`,p=>{p[2].lose('scrap metal');p[1].lose('leather scraps');p[2].gain('kite shield');p[1].gain('kite shield');});
			new G.act(itemCraftMult*0.005,['inventor scrap_metal kind%0.5|leader%0.5|artist%0.2|any%0.5','+ leather_scraps !peaceful|inventor'],`[BLUE][1] realizes that [2] has leather scraps that would go well with [1:their] own scraps of metal, and so they worked together to create two copies of a nice and durable shield for them both!`,p=>{p[2].lose('leather scraps');p[1].lose('scrap metal');p[2].gain('kite shield');p[1].gain('kite shield');});
			new G.act(itemCraftMult*0.01,['inventor kind%0.5|leader%0.5|artist%0.2|any%0.5','+ magic_dust !inventor'],`[BLUE][2] didn't know what to do with [2:their] [glittering|magical|glowing|fairy|magic] dust...<br>[1] offers to help, soon turning them into whatever [2:they] could want - a random item orb!`,p=>{p[2].lose('magic dust');p[2].gain('random orb');});

            // Random Item Orb -TW
            // - Melee
			new G.act(0.025,['random_orb !big_stick'],`[BLUE][1] can't wait to get a cool item from [1:their] orb.<br>It begins to shine, and turns into a really big stick.`,p=>{p[1].gain('big stick');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !pitchfork'],`[BLUE][1] almost loses [1:their] random item orb, but when they find it, it turns into a pitchfolk.<br>[1] supposes they might be able to pitch it at something.`,p=>{p[1].gain('pitchfork');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !sword'],`[BLUE][1] pretends to draw one of the items appearing on the surface of [1:their] orb.<br>To [1:their] surprise, they draw a sword out from the orb as it fades away.`,p=>{p[1].gain('sword');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !axe'],`[BLUE][1] shakes their random item orb. It turns into an axe, upping [1:their] chances of survival somewhat.`,p=>{p[1].gain('axe');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !cursed_knife'],`[RED][1] ponders [1:their] orb, as it begins to glow a dark red...<br>The orb hatches like an egg, leaving an eerie knife.`,p=>{p[1].gain('cursed knife');p[1].lose('random orb');});
			// - Ranged
			new G.act(0.03125,['random_orb !slingshot'],`[BLUE][1] watches [1:their] orb slowly turn into an item.<br>Hey, listen! It's just a slingshot now.`,p=>{p[1].gain('slingshot');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !slingshot'],`[BLUE][1] nearly trips and drops [1:their] random item orb.<br>As it lands, it shatters into a myriad throwing knives and shuriken.`,p=>{p[1].gain('shuriken');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !bow'],`[BLUE][1] ponders [1:their] orb, before a bunch of arrows and a whole bow fly out.<br>After taking cover, [1] realizes the bow is still intact.`,p=>{p[1].gain('bow');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !grenade'],`[BLUE][1] ponders [1:their] orb. It begins to shrink, leaving behind only a single grenade.`,p=>{p[1].gain('grenade');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !freezing_sapphire'],`[BLUE][1] suddenly feels a chilly sensation in [1:their] pockets...<br>Peering in, it appears that [1:their] random item orb had turned into a flawlessly cut piece of sapphire!`,p=>{p[1].gain('freezing sapphire');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !high_pressure_garden_hose'],`[BLUE][1] wishes for something really versatile from [1:their] random item orb.<br>With a sudden glow, [1:their] random item orb unraveled itself as it morphed into a garden hose! One that is durable enough to handle quite some pressure...`,p=>{p[1].gain('high pressure garden hose');p[1].lose('random orb');});
			// - Firearms
			new G.act(0.025,['random_orb !handgun'],`[BLUE][1] reaches into [1:their] orb and pulls out a gun!<br>It appears fully loaded.`,p=>{p[1].gain('handgun');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !shotgun'],`[BLUE][1] ponders [1:their] orb, many items flash by, before settling on a shotgun.`,p=>{p[1].gain('shotgun');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !rocket_launcher'],`[BLUE][1] watches [1:their] orb blink rapidly, before a whole rocket launcher falls out of it.`,p=>{p[1].gain('rocket launcher');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !flamethrower'],`[BLUE]After settling on a fire-flower, [1]'s orb has turned into a whole flamethrower! Dangerous!`,p=>{p[1].gain('flamethrower');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !lasergun'],`[BLUE]Whoah! [1]'s random orb turned into a laser gun!<br>[1:g|He starts|She starts|They start|It starts] swinging it around making "pew pew" sounds, before [1:they] realize [1:they] can just pull the trigger and make those sounds for real.`,p=>{p[1].gain('lasergun');p[1].lose('random orb');});
			// - Magic
			new G.act(0.025,['random_orb !magic_wand'],`[BLUE][1] gets excited as [1:their] orb shows an invincibility star, only for it to turn into a magic wand instead.`,p=>{p[1].gain('magic wand');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !ancient_scepter'],`[BLUE][1] ponders [1:their] orb as it begins to glow brighter, an elegant handle growing from it.<br>Arcane magic courses through [1:their] body as [1:their] fingers touch the carved wood.`,p=>{p[1].gain('ancient scepter');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !wish_ring'],`[BLUE][1] finds [1:their] random item orb turned into some sort of ring.<br>[1] wishes for something better, only for the ring to start glowing brightly.<br>Afraid to ruin [1:their] chance at wishes, [1:they] start to consider more carefully.`,p=>{p[1].gain('wish ring');p[1].lose('random orb');});
            new G.act(0.025,['random_orb !lucky_coin'],`[BLUE][1] drops [1:their] orb and panics. Trying to find it, [1:they] only find a single coin instead...`,p=>{p[1].gain('lucky coin');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !topaz_with_a_hole !topaz_on_a_stick'],`[BLUE][1] plays with [1:their] random item orb in [1:their] pocket out of habit, but this time, [1:they] found the texture to be... rather strange, with numerous excellently polished and flat surfaces and a void on one side. <br>Taking it out, it appears to have transformed into a topaz, and that void [1:they] felt earlier was simply a hole in it.`,p=>{p[1].gain('topaz with a hole'); p[1].lose('random orb'); });
			new G.act(0.025,['random_orb !snake_charmer\'s_flute'],`[BLUE][1] holds [1:their] random item orb, when it started abruptly morphing, its iridescent surface stretching to two poles, eventually settling into the shape of a flute.`,p=>{p[1].gain('snake charmer\'s flute');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !respawn_anchor !will_respawn'],`[BLUE][1] wishes with [1:their] live for something really useful from [1:their] random item orb.<br>It seems to be touched by [1:their] prayers, and in it forms a small cruible of sorts, capable of granting its user another life!`,p=>{p[1].gain('respawn anchor');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !angel_in_a_bottle !angel\'s_revival'],`[BLUE][1] really doesn\'t want to die so fast.<br>[1:g|His|Her|Their|Its] random item orb shivers briefly, before breaking open, revealing a bottle imprisoning a mysterious glowing light - said to be a talisman to ward off the greatest of misfortunes.`,p=>{p[1].gain('angel in a bottle');p[1].lose('random orb');});
            new G.act(0.025,['random_orb'],`[1] is ready to recieve an item from [1:their] orb.<br>The myriad items on it's surface slow down, before settling on...<br>... another orb.`);
            // - Clothing
			new G.act(0.025,['random_orb !leather_scraps'],`[BLUE][1] ponders [1:their] orb, only for it to hatch into... some scraps of leather.<br>[1] pretends it's a new suit of armor, better than nothing!`,p=>{p[1].gain('leather scraps');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !bikini'],`[BLUE][1] finds [1:their] random orb has become a skimpy bikini.<br>[1] could use a new change of clothes...`,p=>{p[1].gain('bikini');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !dapper_suit'],`[BLUE][1] ponders the mystery of [1:their] orb, only for it to become a dazzling suit.<br>[1] is looking quite fancy now!`,p=>{p[1].gain('dapper suit');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !wizard_robe'],`[BLUE][1] wonders what random upgrade [1:their] orb will give. Only for it to turn into a wizard robe!<br>[1:g|He slips|She slips|They slip|It slips] it on, scattering sparkles everywhere.`,p=>{p[1].gain('wizard robe');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !parka'],`[BLUE][1] wonders if [1:their] orb can protect [1:them].<br>It turns into a comfy looking parka, that might work.`,p=>{p[1].gain('parka');p[1].lose('random orb');});
			// - Armor
			new G.act(0.025,['random_orb !knight_armor'],`[BLUE][1] rubs [1:their] shiny item orb, only for it to change into a whole suit of armor!<br>[1] feels quite safe now!`,p=>{p[1].gain('knight armor');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !combat_gear'],`[BLUE][1] finds [1:their] random item orb has turned into a suit of Combat Gear!<br>It provides optimal protection for the whole body, without sacrificing flexibility.`,p=>{p[1].gain('combat gear');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !kevlar_vest'],`[BLUE][1] ponders [1:their] orb, as it settles on a vest.<br>The material looks like kevlar, so [1] puts it on for now.`,p=>{p[1].gain('kevlar vest');p[1].lose('random orb');});
            new G.act(0.025,['random_orb !kite_shield'],`[BLUE][1] tosses [1:their] orb around a little, only for it to turn into a heavy shield mid-air.<br>[1] almost drops it on their foot, but at least it looks useful.`,p=>{p[1].gain('kite shield');p[1].lose('random orb');});
            new G.act(0.025,['random_orb !riot_shield'],`[BLUE][1]'s random orb turns into a modern riot shield!<br>[1] begins crouching and acting all tactical!`,p=>{p[1].gain('riot shield');p[1].lose('random orb');});
			// - Medicine
			new G.act(0.03125,['random_orb !medicine'],`[BLUE][1] is getting a headache from staring at [1:their] item orb too often.<br>As if in response, the orb turns out to be a container of medicine all along!`,p=>{p[1].gain('medicine');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !first_aid_kit'],`[BLUE][1] is very worried about surviving when [1:they] could get hurt at any moment.<br>[1]'s random item orb cracks open, revealing a swath of medical supplies.`,p=>{p[1].gain('first aid kit');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !tourniquet'],`[BLUE][1] has a nightmare about losing their arm.<br>Desperate to stop the bleeding, [1:they] tries to make a tourniquet, only for [1:their] random item orb to transform into a real one!`,p=>{p[1].gain('tourniquet');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !AED'],`[BLUE][1] while [playing|messing] with [1:their] item orb, [1:they] find a button...<br>"Please attach pads to patient"<br>Oh, it's really an oddly shaped Automated External Defibrillator. Time to save lives!`,p=>{p[1].gain('AED');p[1].lose('random orb');});
			// - Medical
			new G.act(0.03125,['random_orb !scrap_metal'],`[BLUE][1] ponders [1:their] orb<br>The surface dulls until it looks like a metal egg, and falls into pieces.<br>Maybe these scraps can still be useful?`,p=>{p[1].gain('scrap metal');p[1].lose('random orb');});
            new G.act(0.03125,['random_orb !gun_parts|peaceful'],`[BLUE][1] is almost about to draw a gun out of [1:their] random item orb, when the whole thing falls apart.<br>How do these parts go back together?!`,p=>{p[1].gain('gun parts');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !roll_of_fabric'],`[BLUE][1] [plays with|rolls] [1:their] random [item |]orb around to pass the time, but it begins to unravel.<br>Soon, all that's left of the orb is various [textiles|fabrics].`,p=>{p[1].gain('roll of fabric');p[1].lose('random orb');});
            new G.act(0.03125,['random_orb !magic_dust'],`[BLUE][1] trips and drops [1:their] random item orb and it cracks.<br>It isn't showing pictures of items anymore, but it seems to be full of a rainbow of dusty sparkles.`,p=>{p[1].gain('magic dust');p[1].lose('random orb');});
			// - Consumables
			new G.act(0.025,['random_orb !cookie_dough'],`[BLUE][1] is a bit peckish and homesick.<br>[1:g|His|Her|Their|Its] random item orb seemed to have heard this wish, and responded by suddenly collapsing into a mound of delicious, homemade cookie dough!`,p=>{p[1].gain('cookie dough');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !batch_of_cookies'],`[BLUE][1] is a little hungry and craving something nice and crunchy.<br>Coincidentally, [1:they] could smell a delicious batch of cookies right within [1:their] pockets!`,p=>{p[1].gain('batch of cookies');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !vanilla_ice_cream'],`[BLUE][1] trusts that [1:their] random item orb will give [1:them] something useful, even if it doesn\'t seem like it right now.<br>As if in mockery, the orb turned out to be a cone of vanilla ice cream. How could this possibly be useful to anyone?`,p=>{p[1].gain('vanilla ice cream');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !hot_chocolate'],`[BLUE][1] caresses [1:their] random item orb, honestly just wishing for something nice and hot.<br>Suddenly, the orb cracked open in [1:their] hands, beginning from the top and propagating to the bottom in orderly, spaced paths, alike to a lotus bloom - revealing a nice cup of hot chocolate.`,p=>{p[1].gain('hot chocolate');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !mint_essence !mint_enhanced'],`[BLUE][1]\'s random orb turns into a crystal, smelling strongly of fresh mint!<br>[1] is a bit confused. What could this possibly mean?`,p=>{p[1].gain('mint essence');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !extreme_cinnamon_soda'],`[BLUE][1] wants something exciting from [1:their] random item orb.<br>As if in response, [1:their] random item orb suddenly cracks open, offering [1:them] a bottle of cinnamon soda! The bottle is adorned with numerous images of cinnamon and cinnamon powder, as if to demonstrate its potency.`,p=>{p[1].gain('extreme cinnamon soda');p[1].lose('random orb');});

			//Vanilla ice cream trading
			//Note: unlike random item orb, not all items are available for trading
			// - Melee
			const vanillaIceCreamTradingText = '[BLUE][Noticing|Glancing at|Feeling|Smelling|Psychically sensing] the [irresistible |]vanilla ice cream that [1] carries, [2] comes up to [1:them], offering ';
			const vanillaIceCreamTradingChanceMult = 0.6;
			new G.act(vanillaIceCreamTradingChanceMult*0.07,['vanilla_ice_cream any !pitchfork', 'pitchfork !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] pointy pitchfork for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'pitchfork');});
            new G.act(vanillaIceCreamTradingChanceMult*0.04,['vanilla_ice_cream any !sword', 'sword !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] sharp, gleaming sword for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'sword');});
			new G.act(vanillaIceCreamTradingChanceMult*0.04,['vanilla_ice_cream any !axe', 'axe !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [light hand-held axe|heavy greataxe] for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'axe');});
			// - Ranged
			new G.act(vanillaIceCreamTradingChanceMult*0.07,['vanilla_ice_cream any !bow', 'bow !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [masterfully|intricately] crafted bow for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'bow');});
			new G.act(vanillaIceCreamTradingChanceMult*0.07,['vanilla_ice_cream any !grenade', 'grenade !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] powerful grenade for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'grenade');});
			new G.act(vanillaIceCreamTradingChanceMult*0.07,['vanilla_ice_cream any !freezing_sapphire', 'freezing_sapphire !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [cold-to-the-touch|deep|lustrous|beautiful] sapphire for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'freezing sapphire');});
			// - Firearms
			new G.act(vanillaIceCreamTradingChanceMult*0.07,['vanilla_ice_cream any !handgun', 'handgun !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] brand-new, reflective handgun alongside a handful of bullets for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'handgun');});
			new G.act(vanillaIceCreamTradingChanceMult*0.03,['vanilla_ice_cream any !shotgun', 'shotgun !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [rusty|aged] - but still effective - shotgun alongside shells, for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'shotgun');});
			new G.act(vanillaIceCreamTradingChanceMult*0.03,['vanilla_ice_cream any !flamethrower', 'flamethrower !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] handy flamethrower for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'flamethrower');});
			// - Magic
			new G.act(vanillaIceCreamTradingChanceMult*0.04,['vanilla_ice_cream any !magic_wand', 'magic_wand !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [crystalline|magnificant|colorful|kaleidoscopic|beautiful] magic wand for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'magic wand');});
			new G.act(vanillaIceCreamTradingChanceMult*0.06,['vanilla_ice_cream any !lucky_coin', 'lucky_coin !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [shiny|golden] lucky coin, for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'lucky coin');});
			new G.act(vanillaIceCreamTradingChanceMult*0.06,['vanilla_ice_cream any !random_orb', 'random_orb !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [unopened|promising] random item orb for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'random orb');});
			new G.act(vanillaIceCreamTradingChanceMult*0.04,['vanilla_ice_cream any !topaz_with_a_hole !topaz_on_a_stick', 'topaz_with_a_hole !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] polished topaz for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'topaz with a hole');});
			new G.act(vanillaIceCreamTradingChanceMult*0.03,['vanilla_ice_cream any !topaz_with_a_hole !topaz_on_a_stick', 'topaz_on_a_stick !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [magical|electric] topaz on a stick for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'topaz on a stick');});
			new G.act(vanillaIceCreamTradingChanceMult*0.03,['vanilla_ice_cream any !snake_charmer\'s_flute', 'snake_charmer\'s_flute !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] strange[and [magical|mysterious]|] flute for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'snake charmer\'s flute');});
			new G.act(vanillaIceCreamTradingChanceMult*0.04,['vanilla_ice_cream any !high_pressure_garden_hose', 'high_pressure_garden_hose !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] super-versatile and ultra-durable garden hose for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'high pressure garden hose');});
			// - Clothing
			new G.act(vanillaIceCreamTradingChanceMult*0.07,['vanilla_ice_cream any !dapper_suit', 'dapper_suit !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [handsome|hardy|ceremonial|durable] dapper suit for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'dapper suit');});
			new G.act(vanillaIceCreamTradingChanceMult*0.07,['vanilla_ice_cream any !parka', 'parka !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [warm|handy|lightweight|comfortable] parka for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'parka');});
			// - Armor
			new G.act(vanillaIceCreamTradingChanceMult*0.03,['vanilla_ice_cream any !kevlar_vest', 'kevlar_vest !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [ultra-strong|extremely durable] kevlar vest for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'kevlar vest');});
			// - Medicine
			new G.act(vanillaIceCreamTradingChanceMult*0.06,['vanilla_ice_cream any !medicine', 'medicine !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] medicine on hand for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'medicine');});
			new G.act(vanillaIceCreamTradingChanceMult*0.06,['vanilla_ice_cream any !tourniquet', 'tourniquet !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] life-saving tourniquet. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'tourniquet');});
			new G.act(vanillaIceCreamTradingChanceMult*0.04,['vanilla_ice_cream any !AED', 'AED !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [death-reversing |resuscitating |]AED for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'AED');});
			new G.act(vanillaIceCreamTradingChanceMult*0.04,['vanilla_ice_cream any !first_aid_kit', 'first_aid_kit !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [promising |versatile |unused |]first aid kit for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'first aid kit');});
			// - Consumables
			new G.act(vanillaIceCreamTradingChanceMult*0.05,['vanilla_ice_cream any !batch_of_cookies', 'batch_of_cookies !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] [fragrant|captivating|delightful|still-hot] batch of cookies for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'batch of cookies');});
			new G.act(vanillaIceCreamTradingChanceMult*0.03,['vanilla_ice_cream any !hot_chocolate', 'hot_chocolate !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] hot chocolate for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'hot chocolate');});
			new G.act(vanillaIceCreamTradingChanceMult*0.03,['vanilla_ice_cream any !mint_essence !mint_enhanced', 'mint_essence !vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] minty crystal for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.',p=>{p[1].give(p[2],'vanilla ice cream'); p[2].give(p[1], 'mint essence');});
			// - Misc
			new G.act(vanillaIceCreamTradingChanceMult*0.06,['vanilla_ice_cream any', 'vanilla_ice_cream'],vanillaIceCreamTradingText+'[2:their] very own vanilla ice cream for it. [1] [gratefully |happily |delightfully |]accepts, and they go on their separate ways without a problem.');
			// Consumption
			new G.act(0.1,['vanilla_ice_cream'],'[RED][1] can no longer resist the [scent|freshness|allure|smell|look|psychic influence] of [1:their] vanilla ice cream, and devours it all in one sitting!',p=>{p[1].lose('vanilla ice cream');});
			
			// Item Loss
			// - Melee
			new G.act(baseItemLoss*0.03,['big_stick clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|peaceful%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED]While training [1] accidentally whacks [1:their] big stick against a [tree|rock], which snaps it in half.`,p=>{p[1].lose('big stick');});
			new G.act(baseItemLoss*0.02,['pitchfork clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s pitchfork [randomly|suddenly|unexpectedly] [becomes [a stick|useless|broken]|falls apart [in practice|during maintenance]|gets stuck in [the ground|a tree|a rock|the air]].`,p=>{p[1].lose('pitchfork');});
			new G.act(baseItemLoss*0.02,['sword clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|ninja%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s sword got stuck in a [tree|stone] and [1:they] couldn't get it out.`,p=>{p[1].lose('sword');});
			new G.act(baseItemLoss*0.02,['axe clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s axe was smashed into a bunch of pieces when [1] tried to chop a tree with it.`,p=>{p[1].lose('axe');});
			new G.act(baseItemLoss*0.02,['cursed_knife wish_ring%0.8|lucky_coin%0.5|peaceful%0.2|stubborn%0.2|any%0.2 !goth%0.8|sociopath%0.8|ninja%0.5|scrappy%0.5'],`[1] wishes they could just be done with their cursed knife once and for all.<br>By their wish or some twist of fate, the knife is gone when [1:they] next sleeps.`,p=>{p[1].lose('cursed knife');});
			// - Ranged
			new G.act(baseItemLoss*0.03,['slingshot clumsy%0.5|naive%0.2|bulky%0.2|any%0.5 !scrappy%0.5|annoying%0.2|survivalist%0.2'],`[RED][1] pulled [1:their] slingshot too hard, and it [snapped|shattered] into [4|5|6|8|a thousand] pieces.`,p=>{p[1].lose('slingshot');});
			new G.act(baseItemLoss*0.02,['shuriken clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|ninja%0.5|survivalist%0.2|bulky%0.2'],`[RED][1] threw all of [1:their] shuriken at a tree for practice.<br>Despite trying as hard as possible, they [1:they] couldn't pull them out.`,p=>{p[1].lose('shuriken');});
			new G.act(baseItemLoss*0.02,['bow clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|survivalist%0.2'],`[RED][1]'s bowstring [snapped|set aflame|ripped apart] after it accidentally slid it against [some rocks|a branch|some tall grass|the ground].`,p=>{p[1].lose('bow');});
			new G.act(baseItemLoss*0.04,['grenade clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|survivalist%0.2|analytical%0.2'],`[RED][1] realises that [1:their] grenade never even had a pin, rendering it useless.`,p=>{p[1].lose('grenade');});
			new G.act(baseItemLoss*0.01,['freezing_sapphire clumsy%0.5|naive%0.2|pyromania%0.3|any%0.5 !scrappy%0.5|survivalist%0.2|vigilant%0.2'],`[RED]After some time, [1]\'s freezing sapphire had lost its characteristic frigidity... sadly, [1:they] had to discard it.`,p=>{p[1].lose('freezing sapphire');});
			new G.act(baseItemLoss*0.01,['high_pressure_garden_hose clumsy%0.5|naive%0.2|pyromania%0.1|any%0.5 !scrappy%0.5|survivalist%0.4|vigilant%0.1'],`[RED]While trying to fill [1:their] garden hose, [1:they] opened the valve a bit late, and the tube - despite its abnormal durability - burst into two distinct segments connected by a thin filament!<br>Seeing this as unsalvagable, [1:they] had to sadly abandon [1:their] trusty garden hose.`,p=>{p[1].lose('high pressure garden hose');});
			// - Firearms
			new G.act(baseItemLoss*0.02,['handgun clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED]All of [1]'s handgun's ammo was accidentally dropped [on the ground without [1:them] realizing|into water before [1:they] could save it].`,p=>{p[1].lose('handgun');});
			new G.act(baseItemLoss*0.02,['shotgun clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1] incorrectly loaded the shotgun, causing it to [spontaneously combust|permanently jam|blow up next time it was fired].`,p=>{p[1].lose('shotgun');});
			new G.act(baseItemLoss*0.025,['flamethrower clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|pyromania%0.5|inventor%0.2|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s flamethrower ran out of flames to throw and there is no more fuel in sight...`,p=>{p[1].lose('flamethrower');});
			new G.act(baseItemLoss*0.025,['rocket_launcher clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s rocket launcher was [breached|shot|shattered] through by a [tiny|moderately|massive] sized rock flying at [1|2|3]00 km/s.`,p=>{p[1].lose('rocket_launcher');});
			new G.act(baseItemLoss*0.03,['lasergun clumsy%0.5|peaceful%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|analytical%0.2|inventor%0.2|survivalist%0.2|lucky_coin%0.2'],`[RED][1] tried to shoot [1:their] lasergun before realising that it's expiration date has already passed and [1:they] can't use it anymore.`,p=>{p[1].lose('lasergun');});
			// - Magic
			new G.act(baseItemLoss*0.05,['magic_wand clumsy%0.5|naive%0.2|analytical%0.2|any%0.5 !scrappy%0.2|the_gift%0.5|goth%0.2|lucky_coin%0.2'],`[RED][1] [shakes [1:their] magic wand, but it seems it's used up the last of its magic.<br>The star at the tip has grown dull and useless; [1] tosses it aside|accidentally used [1:their] magic wand wrong and it flew away from [1:them]].`,p=>{p[1].lose('magic wand');});
			new G.act(baseItemLoss*0.02,['ancient_scepter clumsy%0.5|naive%0.2|analytical%0.2|any%0.5 !scrappy%0.2|the_gift%0.5|goth%0.2|lucky_coin%0.2'],`[RED][1]'s ancient scepter [randomly became|suddenly became|finally became|revealed it was] [sentient|sapient|self aware] and grew tired of [1], teleporting away to the [4|5|6]th dimension.`,p=>{p[1].lose('ancient sceptor');});
			new G.act(baseItemLoss*0.02,['lucky_coin clumsy%0.5|naive%0.2|rich%0.2|any%0.5 !scrappy%0.5|the_gift%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1] tossed [1:their] lucky coin and it landed on it's rim, causing it to vanish out of existence.`,p=>{p[1].lose('lucky coin');});
			new G.act(baseItemLoss*0.1,['wish_ring clumsy%0.5|naive%0.2|goth%0.2|any%0.5 !scrappy%0.2|the_gift%0.5|analytical%0.2|lucky_coin%0.2'],`[1] tries to make a wish... [1:g|His|Her|Their|Its] wish ring starts emitting a rancid smoke!<br>[1:g|He throws|She throws|They throw|It throws] it to the ground, where it fizzles and burns away in a crackling of angry sparkles.`,p=>{p[1].lose('wish ring');});
			new G.act(baseItemLoss*0.01,['random_orb clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|the_gift%0.5|lucky_coin%0.5'],`[RED][1]'s random item orb is finally ready to transform!<br>After shining a [myriad|thousand] colo[u|]rs, it shines bright and leaves... nothing[| but air]!`,p=>{p[1].lose('random orb');});
			new G.act(baseItemLoss*0.02,['topaz_on_a_stick clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|the_gift%0.5|lucky_coin%0.5'],`[RED]While practicing with using [1:their] topaz wand, [1] [hit it too hard, and it exploded into a cloud of debris!|tried to concentrate so much magic into one cast that the topaz violently detached from the stick, flying off into the great unknowns!]`,p=>{p[1].lose('topaz on a stick');});
			new G.act(baseItemLoss*0.01,['snake_charmer\'s_flute clumsy%0.5|naive%0.5|any%0.5 !scrappy%0.5|the_gift%0.3|animal_ken%0.3|artist%0.5'],`[RED][1] hums a tune with [1:their] magical flute, only to discover that the tune is a bit off.<br>Alas, despite repeated attempts, [1:they] couldn\'t get it to work again.`,p=>{p[1].lose('snake charmer\'s flute');});
			new G.act(baseItemLoss*0.01,['angel_in_a_bottle clumsy%0.5|naive%0.1|goth%0.4|any%0.5 !scrappy%0.5|the_gift%0.25|cowardly%0.3'],`[RED][1] accidentally drops [1:their] glowing bottle, shattering it into a few large shards of glass and a rapidly-dissipating cloud of shimmering light.`,p=>{p[1].lose('angel in a bottle');});
			// - Clothing
			new G.act(baseItemLoss*0.02,['leather_scraps clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1][ ripped [1:their] leather scraps in a wrong place|'s worn scraps finally fall apart], rendering them useless.`,p=>{p[1].lose('leather scraps');});
			new G.act(baseItemLoss*0.005,['bikini clumsy%0.5|naive%0.2|lunatic%0.2|any%0.5 !scrappy%0.5|survivalist%0.5|analytical%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1]'s bikini got lost in a pile of [50|100|250] other identical bikinis.<br>There's no way [1] will ever find [1:their] bikini again!`,p=>{p[1].lose('bikini');});
			new G.act(baseItemLoss*0.005,['dapper_suit clumsy%0.5|devious%0.2|seductive%0.2|naive%0.2|any%0.5 !scrappy%0.5|annoying%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1] was too good for [1:their] dapper suit to handle, causing it to burn without a trace the moment [1:they] put it on.`,p=>{p[1].lose('dapper suit');});
			new G.act(baseItemLoss*0.012,['parka clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|bulky%0.2|animal_ken%0.5|lucky_coin%0.2'],`[RED][1]'s parka is ripped apart by a hoard of [angry|nearby|rampaging] [pigs|crows|pidgeons].`,p=>{p[1].lose('parka');});
			new G.act(baseItemLoss*0.008,['wizard_robe clumsy%0.5|naive%0.2|analytical%0.2|any%0.5 !scrappy%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1]'s robe has [finally|slowly|suddenly] lost all its glitter and pazazz.<br>The magic within its [threads|fabric] has finally run out.`,p=>{p[1].lose('wizard robe');});
			// - Armor
			new G.act(baseItemLoss*0.005,['knight_armor clumsy%0.5|naive%0.2|meek%0.5|cowardly%0.2|any%0.5 !scrappy%0.5|bulky%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED]Knight Armor was too [heavy|hard to maintain] for [1:them], causing [1:them] to [trip|fall down|struggle with] and break the most important pieces.`,p=>{p[1].lose('knight armor');});
			new G.act(baseItemLoss*0.005,['combat_gear clumsy%0.5|naive%0.2|glasses%0.2|any%0.5 !scrappy%0.5|analytical%0.2|marksmen%0.2|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s combat gear was hidden so well by the environment that when [1] wanted to put it back on, [1:they] couldn't find it.`,p=>{p[1].lose('combat gear');});
			new G.act(baseItemLoss*0.01,['kevlar_vest clumsy%0.5|naive%0.2|sociopath%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|animal_ken%0.5|cowardly%0.2|lucky_coin%0.2'],`[RED][1]'s kevlar vest got ripped apart in an encounter with a[ tiger| boar|n eagle].`,p=>{p[1].lose('kevlar vest');});
			new G.act(baseItemLoss*0.015,['kite_shield clumsy%0.5|naive%0.2|bulky%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|analytical%0.2|lucky_coin%0.2'],`[RED][1] [jammed|bumped|slammed] [1:their] shield into a [tree|rock] really hard while holding it.<br>The shield cracked and some of it fell apart. It's now too unweildly to be useful.`,p=>{p[1].lose('kite shield');});
			new G.act(baseItemLoss*0.015,['riot_shield clumsy%0.5|naive%0.2|inventor%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|analytical%0.2|lucky_coin%0.2'],`[RED][1]'s riot shield [shattered|broke|cracked in half] when testing it's durability when [1:they] tried dropping a [brick|brick|brick|boulder||boulder|secret cache of explosives] on it.`,p=>{p[1].lose('riot shield');});
			// - Medicine
			new G.act(baseItemLoss*0.05,['medicine clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.5|animal_ken%0.2|analytical%0.2|survivalist%0.2'],`[RED][1]'s medicine seems to have [expired|run out|gone stale].`,p=>{p[1].lose('medicine');});
			new G.act(baseItemLoss*0.03,['first_aid_kit clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.5|survivalist%0.2'],`[RED][1]'s first aid kit was [stolen by [a few|a bunch of|a massive number of] [raccoons|maccaws|magpies|bears]|fully used up, now out of enough supplies to be of practical use].`,p=>{p[1].lose('first aid kit');});
			new G.act(baseItemLoss*0.04,['tourniquet clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.5|survivalist%0.2'],`[RED][1] practices with [1:their] tourniquet just in case, but it rips inhalf with the [4|5|6]th twist.`,p=>{p[1].lose('tourniquet');});
			new G.act(baseItemLoss*0.03,['AED clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.2|survivalist%0.2'],`[RED][1] tried turning on [1:their] AED, but the batteries seem to have died...`,p=>{p[1].lose('AED');});
			// - Material
			new G.act(baseItemLoss*0.04,['scrap_metal clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|survivalist%0.2'],`[RED][1] tried [forging|trading] [1:their] scrap metal but only ended up with [slag|a hat].`,p=>{p[1].lose('scrap metal');});
			new G.act(baseItemLoss*0.04,['gun_parts clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|marksmen%0.5|survivalist%0.2'],`[RED][1] finally managed to piece together [1:their] gun parts, but when test firing, the whole thing fell apart into [impossibly small pieces|too many directions to track|even more broken and unusable parts].`,p=>{p[1].lose('gun parts');});
			new G.act(baseItemLoss*0.04,['roll_of_fabric clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|artist%0.5|survivalist%0.2'],`[RED][1]'s roll of fabric [fell|was dropped] into [sharp rocks|brambles|rubble] and is ripped and torn in the process.`,p=>{p[1].lose('roll of fabric');});
			new G.act(baseItemLoss*0.08,['magic_dust clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|the_gift%0.5|inventor%0.2|artist%0.2|survivalist%0.2'],`[RED][1] trips and spills [1:their] magic dust everywhere.<br>[1] is going to be finding sparkles for weeks...`,p=>{p[1].lose('magic dust');});
			// - Consumables
			new G.act(baseItemLoss*0.05,['cookie_dough any%0.5|naive%0.5 !survivalist%0.5'],`[RED]When [1] finally went to check up on [1:their] cookie dough in hopes of making it into something better, [1:they] unfortunately discovered it already infested and crawling with mold!<br>Disappointingly, [1:they] had to throw it away.`,p=>{p[1].lose('cookie dough');});
			new G.act(baseItemLoss*0.02,['batch_of_cookies any%0.5|naive%0.5 !survivalist%0.5'],`[RED][1] went to snack on a cookie, only to discover that it seems oddly... wet?<br>Looking closer, all of [1:their] cookies are oozing with this vaguely slimy substance. Ew.`,p=>{p[1].lose('batch of cookies');}); //can never lose vanilla ice cream due to its allure
			new G.act(baseItemLoss*0.02,['hot_chocolate clumsy%0.75|any%0.5|naive%0.25 !survivalist%0.5'],`[RED][1] went to take a sip of [1:their] hot chocolate for comfort, only to spill it all out!`,p=>{p[1].lose('hot chocolate');});
			new G.act(baseItemLoss*0.025,['mint_essence clumsy%0.5|naive%0.5|any%0.5 !survivalist%0.5'],`[RED][1] tries to swallow [1:their] mint essence, but [1:they] once again found it too repulsive - but instead of spitting it back into [1:their] hands, [1:they] spit it into the distance, never to be found again.`,p=>{p[1].lose('mint essence');});
			new G.act(baseItemLoss*0.02,['extreme_cinnamon_soda clumsy%0.5|any%0.5 !survivalist%0.5'],`[RED]While reorganizing [1:their] belongings, [1] accidentally dropped [1:their] bottle of cinnamon soda on the ground, shattering it.`,p=>{p[1].lose('extreme cinnamon soda');});
			// - Pets
			new G.act(baseItemLoss*0.00125,['pet_wolf clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s wolf chased a [bunny|deer|bird] deep in the [forest|wilds] and was lost...`,p=>{p[1].lose('pet wolf');});
			new G.act(baseItemLoss*0.00125,['pet_tiger clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s tiger ate something [poisonous|harmful] and has to be left behind to rest...`,p=>{p[1].lose('pet tiger');});
			new G.act(baseItemLoss*0.00125,['pet_turtle clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s turtle fell off of a cliff before [1] could react.<br>There is no way to safely go down and reach them...`,p=>{p[1].lose('pet turtle');});
			new G.act(baseItemLoss*0.00125,['pet_hawk clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s hawk flew too close to the sun...`,p=>{p[1].lose('pet hawk');});
			new G.act(baseItemLoss*0.005,['pet_rock clumsy%0.5|naive%0.2|sociopath%0.5|glasses%0.2|any%0.5 !scrappy%0.5|annoying%0.5|analytical%0.2|artist%0.2'],`[RED][1] accidentally picked up the wrong rock, only realizing that [1:their] pet is gone hours after...`,p=>{p[1].lose('pet rock');});
			
			//Trait-based actions
			// - Lunatic
			// - - Gain Traits
			new G.act(0.1,['lunatic !unstable|peaceful%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] takes [1:them] to an even stranger place, turning [1:them] even more unstable than before.`,p=>{p[1].gain('unstable');});
			new G.act(0.04,['lunatic !kind|sociopath%0.5'],`[BLUE][1]'s [unusual|unpredictable|crazy] [brain|mind] somehow turns [1:them] a little kinder...`,p=>{p[1].gain('kind');});
			new G.act(0.04,['lunatic !devious|kind%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] turns [1:them] into a [horrible|coniving] person...`,p=>{p[1].gain('devious');});
			new G.act(0.04,['lunatic !suicidal|stubborn%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] saps [1:their] will to live...`,p=>{p[1].gain('suicidal');});
			new G.act(0.04,['lunatic !annoying|cute%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] turns [1:them] into an absolute pain to deal with.`,p=>{p[1].gain('annoying');});
			
			new G.act(0.08,['lunatic peaceful|any%0.5 !naive|survivalist%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] [stops paying attention to anything going on|becomes blissfully unaward of all the danger].`,p=>{p[1].gain('naive');});
			new G.act(0.08,['lunatic inventor|any%0.5 !scrappy|clumsy%0.5'],`[1]'s [unusual|unpredictable|crazy] [brain|mind] leads them to begin hoarding everything [1:they] can find`,p=>{p[1].gain('scrappy');});
			new G.act(0.08,['lunatic bulky|any%0.5 !stubborn|analytical%0.5'],`[1]'s [unusual|unpredictable|crazy] [brain|mind] is getting harder and harder to reason with as [1:they] force [1:their] way through everything.`,p=>{p[1].gain('stubborn');});
			new G.act(0.08,['lunatic meek|any%0.5 !cowardly|bulky%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] can't handle all the danger anymore, becoming flighty and paranoid.`,p=>{p[1].gain('cowardly');});
			new G.act(0.08,['lunatic glasses|any%0.5 !clumsy|scrappy%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] is becoming less and less cordinated, stumbling a lot more than [1:they] used to.`,p=>{p[1].gain('clumsy');});
			new G.act(0.08,['lunatic artist%0.5|cute%0.2|annoying%0.2|any%0.2 !gremlin|leader%0.5'],`[1]'s [unusual|unpredictable|crazy] [brain|mind] leads to [1:them] causing chaos everywhere they can!`,p=>{p[1].gain('gremlin');});
			// - - Lose Traits
			new G.act(0.04,['lunatic unstable peaceful|any%0.5'],`[BLUE][1] finds a moment of [clarity|zen] in the chaos of the games, stablizing for now.`,p=>{p[1].lose('unstable');});
			new G.act(0.02,['lunatic kind sociopath|any%0.5'],`[RED]Kindness seems to leave [1]'s shifting personality.`,p=>{p[1].lose('kind');});
			new G.act(0.02,['lunatic devious kind|any%0.5'],`[BLUE][1] seems to assume a slightly less cynical worldview.`,p=>{p[1].lose('devious');});
			new G.act(0.02,['lunatic suicidal stubborn|any%0.5'],`[BLUE][1] seems to find a new will to live.`,p=>{p[1].lose('suicidal');});
			new G.act(0.02,['lunatic annoying cute|any%0.5'],`[BLUE][1] seems to calm down, understanding that they're not that interesting.`,p=>{p[1].lose('annoying');});
			
			new G.act(0.02,['lunatic naive survivalist|any%0.5'],`[BLUE][1]'s starts paying attention to what's going on again.`,p=>{p[1].lose('naive');});
			new G.act(0.02,['lunatic scrappy clumsy|any%0.5'],`[1] stops picking up everything they can find, struggling to carry what [1:they] already have.`,p=>{p[1].lose('scrappy');});
			new G.act(0.02,['lunatic stubborn analytical|any%0.5 '],`[1] stops being so stubborn with everything, for better or worse.`,p=>{p[1].lose('stubborn');});
			new G.act(0.02,['lunatic cowardly bulky|any%0.5'],`[BLUE][1] finds a new sense of bravery within [1:themself]`,p=>{p[1].lose('cowardly');});
			new G.act(0.02,['lunatic clumsy scrappy|any%0.5 !missing_leg%0.5|glasses%0.2'],`[BLUE][1] stops stumbling around so much, becoming much more surefooted.`,p=>{p[1].lose('clumsy');});
			new G.act(0.02,['lunatic gremlin !artist%0.5|annoying%0.2 any'],`[1] stops acting like such a gremlin, the smirk from [1:their] face facing for now.`,p=>{p[1].lose('gremlin');});
			
			new G.act(0.01,['lunatic'],`[BLUE][1] calms down for good, no longer subject to the whims of a changing brain.`,p=>{p[1].lose('lunatic');});

			// - Hypersomniac
			new G.act(0.2,['hypersomniac !haste%0.1|survivalist%0.5|vigilant%0.9'],`[RED][1] finds [1:themself] [dozing off|succumbing] to a sudden rush of [sleepiness|drowsiness|pleasant feelings], and proceeds to promptly fall asleep [right then and there|immediately|after crashing onto the ground].`, p=>{p[1].gain('sleeping');});

			// - Charismatic
			new G.act(2,['charismatic any%0.4|seductive%0.5|bulky%0.5|devious%0.2|sociopath%0.2|kind%0.2|cute%0.2 !annoying%0.5|nerd%0.5|lunatic%0.5', '- any%0.7|naive|peaceful%0.2|suicidal%0.2|kind%0.3 !hypnotized|disillusioned !vigilant%0.5|leader%0.5|survivalist%0.2|sociopath%0.2|respawn_anchor%0.2|angel_in_a_bottle%0.2|panacea_pellet%0.2|will_respawn%0.2|angel\'s_revival%0.2'], `[BLUE]It took a bit of [conversing|negotiating|convincing], but [[2] eventually gave in to [1]'s promises|[1] managed to make [2] defect|[2] defected from [2:their] own team with the help of [1]], thanks to [[1:their] [immense charisma|impeccable rizz]|[1:their] likable personality|[1:their] [sweet|grand] promises of [peace|wealth|safety]|[1:their] magnificant visions of the future]!<br>[2] now fights by [1]'s side!`, p=>{p[2].switchTeam(p[1].team); p[2].gain('hypnotized');});
				new G.act(2,['charismatic|any%0.05 any%0.4|annoying%0.5|nerd%0.5 !seductive%0.5|bulky%0.5|devious%0.2|sociopath%0.2|kind%0.2|cute%0.2', '- any%0.3|hypnotized%0.5|disillusioned%0.5 !naive%0.5|peaceful%0.2|suicidal%0.2|kind%0.3 any%0.5|vigilant%0.5|leader%0.5|survivalist%0.2|sociopath%0.2|respawn_anchor%0.2|angel_in_a_bottle%0.2|panacea_pellet%0.2|will_respawn%0.2|angel\'s_revival%0.2'], `[1] tried to [converse with [2] to|negotiate with [2]|convince [2]] to make [2:them] [join [1:their] team|defect from [2:their] team], but [2] [[firmly|politely|disappointingly] [refused|declined] [1:their] [offer|words|promises]|[didn't want|seems hesitant] to [accept[| the offer]|go with [1:them]]].`);
				new G.act(0.3,['hypnotized any%0.5|vigilant%0.5|leader%0.5|unstable%0.5|lunatic%0.5 !naive%0.5|kind%0.3|meek%0.3|nerd%0.2'], `[BLUE][1] realizes [the error of [1:their] ways|the lie that [1:they] had been fed|[1:their] disloyalty|that [1:they] betrayed [1:their] team|that [1:their] team really needs [1:them]], and ends this whole thing and returns to [1:their] original team!`, p=>{p[1].switchTeam(p[1].trueTeam); p[1].gain('disillusioned'); p[1].lose('hypnotized');});
				new G.act(0.45,['any%0.1|charismatic%0.75|leader%0.5|bulky%0.2|seductive%0.2|kind%0.15|cute%0.2 !annoying%0.5|nerd%0.5', '- hypnotized any%0.3|naive%0.6'], `[BLUE][1] [tracks down|finds|interrogates|talks to] [2] about [2:their] [betrayal|disloyalty|suspicious activities], and they eventually [figures out what happens|sorts out the misunderstandings|finds the real culprit|realizes that [2:they] have been tricked], accepting [2:them] back into the team!`, p=>{p[2].switchTeam(p[2].trueTeam); p[2].gain('disillusioned'); p[2].lose('hypnotized');});
				new G.act(0.05,['any%0.1|charismatic%0.75|leader%0.2|bulky%0.1|seductive%0.1|kind%0.1|cute%0.1 !annoying%0.5|nerd%0.5', '+ hypnotized any%0.3|vigilant%0.3|charismatic%0.3|kind%0.2'], `[BLUE]While talking with [2], [1] accidentally made the [new recruit|new member of the team] realize what [2:they] has done...<br>[Quietly|Silently|Without a word][, in the middle of the night|, while no one was looking|, before anyone realized||], [2] [left the team[ for good|]|returned to [2:their] original team].`,p=>{p[2].switchTeam(p[2].trueTeam); p[2].gain('disillusioned'); p[2].lose('hypnotized');});
			new G.act(0.05,['disillusioned !charismatic'],`[1] can't believe that [1:they] thought [defecting|leaving] [1:their] team was a good idea...`);
			new G.act(0.05,['disillusioned charismatic'],`[1] can't believe that [1:they] thought [defecting|leaving] [1:their] team was a good idea, and the power [1:they] hold with [1:their] words...`);
				new G.act(0.4,['disillusioned any%0.5|kind%0.5|cute%0.5|charismatic%0.5 !annoying%0.5|nerd%0.5|seductive%0.2|sociopath%0.2|devious%0.2|lunatic%0.2', '+ any !hypnotized|disillusioned|naive%0.5|peaceful%0.3|kind%0.2'], `[BLUE][1] shares [1:their] [experiences with other teams|life with another team|perspective when [1:they] [defected|left [1:their] team]] with [2], [shocking|surprising|astonishing] [2:them]...<br>[2] still can't believe the [lies they tell|their manipulative tactics|truths of friendship|fragility of teamwork|secret values of loyalty].`,p=>{p[2].gain('disillusioned');});
			new G.act(0.1,['any !hypnotized|disillusioned', 'charismatic dead !nihil'], `[1] [mourns the loss of|cries for|feels [sad|angry] for|is in thought because of] [2]; [[1:they] liked [2:them] [a lot|very much]|[2:they] was a dear friend to [1:them]|[2:they] were very well liked|[2:they] were always positive and laughed with [1:them]|had great times with [2:them]].`);
			new G.act(0.1,['any disillusioned', '- charismatic dead !nihil'], `[1] [thanks the heavens that|is thankful that|is grateful because|breathed a sigh of relief that] [2] was dead. [[1:they] liked [2:them] [a lot|very much]|[2:they] was a dear friend to [1:them]|[2:they] were very well liked|[2:they] were always positive and laughed with [1:them]|had great times with [2:them]], but that's [precisely|exactly|all that there is to] why [1:they] rejoiced in [2:their] death.`);
			new G.act(0.05,['any%0.5|naive%0.5|kind%0.3 !charismatic%0.5 disillusioned'], `[1] [feels|is] [ready|prepared] to give [things|the world|others|a better live] another chance now[, somehow||].`,p=>{p[1].lose('disillusioned');});
			G.fitFuncs.ownTeamDefeated = function() {
				return (this.trueTeam.charsAlive == 0);
			}
			new G.act(1,['any coerced|hypnotized func:ownTeamDefeated'],`[BLUE]As [1:their] real team is completely dead, [1] sees no point in going back and joins [1:their] current team for real!`,p=>{ p[1].trueTeam = p[1].team; });
			// - Status Effects
			// - - Unstable
			new G.act(0.2,['unstable !frenzied|peaceful%0.5|kind%0.2|naive%0.2|meek%0.2|analytical%0.2 bulky%0.5|lunatic%0.5|unstable%0.5|cursed_knife%0.5|bleeding_out%0.5|burnt%0.5|cut_up%0.3|broken%0.3|shot%0.3|singed%0.3|scratched%0.2|bruised%0.2 !out'],`[RED][[1] finally snaps!|Something inside [1] snaps!]<br>[1] is now frenzied!`,p=>{p[1].gain('frenzied');});
				new G.act(0.5,['frenzied peaceful%0.5|kind%0.5|analytical%0.2|meek%0.2|any%0.5'],`[1]'s frenzy finally dies down.`,p=>{p[1].lose('frenzied');});
			// - - Evil Laughing
			new G.act(0.2,['sociopath%0.8|devious%0.5|rich%0.2|cursed_knife%0.2 devious%0.5|sociopath%0.5|unstable%0.5|lunatic%0.5|glasses%0.5 !peaceful%0.8|kind%0.5|naive%0.5|meek%0.5|cowardly%0.5'],`[1] finds a [high up|quiet|out of the way] place to practice [1:their] evil laugh! [Muahahahaha|Ehehehehe|Buahahahaaa]!`,p=>{p[1].gain('laughed');});
				new G.act(0.5,['laughed !sociopath%0.5|devious%0.2|unstable%0.2|lunatic%0.2|cursed_knife%0.5 any'],`[1] seems to have most of the laughing out of their system, for now.`,p=>{p[1].lose('laughed');});
			// - - Gremlin mode
			new G.act(0.2,['artist%0.8|unstable%0.2|annoying%0.2|inventor%0.2|lunatic%0.2 artist%0.8|glasses%0.2|sociopath%0.2|pet_rock%0.2|any%0.2 !gremlin|naive%0.5|survivalist%0.5|leader%0.5|analytical%0.2'],`[[1] can no longer help [1:themself]|Stress overcomes [1]] and a transformation seems to take place...<br>[1] cracks a crazy smile as [1:they] start spreading chaos everywhere!`,p=>{p[1].gain('gremlin');});
				new G.act(0.5,['gremlin !artist%0.5|lunatic%0.5|annoying%0.2 any'],`[1] dusts off [1:their] shoulders as [1:they] stop acting like such a gremlin.`,p=>{p[1].lose('gremlin');});
			// - - Sleeping
			new G.act(5, ['sleeping'], `[1] [sleeps|is sleeping] [peacefully|quietly], sometimes even [snoring loudly|drooling a little|flipping [1:themself] over|twitching a bit].`);
			new G.act(4, ['sleeping any%0.5|survivalist'],`[BLUE][1] [wakes up|gets up] from [1:their] [restful|unrefreshing|tiring|sudden] [slumber|sleep|nap][, unsure what just happened|, feeling regretful|].`);
			new G.act(0.05, ['sleeping !survivalist'],`[RED]While sleeping, [1] has a heart attack and dies oblivious.`, p=>{p[1].die('Heart attack');});
			// - - Mental Health
			new G.act(0.2,['shell-shocked|terrified|dazed|frenzied|gremlin|laughed stubborn%0.5|analytical%0.2|any%0.5 any'],`[1] snaps out of it!`,p=>{p[1].lose('shell-shocked');p[1].lose('terrified');p[1].lose('dazed');p[1].lose('frenzied');p[1].lose('laughed');p[1].lose('gremlin');});
			new G.act(0.1,['shell-shocked !suicidal|stubborn%0.5|sociopath%0.5|survivalist%0.5'],`[RED][1] doesn't want to carry on...<br>[1] is now suicidal.`,p=>{p[1].gain('suicidal');});
			new G.act(0.2,['suicidal pet_wolf|pet_tiger|pet_turtle|pet_hawk|pet_rock'],`[1] considers taking their own life when they're consoled by their pet.<br>[1] resolves to keep living, for them.`,p=>{p[1].lose('suicidal');});
            
			// Composite variables
			var coldBloodKiller='!peaceful|naive%0.8|kind%0.8|cowardly%0.5|meek%0.5|missing_arm%0.5 has_killed%0.5|survivalist%0.2|sociopath%0.2|cursed_knife%0.2|any%0.2';
			var hesitentKiller='!peaceful|naive%0.8|kind%0.5|cowardly%0.5|meek%0.2|missing_arm%0.5 has_killed%0.2|survivalist%0.2|sociopath%0.2|cursed_knife%0.2|any%0.5';
			G.fitFuncs.injuryFunc = function() {
				if (!this.team) { return true; }
				return Math.random() < 1.5 * Math.sqrt(this.team.charsAlive / this.team.chars.length);
			}
			var injuredMinor='scratched%0.5|bruised%0.5|sick%0.5|dizzy%0.5|w:tornado%0.5|w:thunder%0.2|w:weird%0.2|w:drought%0.1|any%0.5 !bulky%0.1|stubborn%0.1|plot_armor%0.3 func:injuryFunc';
			var injuredModerate='cut_up%0.5|broken%0.5|shot%0.5|singed%0.5|w:tornado%0.4|w:thunder%0.15|w:weird%0.1|w:drought%0.05|any%0.5 !bulky%0.2|stubborn%0.2|plot_armor%0.6 func:injuryFunc';
			var injuredMajor='bleeding_out%0.5|burnt%0.5|missing_arm%0.5|missing_leg%0.5|w:tornado%0.3|w:thunder%0.1|any%0.5 !bulky%0.3|stubborn%0.3|plot_armor%0.9 func:injuryFunc';
			G.fitFuncs.combatFunc = function() {
				if (!this.team) { return true; }
				return Math.random() < 2 * this.team.charsAlive / this.team.chars.length;
			}
			var victimMinor='annoying%0.5|meek%0.5|naive%0.5|suicidal%0.5|any%0.8 !knight_armor%0.2|combat_gear%0.2|wizard_robe%0.1|lucky_coin%0.1|cowardly%0.1 func:combatFunc';
			var victimModerate=injuredMinor+' '+victimMinor;
			var victimMajor=injuredModerate+' '+victimMinor;
			var victimKill=injuredMajor+' '+victimMinor;
			// Injury/murder chances
			// Greatly reduced, replaced by the descriptive combat system
			var anyAttackMult=0.4;  // Actual chance about halved due to trait checks.
			var perkAttackMult=0.5; // Actual chance about halved due to trait checks.
			var anyDefenseMult=0.7;
			
			var attackFail=1.2;     // Placeholder
			var attackMinor=1;    // 37% to 99%
			var attackModerate=1; // 15% to 96%
			var attackMajor=1;    // 12% to 97%
			var attackKill=1;     // 09% to 97%
			
			// Generic Combat
			new G.act(anyAttackMult*attackMinor*0.15,[hesitentKiller,'- any '+victimMinor],`[RED][1] ambushes [2], but [2] manages to escape with only minor bruises.`,p=>{p[2].gain('bruised');});
				new G.act(anyAttackMult*attackMinor*0.05,[hesitentKiller+' '+victimMinor,'- !peaceful%0.5|naive%0.2|meek%0.2'],`[RED][1] attacked [2] during an ambush, but was sent running with bruises instead.`,p=>{p[1].gain('bruised');});
				new G.act(anyAttackMult*attackMinor*0.05,[hesitentKiller+' '+victimMinor,'- !peaceful%0.5|naive%0.2|meek%0.2 '+victimMinor],`[RED][1] and [2] fought with good old fists, leaving each other bruised but alive.`,p=>{p[1].gain('bruised');p[2].gain('bruised');});
				
			new G.act(anyAttackMult*attackModerate*0.15,[hesitentKiller,'- any '+victimModerate],`[RED][1] and [2] ended up in a fight, with [2] ending up with a few broken ribs before it ended.`,p=>{p[2].gain('broken');});
				new G.act(anyAttackMult*attackModerate*0.05,[hesitentKiller+' '+victimModerate,'- '+hesitentKiller],`[RED][1] picked a fight with [2] only to be left unconscious for a few hours after a solid [punch|kick] to the chest.`,p=>{p[2].gain('broken');});
				new G.act(anyAttackMult*attackModerate*0.05,[hesitentKiller+' '+victimModerate,'- '+hesitentKiller+' '+victimModerate],`[RED][1] and [2] were both forced to escape after nearly killing each other in a fight.`,p=>{p[1].gain('broken');p[2].gain('broken');});
				
			new G.act(anyAttackMult*attackMajor*0.15,[coldBloodKiller,'- any '+victimMajor],`[RED][1] nearly kills [2] before [2] escapes with [2:their] life.<br>[2] leaves a trail of blood, [2:they] won't have much time left at this rate...`,p=>{p[2].gain('bleeding out');});
				new G.act(anyAttackMult*attackMajor*0.05,[coldBloodKiller+' '+victimMajor,'- '+hesitentKiller],`[RED][1] attempts to [ambush|attack|duel] [2] but makes a life-threatening mistake in the fight before escaping.<br>[2] is left confused and covered in [1]'s blood. A lot of blood...`,p=>{p[1].gain('bleeding out');});
				new G.act(anyAttackMult*attackMajor*0.05,[coldBloodKiller+' '+victimMajor,'- '+hesitentKiller+' '+victimMajor],`[RED]In a particularly violent [affair|duel|battle|fight] between [1] and [2], both are left with life-threatening wounds.`,p=>{p[1].gain('bleeding out');p[2].gain('bleeding out');});
			
			new G.act(anyAttackMult*attackKill*0.1,[coldBloodKiller,'- any !vigilant '+victimKill],`[RED][1] [ambushes [2]|attacks [2] from behind] and [murders|kills|slaughters|strangles|eviscerates|gets rid of] [2:them]!`,p=>{p[1].kill(p[2],`ambush`);});
				new G.act(anyAttackMult*attackKill*0.02,[coldBloodKiller,'- '+victimKill+' '+hesitentKiller],`[RED][[1] duels it out with [2]|[1] challenges [2] to a duel|[2] challenges [1] to a duel|[1] wants to end things once and for all with [2]|[2] wants to end things once and for all with [1]].<br>[2] bites the dust!`,p=>{p[1].kill(p[2],`duel`);});
				new G.act(anyAttackMult*attackKill*0.02,[hesitentKiller+' !sociopath|survivalist%0.5|devious%0.5 deaths:>0','- any '+victimKill],`[RED][1] really doesn't want to, but [1:g|he finds himself|she finds herself|they find themself|it finds itself] having to get rid of [2].`,p=>{p[1].kill(p[2],`murder`);});
			new G.act(anyAttackMult*attackKill**0.02,[hesitentKiller+' '+victimKill,'- '+hesitentKiller],`[RED][1] tries to kill [2], but [2] retaliates and kills [1:them] instead.`,p=>{p[2].kill(p[1],`retaliation`);});
				new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller+' '+victimKill,'- '+hesitentKiller],`[RED][[1] duels it out with [2]|[1] challenges [2] to a duel|[2] challenges [1] to a duel|[1] wants to end things once and for all with [2]|[2] wants to end things once and for all with [1]].<br>[1] bites the dust!`,p=>{p[2].kill(p[1],`duel`);});
				new G.act(anyAttackMult*attackKill*0.01,[hesitentKiller+' '+victimKill,'- cute|any%0.2 cute%0.5|seductive%0.5|bikini%0.5|artist%0.5|glasses%0.2|any%0.5 sociopath%0.5|devious%0.5|any%0.5 '+coldBloodKiller],`[RED][1] [ambushes [2]|attacks [2] from behind] and tries to [kill|murder|attack] [2:them] but [2] is too cute to kill.<br>That doesn't stop [2] from [stabbing|murdering|slaughtering|removing] [1] when [1:their] back is turned.`,p=>{p[2].kill(p[1],`reverse ambush`);});
			new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller,'- any '+victimKill,'+ any '+victimKill],`[RED][1] [ambushes [2] and [3]|attacks [2] and [3] from behind|manages to sneak-attack [2] and [3]], [murdering|killing|slaughtering] them both!`,p=>{p[1].kill(p[2],`ambush`);p[1].kill(p[3],`ambush`);});
			new G.act(anyAttackMult*attackKill*0.02,[coldBloodKiller+ ' leader%0.5|devious%0.5|any%0.5','+ leader%0.5|devious%0.5|any%0.5 !vigilant '+coldBloodKiller,'- any !vigilant'],`[RED][1] and [2] [team up and ambush [3]|come at [3] from both sides|ambush [3]|attack [3] from behind|manage to sneak-attack [3]], [murdering|killing|slaughtering] [3:them]!`,p=>{p[1].kill(p[3],`ambush`,p[2]);});
			new G.act(anyAttackMult*attackKill*0.02,[coldBloodKiller,'- any '+victimKill,'+ leader%0.5|kind%0.5|bulky%0.5|knight_armor%0.2|kite_shield%0.2|riot_shield%0.2|any%0.2 !sociopath%0.5|survivalist%0.5|cowardly%0.5|devious%0.2|meek%0.2'],`[RED][1] attempts to kill [2], but [3] intervenes just in time!<br>[3] had to kill [1] to protect [2]'s life...`,p=>{p[3].kill(p[1],`retaliation`);});
				new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller,'- any !vigilant '+victimKill,'+ !sociopath|stubborn%0.5|survivalist%0.5|analytical%0.2|medic%0.2|first_aid_kit%0.5|AED%0.5 any !vigilant'],`[RED][1] [kills|murders|attacks and kills] [2] [in front of [3]|before [3] can react]!<br>[There is nothing [3] can do...|[3] rushes to help, but [[2] dies in [3:their] arms|it's already too late]...]`,p=>{p[1].kill(p[2],`ambush`);p[3].gain('shell-shocked');});
				new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller,'- any '+victimKill,'+ leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.5|survivalist%0.5|cowardly%0.5|devious%0.2 '+victimKill],`[RED][1] attempts to kill [2], but [3] intervenes to protect [2:them]!<br>Unfortunately, [3] dies in the attempt...`,p=>{p[1].kill(p[3],`failed retaliation`);});
			// Status Effect kills
			new G.act(0.2,[hesitentKiller,'sheep annoying%0.5|suicidal%0.5|clumsy%0.2|meek%0.2|naive%0.2|any%0.5 !cute%0.2|stubborn%0.2|cowardly%0.2|plot_armor%0.8'],`[RED][1] decides to put [2] out of [2:their] sheep misery.`,p=>{p[1].kill(p[2],`sheep pity kill`);});
            // Frenzy Combat
			new G.act(perkAttackMult*attackModerate*0.2,['frenzied',victimModerate],'[RED]In a fit of frenzy, [1] creeps up on [2] and [tackles [2:them] to the ground|smashes [2:them] into a tree|headbutts [2:them] right in the chest] [as [2] shouts in surprise|breaking a few ribs].<br>[2] manages to [in a surge of adrenaline|painfully|desperately] [kick|throw|toss] [1] off and escape.',p=>{p[2].gain('broken');});
				new G.act(perkAttackMult*attackMajor*0.2,['frenzied',victimMajor],'[RED]In a fit of frenzy, [1] creeps up on [2] and [cuts|stabs|slashes] [2:their] [chest|throat].<br>[2] is beginning to bleed out quick...',p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.5,['frenzied',victimKill],`[RED]In a fit of frenzy, [1] creeps up on [2] and [snaps [2:their] neck|kills [2:them] dead|slaughters [2:them]|turns [2:them] inside out]!`,p=>{p[1].kill(p[2],`frenzy kill`);});
				new G.act(perkAttackMult*attackKill*0.1,['frenzied any bleeding_out%0.5|burnt%0.5|badly_poisoned%0.5|missing_arm%0.5|missing_leg%0.5|cut_up%0.3|broken%0.3|shot%0.3|singed%0.3|poisoned%0.3|scratched%0.2|bruised%0.2|meek%0.2 !bulky%0.2|stubborn%0.2'],`[RED][Panting like a wild beast, [1:their] eyes bulging out|After rampaging for a while|Raging fury grasping [1:their] chest], [1]'s frenzy grows so overpowering that [1:their] heart gives out...`,p=>{p[1].die(`frenzy heart attack`);});
            // Evil laugh Combat - suggested by Berwalch -TW
            new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' laughed','- any '+victimKill],`[RED][1] slaughters [2] while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed big_stick|pitchfork','- any '+victimKill],`[RED][1] clubs [2] to death while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed sword|axe','- any '+victimKill],`[RED][1] chops [2] to bits while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed bow|handgun|shotgun|lasergun','- any '+victimKill],`[RED][1] shoots [2] multiple times while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed grenade|rocket_launcher','- any '+victimKill],`[RED][1] blows up [2], when the smoke clears, [1] is laughing [evily|maniacally|devilously|excessively]!`,p=>{p[1].kill(p[2],`explosion`);p[1].lose('grenade');});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed grenade|rocket_launcher','- any '+victimKill,'- any '+victimKill],`[RED][1] blows up [2] and [3] when they're talking together!<br>When the smoke clears, [1] is laughing [evily|maniacally|devilously|excessively]!`,p=>{p[1].kill(p[2],`explosion`);p[1].kill(p[3],`explosion`);p[1].lose('grenade');});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed flamethrower|magic_wand|ancient_scepter','- any '+victimKill],`[RED][1] sets [2] aflame and laughs very [evily|maniacally|devilously|excessively] as they burn!`,p=>{p[1].kill(p[2],`incinerated`);});
                new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' laughed cursed_knife','- any '+victimKill],`[RED][1] just keeps stabbing [2] even after they'ved died, all the while laughing quite [evily|maniacally|devilously|deranged]!`,p=>{p[1].kill(p[2],`cursed_knife`);});
			// Pixelate combat -CS
			new G.act(perkAttackMult*attackModerate*0.3,[coldBloodKiller+' pixelate','- any%0.75 !wizard_robe%0.5'],`[RED]With [an intense stare|a silent chant aimed|a finger pointing] at [2], [1] [breaks out an uncanny smile|starts laughing manically|taunts [2:them]|rejoices in [1:their] power] as [2:they] [scream in pain|dance in agony|desperately beg] as [2:they] begin to pixelate...<br>Luckily, [2] manages to [free [2:themself] from it|snap out of it|break free from the transformation], but is unfortunately left with some [discolored burn wounds|severe and vibrant burns].`,p=>{p[2].gain('burnt');});
			new G.act(perkAttackMult*attackKill*0.6,[coldBloodKiller+' pixelate','- any%0.75|goth%0.5|nerd%0.5 !mint_enhanced|wizard_robe%0.5'],`[RED]With [an intense stare|a silent chant aimed|a finger pointing] at [2], [1] [breaks out an uncanny smile|starts laughing manically|taunts [2:them]|rejoices in [1:their] power] as [2:they] [scream in pain|dance in agony|desperately beg], [2:their] body starting to erratically twitch and glitch, soon turning into a [still|unmoving|frozen] mess of pixels...`,p=>{p[1].kill(p[2], 'pixelated');p[2].gain('pixelated');});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' pixelate','- any !mint_enhanced|wizard_robe%0.5'],`[RED]With [an intense stare|a silent chant aimed|a finger pointing] at [2], [1] finds [1:themself] [astonished|strangely amazed] [as|while] [2] turns into pixels before disintegrating into dust! [2] didn't even have a chance to [scream|plead|realize] before [2:they] faded from everyone's memory.`,p=>{p[1].kill(p[2], 'removed from reality');p[2].gain('nihil');});
				new G.act(perkAttackMult*attackKill*1,[coldBloodKiller+' pixelate','- any%0.75|goth%0.5|nerd%0.5|wizard_robe%0.5 mint_enhanced'],`[RED][1] tried to ambush and pixelate [2], but merely found [1:themself] [horrified|terrified|utterly broken] to smell a minty aroma before [2] turns around to look at [1:their] distorting body, smiling...`,p=>{p[2].kill(p[1], 'pixelated');p[1].gain('pixelated');});
			// Disassemble combat -CS
			new G.act(perkAttackMult*attackModerate*0.2,[coldBloodKiller+' disassemble','- any !wizard_robe%0.5'],`[RED]With [an intense stare|a silent chant aimed|a finger pointing] at [2], [1] [breaks out an uncanny smile|starts laughing manically|taunts [2:them]|rejoices in [1:their] power] as [2:they] [falls on [2:their] knees|clutches [2:their] head in pain|screams at the sky|stare blankly at nothing] before [[2:their] eye cleanly detaches from [2:their] sockets|[2:their] heart phases out of [2:their] chest|[2:their] lungs invert out of [2:their] mouth|starting to vomit blood].<br>[Luckily|Fortunately], [2] manages [free [2:themself] from it|snap out of it|break free from the transformation], but [is left with quite a damaged body|[2:they] might never walk again|is rendered completely blind|lost all senses of touch]...`,p=>{p[2].gain('lacerated');p[2].gain('crippled');});
			new G.act(perkAttackMult*attackKill*0.6,[coldBloodKiller+' disassemble','- any !mint_enhanced|wizard_robe%0.5'],`[RED]With [an intense stare|a silent chant aimed|a finger pointing] at [2], [1] [breaks out an uncanny smile|starts laughing manically|taunts [2:them]|rejoices in [1:their] power] as [2:they] [falls on [2:their] knees|clutches [2:their] head in pain|screams at the sky|stare blankly at nothing before] before [[2:their] eye cleanly detaches from [2:their] sockets|[2:their] heart phases out of [2:their] chest|[2:their] lungs invert out of [2:their] mouth|starting to vomit blood]. This is only the beginning...`,p=>{p[1].kill(p[2],'disassembled');p[2].gain('disassembled');});
				new G.act(perkAttackMult*attackKill*0.8,[coldBloodKiller+' disassemble','- any mint_enhanced'],`[RED][1] tried to ambush and disassemble [2], but merely found [1:themself] [horrified|terrified|utterly broken] to smell a minty aroma as [1:they] [falls on [1:their] knees|clutches [1:their] head in pain|screams at the sky|stare blankly at nothing before] before [[1:their] eye cleanly detaches from [1:their] sockets|[1:their] heart phases out of [1:their] chest|[1:their] lungs invert out of [1:their] mouth|starting to vomit blood]. [2] turns around - this is only the beginning...`,p=>{p[2].kill(p[1],'disassembled');p[1].gain('disassembled');});
			// Freezing sapphire combat -CS
			new G.act(perkAttackMult*attackKill*0.5,[coldBloodKiller+' freezing_sapphire','- any '+victimKill],`[RED][1] creeps up behind [2] and throw [1:their] freezing sapphire, turning [2:them] into a solid block of ice - before promptly [throwing [2:them] down a [cliff|lake]|smashing it into pieces|burying it into the ground]!`,p=>{p[1].kill(p[2], 'freezing sapphire');p[1].lose('freezing sapphire');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' freezing_sapphire devious|sociopath','- any '+victimKill],`[RED][1] creeps up behind [2] and quickly tackles [2:them] to the ground, before promptly shoving [1:their] freezing sapphire down [2:their] throat!`,p=>{ p[1].kill(p[2], 'glacial stasis'); p[1].lose('freezing sapphire'); });
            // Big Stick Combat
			new G.act(perkAttackMult*attackMinor*0.6,[hesitentKiller+' big_stick bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimMinor],`[RED][1] wacked [2] with [1:their] stick, leaving a nasty bruise.`,p=>{p[2].gain('bruised');});
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' big_stick bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimModerate],`[RED][1] beat [2] black and blue with [1:their] stick, beaking a bone or two.`,p=>{p[2].gain('broken');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' big_stick bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimKill],`[RED][1] bludgeons [2] to death with [1:their] big stick!`,p=>{p[1].kill(p[2],`big stick`);});
            // Pitchfork Combat
			new G.act(perkAttackMult*attackMinor*0.4,[hesitentKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimMinor],`[RED][1] scratched [2] with [1:their] pitchfork when the two ended up in a fight.`,p=>{p[2].gain('scratched');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimModerate],`[RED][2] was gashed pretty bad by [1]'s pitchfork when it was thrown at [2:them].`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimKill],`[RED][1] lobs [1:their] pitchfork at [2], killing [2:them] instantly!`,p=>{p[1].kill(p[2],`pitchfork`);});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimKill,'+ any !knight_armor%0.2|kite_shield%0.2 '+victimKill],`[RED][1] skewers [2] and [3] with [1:their] pitchfork!`,p=>{p[1].kill(p[2],`pitchfork`);p[1].kill(p[3],`pitchfork`);});
			// Sword Combat
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimModerate],`[RED][1] sliced [2] with [1:their] sword before [2] could escape.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackMajor*0.3,[coldBloodKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimMajor],`[RED][1] severely sliced [2] with [1:their] sword, causing excruciating pain.<br>[2] escaped but the bleeding won't stop...`,p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimKill],`[RED][1] artfully [slices|cleaves] [2] [|across|deeply|lethally|in two] with [1:their] [sword|blade]!`,p=>{p[1].kill(p[2],`sword`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimKill,'+ any !knight_armor%0.2|kite_shield%0.2|sword%0.1 '+victimKill],`[RED][1] artfully [slices|cleaves] through [2] and [3] in one fell swoop.`,p=>{p[1].kill(p[2],`sword`);p[1].kill(p[3],`sword`);});
			// Axe Combat
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimModerate],`[RED][2] took an axe chop from [1] before escaping.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackMajor*0.3,[coldBloodKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimMajor],`[RED][1] violently chopped at [2], causing life threatening bleeding!`,p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.25,[coldBloodKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimKill],`[RED][1] chops [2] to bits with [1:their] axe!`,p=>{p[1].kill(p[2],`axe`);});
				new G.act(perkAttackMult*attackKill*0.15,[coldBloodKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimKill,'+ any '+victimKill],`[RED][1] goes axe-crazy, chopping [2] and [3] to bits.`,p=>{p[1].kill(p[2],`axe`);p[1].kill(p[3],`axe`);});
			// Handgun Combat
			new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' handgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any combat_gear|knight_armor !riot_shield%0.2|lucky_coin%0.2|marksmen%0.2 '+victimMinor],`[RED][1] manages to ambush [2] with [a few shots.|a headshot!]<br>[2]'s [helmet|armor] saved [2:their] life, but there is a still a ringing in [2:their] ears from the encounter.`,p=>{p[2].gain('dizzy');});
			new G.act(perkAttackMult*attackModerate*0.6,[hesitentKiller+' handgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.5|combat_gear%0.5|knight_armor%0.3|riot_shield%0.2|lucky_coin%0.2 '+victimModerate],`[RED][1] fires a few rounds at [2] during a brief encounter.<br>[2] escapes with their life, but not without a new [bullet wound|hole|injury].`,p=>{p[2].gain('shot');});
				new G.act(perkAttackMult*attackKill*0.4,[coldBloodKiller+' handgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.5|combat_gear%0.5|knight_armor%0.3|riot_shield%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] finds [1:themself] face-to-face with [2] and shoots [2:them] dead with [1:their] gun!`,p=>{p[1].kill(p[2],`handgun`);});
			// Shotgun Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' shotgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][2] runs into the business end of [1]'s shotgun, managing to barely survive the [slug|bits of [buck|bird]shot].`,p=>{p[2].gain('shot');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' shotgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] [ambushes|attacks|shoots at] both [2] and [3] together, injuring them with a few shots from [1:their] shotgun.`,p=>{p[2].gain('shot');p[3].gain('shot');});
				new G.act(perkAttackMult*attackKill*0.5,[coldBloodKiller+' shotgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] creeps up behind [2] and shoots [2:them] point-blank with [1:their] shotgun!`,p=>{p[1].kill(p[2],`shotgun`);});
			// Flamethrower
			new G.act(perkAttackMult*attackModerate*0.15,[hesitentKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimModerate],`[RED][1] [catches|ambushes] [2] in a bout of fire!<br>[2] escapes with [some 2nd|plenty of 1st] degree burns.`,p=>{p[2].gain('singed');});
			new G.act(perkAttackMult*attackModerate*0.1,[hesitentKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimModerate,'+ any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimModerate],`[RED][1] [catches|ambushes] [2] and [3] in a [burst|gust|flurry] of [fire|flames]!<br>[2] and [3] escape after suffering [a few 2nd|some 2nd|plenty of 1st] degree burns.`,p=>{p[2].gain('singed');p[3].gain('singed');});
				new G.act(perkAttackMult*attackMajor*0.15,[coldBloodKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimMajor],`[RED][1] fires [1:their] flamethrower [point blank|face first] at [2]!<br>[2] catches alight but escapes before [2:they] burn to death, but it doesn't look pretty...`,p=>{p[2].gain('burnt');});
				new G.act(perkAttackMult*attackMajor*0.1,[coldBloodKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimMajor,'+ any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimMajor],`[RED][2] crazily blasts [1:their] flamethrower across a group of enemies.<br>Everyone runs for their lives, but [2] and [3] suffer [severe|life-threatening|3rd degree] burns.`,p=>{p[2].gain('burnt');p[3].gain('burnt');});
				new G.act(perkAttackMult*attackKill*0.15,[coldBloodKiller+' flamethrower pyromania%0.8|marksmen%0.2|inventor%0.2|suicidal%0.2|any%0.5 !kind%0.5|cowardly%0.2','- any'],`[RED]Armed with [1:their] flamethrower, [1] [incinerates|torches|burns] [2] to a crisp!`,p=>{p[1].kill(p[2],`flamethrower`);p[2].gain('burnt');});
				new G.act(perkAttackMult*attackKill*0.15,[coldBloodKiller+' flamethrower pyromania%0.8|marksmen%0.2|inventor%0.2|suicidal%0.2|any%0.5 !kind%0.5|cowardly%0.2','- any','+ any'],`[RED]Armed with [1:their] flamethrower, [1] [incinerates|torches|burns] [2] and [3] to a crisp!`,p=>{p[1].kill(p[2],`flamethrower`);p[1].kill(p[3],`flamethrower`);p[2].gain('burnt');p[3].gain('burnt');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' flamethrower pyromania%0.8|sociopath%0.5|suicidal%0.5|gremlin%0.2|any%0.2 !cowardly%0.8|meek%0.5|survivalist%0.5|combat_gear%0.2|wizard_robe%0.2','- flamethrower pyromania%0.8|sociopath%0.5|suicidal%0.5|gremlin%0.2|any%0.2 !cowardly%0.8|meek%0.5|survivalist%0.5|combat_gear%0.2|wizard_robe%0.2 '+coldBloodKiller],`[RED][1] and [2] joyfully incinerate each other with their flamethrowers.<br>When the fire dies down, there's not much of them left...`,p=>{p[1].kill(p[2],`flamethrower duel`);p[2].kill(p[1],`flamethrower duel`);p[1].gain('burnt');p[2].gain('burnt');});
			// Rocket Launcher Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' rocket_launcher pyromania%0.5|inventor%0.5|clumsy%0.2|any%0.5 !missing_arm%0.8|marksmen%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] fires a rocket near a group of enemies, not quite catching them all.<br>[2] and [3] are caught by the explosion, sent tumbling and burned.`,p=>{p[2].gain('broken');p[3].gain('broken');p[2].gain('singed');p[3].gain('singed');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' rocket_launcher pyromania%0.5|inventor%0.5|clumsy%0.2|any%0.5 !missing_arm%0.8|marksmen%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] fires a rocket near a group of enemies, not quite catching them all.<br>[2], [3] and [4] are caught by the explosion, sent tumbling and burned.`,p=>{p[2].gain('broken');p[3].gain('broken');p[4].gain('broken');p[2].gain('singed');p[3].gain('singed');p[4].gain('singed');});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' rocket_launcher sociopath%0.5|pyromania%0.5|inventor%0.5|marksmen%0.5|any%0.5 !missing_arm%0.8|clumsy%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] fires a rocket at [2], who gets absolutely blown away.`,p=>{p[1].kill(p[2],`rocket launcher`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' rocket_launcher sociopath%0.5|pyromania%0.5|inventor%0.5|marksmen%0.5|any%0.5 !missing_arm%0.8|clumsy%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] fires a rocket at a group of enemies.<br>[2] and [3] are caught in the explosion and are absolutely blown away.`,p=>{p[1].kill(p[2],`rocket launcher`);p[1].kill(p[3],`rocket launcher`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' rocket_launcher sociopath%0.5|pyromania%0.5|inventor%0.5|marksmen%0.5|any%0.5 !missing_arm%0.8|clumsy%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] fires a rocket at a group of enemies.<br>[2], [3] and [4] are caught in the explosion and are absolutely blown away.`,p=>{p[1].kill(p[2],`rocket launcher`);p[1].kill(p[3],`rocket launcher`);p[1].kill(p[4],`rocket launcher`);});
			// Lasergun Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' lasergun marksmen%0.5|inventor%0.5|naive%0.5|kind%0.5|any%0.5','- any !stubborn%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimModerate],`[RED][1] shoots several bolts of energy at [2] using [1:their] lasergun.<br>Good thing [1] left [1:their] gun on stun, leaving [2] 'merely' senseless.`,p=>{p[2].gain('dazed');p[2].gain('dizzy');});
				new G.act(perkAttackMult*attackMajor*0.2,[coldBloodKiller+' lasergun marksmen%0.5|inventor%0.5|analytical%0.2|any%0.5','- any !wizard_robe%0.2|lucky_coin%0.2 '+victimMajor],`[RED][1] shoots several white-hot holes in [2]'s body using [1:their] lasergun.<br>[2] is left barely alive as [2:g|he bleeds|she bleeds|they bleed|it bleeds] out from [2:their] burns.`,p=>{p[2].gain('bleeding out');p[2].gain('singed');});
				new G.act(perkAttackMult*attackKill*0.6,[coldBloodKiller+' lasergun marksmen%0.5|inventor%0.5|analytical%0.2|any%0.5','- any !wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] shoots several white-hot holes in [2]'s body using [1:their] lasergun.`,p=>{p[1].kill(p[2],`lasergun`);});
			// Slingshot & Pet Rock Combat
			new G.act(perkAttackMult*attackFail*0.8,[hesitentKiller+' slingshot annoying|any%0.5 !missing_arm|marksmen%0.5|survivalist%0.2','- any knight_armor%0.5|combat_gear%0.5|kite_shield%0.5|riot_shield%0.5|any%0.5'],`[RED][1] uses [1:their] slingshot to pelt [2] with rocks, which is more annoying than anything, really.`);
				new G.act(perkAttackMult*attackMinor*0.4,[hesitentKiller+' slingshot marksmen|any%0.8 !missing_arm|annoying%0.5|meek%0.2','- any !knight_armor%0.2|combat_gear%0.2|riot_shield%0.2|stubborn%0.2 '+victimMinor],`[RED][1] uses [1:their] slingshot to pelt [2] with rocks.<br>[2] takes a rock to the head, leaving them a bit bloody and dizzy.`,p=>{p[2].gain('bruised');p[2].gain('dizzy');});
				new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' pet_rock gremlin%0.8|annoying%0.5|naive%0.5|animal_ken%0.2|any%0.5 !missing_arm','- any !knight_armor%0.2|combat_gear%0.2|stubborn%0.2 '+victimMinor],`[1] lets out a shout "Pet Rock, use Tackle!" and [tosses|chucks|throws] [1:their] pet rock at [2]<br>[2] takes the rock to [2:their] head, leaving them a bit bloody and dizzy.`,p=>{p[2].gain('bruised');p[2].gain('dizzy');});
				new G.act(perkAttackMult*attackKill*0.4,[coldBloodKiller+' slingshot pet_rock annoying%0.5|marksmen%0.5|any%0.5 !missing_arm','- any'],`[RED][1] sics their pet rock on [2] through [1:their] sling shot!<br>Head shot! [2]'s skull is left shattered and bloody as [2:their] body drops dead.`,p=>{p[1].kill(p[2],`pet rock`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' pet_rock gremlin%0.8|annoying%0.5|naive%0.5|animal_ken%0.2|any%0.5 !missing_arm', '- any pet_rock !missing_arm'],'[RED][1] decides to play rock paper scissors with [2]! <br>In an instant, both reveal their hands - [1] with rock, [2] with scissor!<br>Then, [1] smashes [1:their] pet rock down [2]\'s skull!',p=>{p[1].kill(p[2],'paper-scissor-youredead');}); //inspired by trufflz - CS
			// High pressure garden hose charging
			new G.act(1.2,['high_pressure_garden_hose any%0.8|artist'],'[BLUE][1] finds a pool of water, and seeing [1:their] emptied tank of the garden hose, [1:they] fills it up in preparation for future problems.',p=>{p[1].has('high pressure garden hose').charges++;},p=>{return (p[1].has('high pressure garden hose').charges <= 0); });
			new G.act(0.4,['high_pressure_garden_hose any%0.5|scrappy%0.5|goth%0.3|devious%0.35|sociopath%0.5'],'[BLUE][1] finds a [vial of acid|packet of acidic powder|vial of acid|packet of acidic powder|batch of mutated super-sour [limes|lemons]], and seeing [1:their] garden hose, a [dark, yet bright|dark|bright|interesting] idea [blooms|appears|becomes apparent] in [1:their] head...',p=>{p[1].has('high pressure garden hose').content.push('acid');if (countOccurrences(p[1].has('high pressure garden hose').content, 'acid') < 3) { p[1].has('high pressure garden hose').content.push('acid'); }},p=>{return (countOccurrences(p[1].has('high pressure garden hose').content, 'acid') < 3); });
			new G.act(0.35,['high_pressure_garden_hose any%0.5|pyromania%0.6|survivalist%0.3|flamethrower%0.4|devious%0.4'],'[BLUE][1] finds a [half-gallon|big cup of|reserve|[mysterious ||]bottle] of gasoline! [Seeing|Remembering] [1:their] garden hose, [1:they] realizes something... this could actually be [useful|pretty deadly|powerful].',p=>{p[1].has('high pressure garden hose').content.push('gasoline');},p=>{return (countOccurrences(p[1].has('high pressure garden hose').content, 'gasoline') < 2); }); 
			new G.act(0.3,['high_pressure_garden_hose any%0.5|inventor%0.5|bulky%0.3|the_gift%0.2|scrappy%0.3'],'[BLUE][1] finds a [nice reserve of|cave full of|beach generously sprinkled with|an out-of-place bucket of|hole in the ground with|tree with roots filled with] [some |plenty of |a bit of |][silt|silt|silt|finely-ground rubble]. [Seeing|Remembering] [1:their] garden hose, [1:they] decides to put [as much of it as [1:they] can|all the silt [1:they] can find] into it.',p=>{for (let i = 0; i < 4; i++) { if (countOccurrences(p[1].has('high pressure garden hose').content, 'silt') >= 4) { return; } p[1].has('high pressure garden hose').content.push('silt'); }},p=>{return (countOccurrences(p[1].has('high pressure garden hose').content, 'silt') < 3);});
			new G.act(0.25,['high_pressure_garden_hose any%0.5|artist%0.5|vigilant%0.2|cute%0.3|nerd%0.1'],'[BLUE][1] finds a[n abandoned|] [vial|dish|cup|ball] of [sparkly|glistering|glimmering|rainbow|plain|red|blue|green|purple|yellow|orange|fiery|midnight|bright white|glitter|shimmering|squeaky], [water-absorbant|magical|enchanted|expands-while-wet|dried] slime! [Seeing|Remembering] [1:their] garden hose, [1:they] [realizes|thinks|finds] that it might come in handy later.',p=>{ p[1].has('high pressure garden hose').content.push('slime'); },p=>{return countOccurrences(p[1].has('high pressure garden hose').content, 'slime') < 2; });
			// Shuriken Combat
			new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' shuriken ninja%0.8|marksmen%0.5|any%0.5','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimMinor],`[1] grazed [2] with a few of [1:their] gleaming shuriken.`,p=>{p[2].gain('scratched');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' shuriken ninja%0.8|marksmen%0.5|any%0.5','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimModerate],`[1] managed to leave [2] with a few lacerations after tossing knives at [2:them].`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' shuriken ninja%0.8|marksmen%0.5|any%0.5 !clumsy%0.2|dizzy%0.2','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] strikes [2] right in the neck with a [shuriken|throwing knife], killing [2:them] before [2] knew what was coming!`,p=>{p[1].kill(p[2],`shuriken`);});
				new G.act(perkAttackMult*attackFail*0.2,[hesitentKiller+' shuriken !ninja%0.8|marksmen%0.5|lucky_coin%0.2','- any'],`[1] throws a few knives at [2], but misses...`);
			// Bow Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' bow marksmen%0.5|survivalist%0.5|any%0.5 !missing_arm','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimModerate],`[1] managed to hit [2] in the limb with an arrow.<br>The arrow didn't stick, but it left [2] bleeding.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackMajor*0.4,[coldBloodKiller+' bow marksmen%0.5|survivalist%0.5|any%0.5 !missing_arm','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimMajor],`[1] managed to hit [2] with a few arrows.<br>[2] is bleeding out and unsure what to do!`,p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' bow marksmen%0.5|survivalist%0.5|any%0.5 !missing_arm|clumsy%0.2|dizzy%0.2','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimKill],`[RED][[1] spots [2] in the distance, and draws [1:their] bow. [1:g|His|Her|Their|Its] arrow flies off, and pierces [2]'s|[1]'s arrow flies straight and true, piercing [2]'s] [heart|head|chest|stomach]!`,p=>{p[1].kill(p[2],`arrow`);});
				new G.act(perkAttackMult*attackFail*0.2,[hesitentKiller+' bow !missing_arm|marksmen%0.5|lucky_coin%0.2','- any'],`[1] fires an arrow at [2], but misses...`);
			// Grenade Combat (up chances of use by 50% since it is consumed)
			new G.act(perkAttackMult*attackModerate*0.25,[hesitentKiller+' grenade pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.2|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] tosses a live grenade near a group of enemies, not quite catching them all.<br>[2] and [3] are caught by the explosion, suffering numerous cuts and burns.`,p=>{p[2].gain('cut up');p[3].gain('cut up');p[2].gain('singed');p[3].gain('singed');p[1].lose('grenade');});
			new G.act(perkAttackMult*attackModerate*0.5,[hesitentKiller+' grenade pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.2|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] tosses a live grenade near a group of enemies, not quite catching them all.<br>[2], [3] and [4] are caught by the explosion, suffering numerous cuts and burns.`,p=>{p[2].gain('cut up');p[3].gain('cut up');p[4].gain('cut up');p[2].gain('singed');p[3].gain('singed');p[4].gain('singed');p[1].lose('grenade');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' grenade sociopath%0.5|pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.5|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] tosses a live grenade at [2], who is instantly blown to smithereens!`,p=>{p[1].kill(p[2],`grenade`);p[1].lose('grenade');});
				new G.act(perkAttackMult*attackKill*0.25,[coldBloodKiller+' grenade sociopath%0.5|pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.5|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] tosses a live grenade at a group of enemies.<br>[2] and [3] are caught in the explosion and are blown to smithereens!`,p=>{p[1].kill(p[2],`grenade`);p[1].kill(p[3],`grenade`);p[1].lose('grenade');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' grenade sociopath%0.5|pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.5|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] tosses a live grenade at a group of enemies.<br>[2], [3] and [4] are caught in the explosion and are blown to smithereens!`,p=>{p[1].kill(p[2],`grenade`);p[1].kill(p[3],`grenade`);p[1].kill(p[4],`grenade`);p[1].lose('grenade');});
			// Magic Wand Combat
			new G.act(perkAttackMult*attackMinor*0.4,[hesitentKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced '+victimMinor],`[RED][1] hesitently gestures towards [2] with [1:their] magic wand.<br>[2] stumbles as [2:their] guts seem to twist and turn, leaving [2:them] feeling sick.`,p=>{p[2].gain('sick');});
				new G.act(perkAttackMult*attackMajor*0.2,[coldBloodKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !missing_arm !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced '+victimMajor],`[RED][1] swipes [1:their] wand sharply at [2]'s direction.<br>[2] [screams out as|yells out as|is shocked by the pain of] [2:their] arm being ripped off!`,p=>{p[2].gain('missing arm');p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced '+victimKill],`[RED][1] gestures angrily towards [2] with [1:their] magic wand.<br>[2] only has time to feel [2:their] [blood turn to jelly|lungs turn into cauliflowers|blood vessels turn into spaghetti|major organs turn into various pastries|body temperature rising rapidly|brain hemispheres try to switch places|pancreas turn to cheese] before [2:g|he topples|she topples|they topple|it topples] over, dead.`,p=>{p[1].kill(p[2],`magic wand`);});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced '+victimKill,'+ any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimKill],`[RED][1] gestures angrily towards [2] and [3] with [1:their] magic wand.<br>It seems this switched some of their major organs, [2] inheriting [3]'s [spleen|kidneys|lungs|intestines|brain stem|uvula|eyelids|pancreas|bladder] and vice-versa. They both topple over, dead.`,p=>{p[1].kill(p[2],`magic wand`);p[1].kill(p[3],`magic wand`);});
			// Ancient Scepter Combat
			new G.act(perkAttackMult*attackMajor*0.4,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|magic_wand%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced '+victimMajor,'+ any !mint_enhanced '+victimModerate,'+ any !mint_enhanced '+victimModerate],`[RED][1] uses a [ancient|horrid|dark|arcane|eldrich] ritual on a group of enemies!<br>[2]'s blood rips out from [2:their] body, burning [3] like acid and cutting up [4] like blades of iron!`,p=>{p[2].gain('bleeding out');p[3].gain('singed');p[4].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.4,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|magic_wand%0.2|any%0.5','- any !mint_enhanced'],`[RED][1] calls arcane fury down on [2], [1:their] ancient scepter beaming with an inner rage.<br>[[2] combusts into thousands of firey butterflies...|[2] vaporizes into a minty purple mist...|[2] grimaces, then starts bubbling violently, before melting into the ground.|For a second, nothing happens. [2] opens [2:their] mouth to say something, then starts peeling away, layer by layer.|At first, it seems nothing happened, until a light breeze blows [2] away like a pile of old dust.|[2] quivers strangely, then starts getting taller and taller, and thinner and thinner, until [2:g|he becomes just a line and disappears|she becomes just a line and disappears|they become just a line and disappear|it becomes just a line and disappears].]`,p=>{p[1].kill(p[2],`ancient scepter`);});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|magic_wand%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced '+victimKill,'+ any !mint_enhanced '+victimModerate,'+ any !mint_enhanced '+victimModerate],`[RED][1] calls on [dark|ancient|arcane] arts to turn [2] into a bomb!<br>[2] is [unaware|unprepared|feeling a little sick] when they next see [3] and [4], only to explode violently and sending both [3] and [4] [flying|tumbling|a barrage of body parts] and breaking a few bones.`,p=>{p[1].kill(p[2],`ancient scepter`);p[2].gain('confirmed');p[3].gain('broken');p[4].gain('broken');});
			new G.act(perkAttackMult*attackKill*0.15,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|magic_wand%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced '+victimKill,'+ any !mint_enhanced '+victimModerate],`[RED][1] calls on [dark|ancient|arcane] arts to turn [2] into a bomb!<br>[2] is [unaware|unprepared|feeling a little sick] when they next see [3], only to explode violently and sending [3] [flying|tumbling|a barrage of body parts] and breaking a few bones.`,p=>{p[1].kill(p[2],`ancient scepter`);p[2].gain('confirmed');p[3].gain('broken');});
			// Gun Dueling
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' handgun%0.8|lasergun%0.5|shotgun%0.2 marksmen|any%0.8 !cowardly%0.8|naive%0.2','- handgun%0.8|lasergun%0.2|shotgun%0.2 !peaceful|cowardly%0.8|kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5 '+victimKill],`[RED][1] and [2] duel it out, guns drawn.<br>[Two shots are fired.|One shot is fired.] [2] falls over, dead.`,p=>{p[1].kill(p[2],`gun duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' handgun%0.8|lasergun%0.2|shotgun%0.2 !kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5|marksmen%0.5 '+victimKill,'- handgun%0.8|lasergun%0.5|shotgun%0.2 marksmen|any%0.8 !peaceful|cowardly%0.8'],`[RED][1] and [2] duel it out, guns drawn.<br>[Two shots are fired.|One shot is fired.] [1] falls over, dead.`,p=>{p[2].kill(p[1],`gun duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' handgun%0.8|lasergun%0.5|shotgun%0.2 !kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5|marksmen%0.5 '+victimKill,'- handgun%0.8|lasergun%0.5|shotgun%0.2 !peaceful|cowardly%0.8|kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5 '+victimKill],`[RED][1] and [2] duel it out, guns drawn.<br>Two shots are fired. [1] and [2] both fall over, dead.<br>Guess it's a tie.`,p=>{p[2].kill(p[1],`gun duel`);p[1].kill(p[2],`gun duel`);});
				new G.act(perkAttackMult*attackFail*0.1,[hesitentKiller+' handgun%0.5|lasergun%0.5|shotgun%0.5 !marksmen%0.5|lucky_coin%0.2','- any lucky_coin%0.5|clumsy%0.2|cowardly%0.2|any%0.5'],`[1] fires [1:their] gun at [2][, but they miss..|! Good thing [1:they] can't aim..| but [2] [makes a lucky trip|makes a lucky dodge|narrowly escapes]].`);
			// Magic Dueling & Magical Curses
			new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' magic_wand|ancient_scepter|the_gift%0.5|wizard_robe%0.2 magic_wand%0.2|ancient_scepter%0.2|wizard_robe%0.5|the_gift%0.5|any%0.5 !cowardly%0.8|analytical%0.2 !mint_enhanced','- magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !peaceful|cowardly%0.8|stubborn%0.5|goth%0.5|plot_armor%0.8 !mint_enhanced'],`[RED][1] and [2] have a merciless magic duel!<br>This goes on for a while until [2] [explodes in a splash of [violet|purple|indigo|blue|green|yellow|orange|red|color|colour]|has various major organs turned into [pastries|each other|cheese]|is turned inside out].`,p=>{p[1].kill(p[2],`magic duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !cowardly%0.8|stubborn%0.5|goth%0.5|analytical%0.2|plot_armor%0.8 !mint_enhanced','- magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !peaceful|cowardly%0.8|stubborn%0.5|goth%0.5|plot_armor%0.8 !mint_enhanced'],`[RED][1] and [2] have a merciless magic duel!<br>This goes on for a while until both of them [explode in a splash of [violet|purple|indigo|blue|green|yellow|orange|red|color|colour]|have various organs turned into [pastries|each other|cheese]|are turned inside out].`,p=>{p[1].kill(p[2],`magic duel`);p[2].kill(p[1],`magic duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !cowardly%0.8|stubborn%0.5|goth%0.5|analytical%0.2|plot_armor%0.8 !mint_enhanced','- magic_wand|ancient_scepter%0.2|wizard_robe%0.2 magic_wand%0.2|ancient_scepter%0.2|wizard_robe%0.5|goth%0.5|any%0.5 !peaceful|cowardly%0.8|analytical%0.2 !mint_enhanced'],`[RED][1] and [2] have a merciless magic duel!<br>This goes on for a while until [1] [explodes in a splash of [violet|purple|indigo|blue|green|yellow|orange|red|color|colour]|has various major organs turned into [pastries|each other|cheese]|is turned inside out].`,p=>{p[2].kill(p[1],`magic duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' magic_wand !ancient_scepter|cowardly%0.8|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8 !mint_enhanced','- ancient_scepter !peaceful|cowardly%0.8|wizard_robe%0.5|the_gift%0.5|goth%0.5 '],`[RED][1] challenges [2] to a magic duel with [1:their] magic wand!<br>Unfortunately for [1:them], [2] has an ancient scepter, and after a few colorful puffs and sparks, there's not much left of [1].`,p=>{p[2].kill(p[1],`magic duel`);});
			new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' ancient_scepter !cowardly%0.8|wizard_robe%0.5|stubborn%0.5|the_gift%0.5|plot_armor%0.8 !mint_enhanced','- ancient_scepter !peaceful|cowardly%0.8|stubborn%0.5|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8 !mint_enhanced '+victimKill],`[RED][1] and [2] have a merciless magic duel with their ancient scepters!<br>Sparks and bolts fly every which way, until both opponents suddenly bulge out and explode in a puff of acrid smoke.`,p=>{p[1].kill(p[2],`magic duel`);p[2].kill(p[1],`magic duel`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' ancient_scepter goth%0.8|laughed%0.2|sociopath%0.2|devious%0.2|ninja%0.2 !cowardly%0.8|kind%0.5|naive%0.2','- ancient_scepter !peaceful|cowardly%0.8|stubborn%0.5|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8 !mint_enhanced'],`[RED][1] and [2] have a merciless magic duel with their ancient scepters!<br>Sparks and bolts fly every which way, but [1]'s dark mind pulls out the full strength of [1:their] scepter and [2] is turned to ashes and blown asunder.`,p=>{p[1].kill(p[2],`magic duel`);});
                new G.act(perkAttackMult*attackModerate*0.1,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|the_gift%0.5|stubborn%0.2|any%0.2 !meek%0.5|naive%0.5','- ancient_scepter wizard_robe%0.5|goth%0.5|the_gift%0.5|stubborn%0.2|any%0.2 !peaceful|cowardly%0.8|meek%0.5|naive%0.5|kind%0.5'],`[RED][1] and [2] have a merciless magic duel with their ancient scepters!<br>Sparks and bolts fly every which way until both sceptors are pushed to their limits and shatter.<br>The explosion of shards leaves both [1] and [2] tired and bleeding.`,p=>{p[1].lose('ancient scepter');p[2].lose('ancient scepter');p[1].gain('cut up');p[2].gain('cut up');});
			new G.act(perkAttackMult*0.1,['magic_wand|ancient_scepter|the_gift%0.2|wizard_robe%0.2 magic_wand%0.5|ancient_scepter%0.5|wizard_robe%0.5|animal_ken%0.5|any%0.5','- !sheep|wizard_robe%0.5|stubborn%0.2 !out !mint_enhanced'],`[BLUE]With a flick of [1:their] wrist, [1] turns [2] into a sheep!`,p=>{p[2].gain('sheep');p[1].kill(p[2], 'became a sheep');});
				new G.act(perkAttackMult*0.4,['magic_wand|ancient_scepter|the_gift%0.2|wizard_robe%0.2 magic_wand%0.5|ancient_scepter%0.5|wizard_robe%0.5|animal_ken%0.5|any%0.5','- !sheep !out mint_enhanced'],`[BLUE]With a flick of [1:their] wrist, [1] tried to turn [2] into a sheep... but with a sudden wave of minty scents, the spell bounces right off [2:them] and ricoshets back to [1:them], turning [1:them] into a sheep!`,p=>{p[1].gain('sheep');p[2].kill(p[1], 'became a sheep');});
				new G.act(perkAttackMult*0.2,['magic_wand|ancient_scepter|the_gift%0.5|wizard_robe%0.2 wizard_robe%0.5|cute%0.5|seductive%0.5|devious%0.5|any%0.5 !peaceful%0.8|kind%0.5|naive%0.2','- any !dazed|wizard_robe%0.5|naive%0.2|stubborn%0.2|analytical%0.2 !mint_enhanced'],`[RED][1] [casts a charm on|waves [1:their] magic at] [2] leaving [2:them] completely senseless.`,p=>{p[2].gain('dazed');p[2].gain('dizzy');});
				new G.act(0.01,['ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.2 ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.2 leader%0.5|kind%0.5|medic%0.5|shell-shocked%0.5|any%0.2 !sociopath|devious%0.8|survivalist%0.8','+ dead'],`[BLUE][1] invokes [dark|desperate|arcane|last resort] magic with everything [1:they] have!<br>...it's a miracle! [1] brought [2] back to the edge of life!`,p=>{p[1].lose('shell-shocked');p[2].minimumRevive('dark magic', p[1]);});
				new G.act(0.01,['ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.5 ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.5 leader%0.5|kind%0.5|medic%0.5|suicidal%0.8|any%0.2 !sociopath|devious%0.8|survivalist%0.8','+ dead peaceful%0.5|kind%0.5|cute%0.5|medic%0.5|any%0.5'],`[BLUE][1] invokes [dark|desperate|arcane|last resort] magic with everything [1:they] have left!<br>One life for one life. With [1]'s life spent, [2] slowly begins to wake up once more...<br>When [2] realizes what has happened, it is already too late... Was it really worth it?`,p=>{p[1].kill(p[1],`self sacrifice`);p[2].gain('shell-shocked');p[2].revive('dark sacrifice', p[1]);});
			new G.act(perkAttackMult*attackKill*0.8,[coldBloodKiller+' magic_wand|ancient_scepter goth%0.8|laughed%0.2|sociopath%0.2|devious%0.2|ninja%0.2 !cowardly%0.8|kind%0.5|naive%0.2 !mint_enhanced','- magic_wand|ancient_scepter !peaceful|cowardly%0.8|stubborn%0.5|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8 mint_enhanced'],`[RED][1] and [2] have merciless magic duel! However, [1] quickly found [1:themself] doing absolutely nothing to [2:them] as a minty aura keeps bouncing all of [1:their] spells away! <br>Eventually, [2] has rendered [1] into a cloud of [violet|purple|indigo|blue|green|yellow|orange|red|color|colour] while [2:they] remained completely unharmed...`,p=>{p[2].kill(p[1], 'magic duel');});
			new G.act(perkAttackMult*attackKill*1,[coldBloodKiller+' magic_wand|ancient_scepter goth%0.8|laughed%0.2|sociopath%0.2|devious%0.2|ninja%0.2 !cowardly%0.8|kind%0.5|naive%0.2 mint_enhanced','- magic_wand|ancient_scepter !peaceful|cowardly%0.8|stubborn%0.5|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8 mint_enhanced'],`[BLUE][1] and [2] have merciless magic duel! However, both of them found themselves doing nothing to each other as a mint-scented aura perfectly protected them both! Eventually, they had to give up without a victor.`);
			// Wish Ring
			new G.act(perkAttackMult*attackKill*0.5,[hesitentKiller+' wish_ring the_gift%0.2|naive%0.5|goth%0.5|any%0.5','- any annoying|any%0.8 !lucky_coin%0.2|plot_armor%0.5 !mint_enhanced'],`[RED][1] wishes [2] would disappear... [1:g|His|Her|Their|Its] wish ring shimmers for a second, and then -<br>...nobody seems to remember [2] ever existed at all.`,p=>{p[1].kill(p[2],`ceased to exist`);p[2].gain('nihil');});
				new G.act(perkAttackMult*attackKill*0.15,['wish_ring naive%0.5|peaceful%0.5|meek%0.5|the_gift%0.5|any%0.5 !survivalist%0.8|devious%0.5|stubborn%0.5|analytical%0.5|plot_armor%0.5 !mint_enhanced'],`[RED][1] wishes [1:g|he wasn't|she wasn't|they weren't|it wasn't] here... [1:g|His|Her|Their|Its] wish ring shimmers for a second, and then -<br>...nobody seems to remember [1] ever existed at all.`,p=>{p[1].kill(p[1],`ceased to exist`);p[1].gain('nihil');});
			new G.act(0.2,['wish_ring sheep|plot_armor|mint_enhanced%0.5 meek%0.5|devious%0.5|survivalist%0.5|analytical%0.5|any%0.5 !naive%0.5|peaceful%0.2|bulky%0.2'],`[RED][1] wishes [1:they] [were immortal|were invincibile|could survive anything].<br>[1]'s wish ring shimmers ominonusly, and [1] realizes what they've done.<br>It couldn't have been that easy, could it?`,p=>{p[1].gain('plot armor');});
			new G.act(0.05,['wish_ring peaceful%0.5|kind%0.5|the_gift%0.2|cowardly%0.5|any%0.5 !sociopath|survivalist%0.8|devious%0.5 alive:1 unalive:>0'],`[BLUE][1] wishes [1:g|he wasn't|she wasn't|they weren't] alone anymore... [1:g|His|Her|Their|Its] wish ring shimmers for a second, and then -<br>...it's a miracle! Everybody's been brought back to life!`,p=>{
				for (var i in G.chars){G.chars[i].revive('wish', p[1]);}
			});
			new G.act(0.01,['wish_ring peaceful%0.5|kind%0.5|naive%0.5|meek%0.2|any%0.2 !sociopath%0.8|devious%0.5|survivalist%0.5|analytical%0.2|stubborn%0.2 alive:>1'],`[BLUE][1] wishes [everyone|people] would get along! [1:g|His|Her|Their|Its] wish ring shimmers for a second, and then -<br>...it seems the world has been made a softer place.`,p=>{
				for (var i in G.chars){G.chars[i].gain('peaceful');}
			});
			new G.act(0.01,['wish_ring has_killed%0.5|sociopath%0.5|devious%0.5|lunatic%0.2|any%0.2 !mint_enhanced !peaceful%0.8|kind%0.5|naive%0.5|meek%0.2|analytical%0.2 alive:>1'],`[BLUE][1] wishes [everyone|people] would just [be more violent|get it over with already|not hold back anymore]. [1:g|His|Her|Their|Its] wish ring shimmers for a second, and then -<br>...it seems the world has been made a more violent place.`,p=>{
				for (var i in G.chars){G.chars[i].gain('sociopath');G.chars[i].lose('peaceful');}
			});
			// Cursed Knife Combat
            new G.act(perkAttackMult*attackKill*0.4,['cursed_knife sociopath%0.5|devious%0.5|goth%0.5|ninja%0.5|any%0.5 !peaceful%0.8|stubborn%0.8|kind%0.5|naive%0.5','- any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] seems in a daze as they sneak up behind [2] and stab [2:them] in the heart!`,p=>{p[1].kill(p[2],`cursed_knife`);});
                new G.act(perkAttackMult*attackKill*0.2,['cursed_knife peaceful%0.5|stubborn%0.5|kind%0.5 !sociopath%0.5|devious%0.5|goth%0.5|ninja%0.5','- any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] tries to resist their cursed knife's demands and blacks out!<br>When [1:they] awake, [1:g|he is|she is|they're|it is] covered in [2]'s blood!`,p=>{p[1].kill(p[2],`cursed knife`);});
                new G.act(perkAttackMult*attackKill*0.2,['cursed_knife goth%0.8|sociopath%0.5|ninja%0.5|the_gift%0.5|any%0.2 !peaceful%0.8|stubborn%0.5|cowardly%0.5|kind%0.5','- any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill,'+ any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] becomes one with the dark spirit in their knife and goes on a murdering spree.<br>By the end, both [2] and [3] have been sacrificed.`,p=>{p[1].kill(p[2],`cursed knife`);p[1].kill(p[3],`cursed knife`);});
                new G.act(perkAttackMult*attackKill*0.2,['cursed_knife suicidal|any%0.2 !survivalist%0.8|stubborn%0.8|the_gift%0.5|lucky_coin%0.2|cowardly%0.2 '+victimKill],`[RED][1] hears their cursed knife demand sacrafice.<br>Convinced that [1:they] have had enough with the world, [1:g|he stabs himself|she stabs herself|they stab themselves|it stabs itself] instead.`,p=>{p[1].kill(p[1],`cursed knife`);});
				new G.act(perkAttackMult*0.2,['cursed_knife peaceful%0.5|kind%0.5|lunatic%0.5|any%0.5 !stubborn%0.8|goth%0.8|sociopath%0.8|survivalist%0.5|suicidal%0.5'],`[1] can't keep struggling with the whispers from their knife for long.<br>[1] considers ending [1:their] own life.`,p=>{p[1].gain('suicidal');});
			// Pet Combat
			new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' pet_hawk animal_ken%0.8|meek%0.2|cowardly%0.2|marksmen%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|marksmen%0.2 '+victimMinor],`[RED][1] sics [1:their] pet hawk on [2]!<br>[2] is harassed by the [hawk|bird|avian|raptor] and suffers several scratches before driving it away.`,p=>{p[2].gain('scratched');});
				new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_hawk animal_ken%0.8|meek%0.2|cowardly%0.2|marksmen%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|marksmen%0.2 '+victimModerate],`[RED][2] is ambushed by [1]'s hawk!<br>[2] ends up with several deep wounds from the [hawk|bird|avian|raptor]'s beak and talons.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.3,[hesitentKiller+' pet_hawk animal_ken%0.8|meek%0.2|cowardly%0.2|marksmen%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|marksmen%0.2 '+victimKill],`[RED][1] sics [1:their] pet hawk on [2]!<br>[2] has their eyes torn out as [2:g|he bleeds|she bleeds|they bleed|it bleeds] to death blind.`,p=>{p[1].kill(p[2],`pet hawk`);});
				new G.act(perkAttackMult*attackFail*0.5,[hesitentKiller+' pet_hawk !animal_ken%0.5|sociopath%0.5|survivalist%0.2|marksmen%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|marksmen%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet hawk on [2]!<br>[2] manages to avoid and distract the [hawk|bird|avian|raptor] with some bait before escaping unscathed.`);
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_turtle animal_ken%0.8|meek%0.2|cowardly%0.2|bulky%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|bulky%0.2 '+victimModerate],`[RED][1] sics [1:their] pet turtle on [2]!<br>[2] doesn't take it seriously until a few bites leave [2:them] without a few chunks of [2:their] hand before escaping!`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_turtle animal_ken%0.8|meek%0.2|cowardly%0.2|bulky%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|bulky%0.2 '+victimModerate],`[RED][1] sics [1:their] pet turtle on [2]<br>[2] is [knocked over|tripped|ambushed] [off a cliff|and crushed by the turtle's heavy weight|and stomped right on the chest]! [2] [survives|is left] with a few broken ribs.`,p=>{p[2].gain('broken');});
				new G.act(perkAttackMult*attackKill*0.2,[hesitentKiller+' pet_turtle animal_ken%0.8|meek%0.2|cowardly%0.2|bulky%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|bulky%0.2 '+victimKill],`[RED][1] sics [1:their] pet turtle on [2]!<br>[2] gets stomped to bits. [2:g|He|She|They|It] never saw it coming...`,p=>{p[1].kill(p[2],`pet turtle`);});
				new G.act(perkAttackMult*attackFail*0.6,[hesitentKiller+' pet_turtle !animal_ken%0.5|sociopath%0.5|survivalist%0.2|bulky%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|bulky%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet turtle on [2]!<br>[2] simply [pushes it over|avoids the slow creature|walks away].`);
			new G.act(perkAttackMult*attackMinor*0.2,[hesitentKiller+' pet_wolf animal_ken%0.8|meek%0.2|cowardly%0.2|analytical%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|analytical%0.2 '+victimMinor],`[RED][1] sics [1:their] pet wolf on [2]!<br>[2] tries to fight the wolf off, but takes a bite to the foot.`,p=>{p[2].gain('scratched');});
				new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_wolf animal_ken%0.8|meek%0.2|cowardly%0.2|analytical%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|analytical%0.2 '+victimModerate],`[RED][2] follows [1] from the shadows, only to be attacked by [1]'s wolf!<br>[2] suffers several severe bites from the guardian canine before escaping.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.4,[hesitentKiller+' pet_wolf animal_ken%0.8|meek%0.2|cowardly%0.2|analytical%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|analytical%0.2 '+victimKill],`[RED][1] sics [1:their] pet wolf on [2]!<br>[2] gets torn to shreds by the ravenous animal!`,p=>{p[1].kill(p[2],`pet wolf`);});
				new G.act(perkAttackMult*attackFail*0.4,[hesitentKiller+' pet_wolf !animal_ken%0.5|sociopath%0.5|survivalist%0.2|analytical%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|analytical%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet wolf on [2]!<br>[2] calms the wolf before [2:they are] attacked and escapes [quietly|quickly].`);
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' pet_tiger animal_ken%0.8|meek%0.2|cowardly%0.2|rich%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimModerate],`[RED][1] sics [1:their] pet tiger on [2]!<br>[2] takes a life threatening [claw|swing] to the [arm|leg|chest|face] but otherwise escapes in a [desperate struggle|blind panic|lucky break|tactical retreat|clever slip].`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.3,[hesitentKiller+' pet_tiger animal_ken%0.8|meek%0.2|cowardly%0.2|rich%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimKill],`[RED][1] sics [1:their] pet tiger on [2]!<br>[2] gets mauled to laces by the ravenous animal!`,p=>{p[1].kill(p[2],`pet tiger`);});
				new G.act(perkAttackMult*attackKill*0.2,[hesitentKiller+' pet_tiger animal_ken%0.8|meek%0.2|cowardly%0.2|rich%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimKill,'+ any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimKill],`[RED][1] ambushes [2] and [3] with [1:their] tiger!<br>[2] and [3] never had a chance against the [apex|deadly|massive] [predator|carnivore|striped feline|beast].`,p=>{p[1].kill(p[2],`pet tiger`);p[1].kill(p[3],`pet tiger`);});
				new G.act(perkAttackMult*attackFail*0.3,[hesitentKiller+' pet_tiger !animal_ken%0.5|sociopath%0.5|survivalist%0.2|rich%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|rich%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet tiger on [2]!<br>[2] [never breaks eye contact with|never turns [2:their] back to|avoids getting caught by] the [apex|deadly|massive] [predator|carnivore|striped feline|beast] until the tiger finally loses interest and leaves.`);
			
			// Injury Events
			var healthMinor = 'bulky%0.3|stubborn%0.3|plot_armor%0.2|any%0.5 !scratched%0.2|bruised%0.2|sick%0.2|dizzy%0.2 w:sunny|any%0.66 !w:rainy%0.2|w:drought%0.2|w:thunder%0.3|w:tornado%0.4';
			var healthModerate = 'bulky%0.2|stubborn%0.2|plot_armor%0.4|any%0.5 !cut_up%0.3|broken%0.3|shot%0.3|singed%0.3 w:sunny|any%0.66 !w:rainy%0.25|w:drought%0.25|w:thunder%0.6|w:tornado%0.9';
			var healthMajor = 'bulky%0.1|stubborn%0.1|plot_armor%0.6|any%0.5 !bleeding_out%0.5|burnt%0.5|missing_arm%0.5|missing_leg%0.5|badly_poisoned%0.5 w:sunny|any%0.66 !w:cloudy%0.25|w:drought%0.25|w:weird%0.5|w:rainy%0.75|w:thunder%0.9|w:tornado';

			var healthMult = 1.5;
			var healthRecover = healthMult * 2;
			var healthWorsen = healthMult * 0.5;
			var healthHeal = healthMult * 2;
			var healthDeath = healthMult * 0.75;

			var createRevivalChanceFunc = function(chance) {
				return function() {
					if (!this.team || this.has('plot armor')) { return chance; }
					return chance * (1 + Math.pow(1 - this.team.charsAlive / this.team.chars.length, 1.5) * 2);
				}
			}
			var createCriticalHealChanceFunc = function(chance) {
				return function() {
					if (!this.team) { return chance; }
					return chance * (1 + Math.pow(1 - this.team.charsAlive / this.team.chars.length, 2));
				}
			}
			
			// - Minor (
			new G.act(healthRecover*0.3,['scratched '+healthMinor],`[1] has mostly recovered from their scratches.`,p=>{p[1].lose(`scratched`);});
				new G.act(healthWorsen*0.1,['scratched !cut_up|first_aid_kit%0.5|medic%0.5 '+injuredMinor],`[RED][1] accidentally aggravates [1:their] scratches, reopening the wounds even worse than before.`,p=>{p[1].gain(`cut up`);});
			new G.act(healthRecover*0.3,['bruised '+healthMinor],`[1]'s bruises have mostly faded.`,p=>{p[1].lose(`bruised`);});
				new G.act(healthWorsen*0.1,['bruised !broken|first_aid_kit%0.5|medic%0.5 '+injuredMinor],`[RED][1] grips [1:their] chest, realizing that [1:their] bruises are not healing properly...<br>Are the wounds deeper than [1:they] thought...?`,p=>{p[1].gain(`broken`);});
			new G.act(healthRecover*0.3,['dizzy '+healthMinor],`[1] is able to think clearly again.`,p=>{p[1].lose(`dizzy`);});
				new G.act(healthWorsen*0.08,['dizzy !dazed|medicine%0.5|medic%0.5|stubborn%0.5 '+injuredMinor],`[RED][1]'s head injury takes a turn for the worse as [1] goes into a catatonic daze.`,p=>{p[1].gain(`dazed`);});
				new G.act(healthWorsen*0.01,['dizzy !frenzied|medicine%0.5|peaceful%0.8|medic%0.5|stubborn%0.5 '+injuredMinor],`[RED][1]'s head injury takes a turn for the worse as [1] goes into a berzerk frenzy!`,p=>{p[1].gain(`frenzied`);});
				new G.act(healthWorsen*0.01,['dizzy !laughed|medicine%0.5|peaceful%0.5|medic%0.5|stubborn%0.5 '+injuredMinor],`[RED][1]'s head injury takes a turn for the worse as [1] begins laughing like a mad[1:g|man|women|person|].`,p=>{p[1].gain(`laughed`);});
			new G.act(healthRecover*0.3,['sick '+healthMinor],`[1] recovers from feeling [sick|ill].`,p=>{p[1].lose(`sick`);});
				new G.act(healthWorsen*0.1,['sick !poisoned|medicine%0.5|medic%0.2|first_aid_kit%0.2|bulky%0.2 '+injuredMinor],`[RED][1] is feeling even worse as [1:their] fever heightens and [1:their] illness leads to a poisoning of [1:their] blood.`,p=>{p[1].gain(`poisoned`);});
			// - Moderate
			new G.act(healthRecover*0.3,['cut_up '+healthModerate],`[1] has partly recovered from [1:their] [wounds|lacerations|deep cuts].`,p=>{p[1].lose(`cut up`);p[1].gain('scratched');});
				new G.act(healthWorsen*0.15,['cut_up !bleeding_out|first_aid_kit%0.5|medic%0.5|tourniquet%0.2 '+injuredModerate],`[RED][1] worsens [1:their] [wounds|lacerations|deep cuts] further [as they go untreated|in an accident], and is beginning to bleed out...`,p=>{p[1].gain(`bleeding out`);});
				new G.act(healthWorsen*0.15,['cut_up !sick|first_aid_kit%0.5|medicine%0.5|medic%0.5|tourniquet%0.2 '+injuredModerate],`[RED][1] has become [ill|feverish] from the infection in [1:their] [wounds|lacerations|cuts].`,p=>{p[1].gain(`sick`);});
			new G.act(healthRecover*0.3,['broken '+healthModerate],`[1] doesn't feel in as much pain from [1:their] internal injuries.<br>Nonetheless, [1] begins to feel a bit feverish.`,p=>{p[1].lose(`broken`);p[1].gain('sick');});
				new G.act(healthWorsen*0.15,['broken !sick|first_aid_kit%0.5|medic%0.5|medicine%0.5 '+injuredModerate],`[RED][1] becomes [sick|ill] from the pain of [1:their] internal injuries.`,p=>{p[1].gain(`sick`);});
			new G.act(healthRecover*0.3,['shot '+healthModerate],`[1] has tried treating [1:their] open wound.<br>While mostly successful, [1:they] still feel sick to [1:their] stomach.`,p=>{p[1].lose(`shot`);p[1].gain('sick');});
				new G.act(healthWorsen*0.3,['shot !bleeding_out|first_aid_kit%0.5|medic%0.5|tourniquet%0.2 '+injuredModerate],`[RED][1] is becoming light headed as the bleeding from where [1:they] were shot continues...`,p=>{p[1].gain(`bleeding out`);});
			new G.act(healthRecover*0.3,['singed '+healthModerate],`[1]'s burns have mostly healed, but [1:they] still feel light-headed from pain and blood loss.`,p=>{p[1].lose(`singed`);p[1].gain('sick');});
				new G.act(healthWorsen*0.3,['singed !cut_up|medic%0.8|first_aid_kit%0.5|medicine%0.5 '+injuredModerate],`[RED][1] tries removing some improvised bandages on [1:their] burnt [skin|flesh|body] but inflicts more [wounds|lacerations] as the burnt [skin|flesh] too easily rips off.`,p=>{p[1].gain(`cut up`);});
			new G.act(healthRecover*0.3,['poisoned '+healthModerate],`[1] still has the chills and a fever as [1:their] poison runs its course.<br>However, [1] is starting to recover!`,p=>{p[1].lose(`poisoned`);p[1].gain('sick');});
				new G.act(healthWorsen*0.3,['poisoned !badly_poisoned|medicine%0.5|medic%0.5|bulky%0.2 '+injuredModerate],`[RED][1] continues to grow worse as [1:their] poisoned body begins shutting down...`,p=>{p[1].gain(`badly poisoned`);});
			// - Major
			new G.act(healthRecover*0.45,['bleeding_out any '+healthMajor],`Despite the severity of [1:their] injuries, [1] has stopped bleeding so harshly.<br>Maybe [1] still has a chance?`,p=>{p[1].lose(`bleeding out`);});
				new G.act(healthDeath*1.8,['bleeding_out any !tourniquet%0.8|first_aid_kit%0.5|medic%0.5 '+injuredMajor],`[RED][1] [dies|falls|drops] from blood loss.`,p=>{p[1].die(`blood loss`);});
			new G.act(healthRecover*0.45,['burnt any '+healthMajor],`[1] has toughened out the worst of [1:their] burns, but is far from fully recovered.`,p=>{p[1].lose(`burnt`);p[1].gain('singed');});
				new G.act(healthDeath*1.8,['burnt any !first_aid_kit%0.5|medicine%0.5|medic%0.5 '+injuredMajor],`[RED][1] [dies|falls|drops] from their extensive burns.`,p=>{p[1].die(`burn wounds`);});
			new G.act(healthRecover*0.45,['badly_poisoned any '+healthMajor],`[1] begins recovering from [1:their] severe [poison|toxic] build up, but hasn't fully recovered yet.`,p=>{p[1].lose(`badly poisoned`);p[1].gain('poisoned');});
				new G.act(healthDeath*1.8,['badly_poisoned any !medicine%0.5|medic%0.5 '+injuredMajor],`[RED][1] [dies|falls|loses] to the [severe poison|toxic buildup] within them.`,p=>{p[1].die(`poison`);});
			// - Via magical means
			new G.act(createCriticalHealChanceFunc(healthHeal*0.6),['hot_chocolate injured !unconscious|shell-shocked'],`[BLUE][1] takes out [1:their] [magical|fragrant] hot chocolate and [drinks|sips on] it, recovering from [1:their] injuries!`,p=>{p[1].has('hot chocolate').uses--; if (p[1].has('hot chocolate').uses <= 0 && Math.random() < 0.4) { p[1].lose('hot chocolate'); } p[1].healInjuries(); });
			new G.act(createCriticalHealChanceFunc(healthHeal*0.6),['batch_of_cookies ailed !unconscious|shell-shocked'],`[BLUE][1] takes out [1:their] [delicious|still-hot] batch of cookies and [eats|snacks on] it, alleviating [1:their] ailments!`,p=>{p[1].has('batch of cookies').uses--; if (p[1].has('batch of cookies').uses <= 0 && Math.random() < 0.4) { p[1].lose('batch of cookies'); } p[1].cureAilments(); });
			new G.act(createCriticalHealChanceFunc(healthHeal*0.3),['cookie_dough ailed !sick !unconscious|shell-shocked'],`[BLUE][1] takes out [1:their] [raw |]cookie dough and [eats|snacks on] it, alleviating [1:their] ailments!`,p=>{p[1].has('cookie dough').uses--; if (p[1].has('cookie dough').uses <= 0) { p[1].lose('cookie dough'); } p[1].cureAilments(); });
			new G.act(createCriticalHealChanceFunc(healthHeal*0.3),['cookie_dough ailed !survivalist%0.3 !unconscious|shell-shocked'],`[1] takes out [1:their] [raw |]cookie dough and [eats|snacks on] it, alleviating [1:their] ailments! However, soon after consuming it, [1:they] begin feeling a little sick and nauseous...`,p=>{p[1].has('cookie dough').uses--; if (p[1].has('cookie dough').uses <= 0) { p[1].lose('cookie dough'); } p[1].gain('sick'); p[1].gain('dizzy'); p[1].gain('dazed'); });
			// - First Aid Self
			new G.act(healthHeal*0.5,['bruised|sick|dizzy medicine medic%0.8|analytical%0.2|first_aid_kit%0.2|any%0.5'],`[BLUE][1] takes some medication to take the edge off [1:their] pain, feeling better and more clear headed overall.`,p=>{p[1].lose(`bruised`);p[1].lose(`sick`);p[1].lose(`dizzy`);});
			new G.act(healthHeal*0.5,['cut_up|shot|scratched first_aid_kit%0.8|medic%0.5|medicine%0.2|roll_of_fabric%0.2|any%0.2'],`[BLUE][1] [carefully|calmly|expertly] treats [1:their] own [wounds|lacerations] with what supplies [1:g|he has|she has|they have|it has], stopping any bleeding and preventing future infection.`,p=>{p[1].lose(`shot`);p[1].lose(`cut up`);p[1].lose(`scratched`);});
			new G.act(healthHeal*0.5,['broken|cut_up%0.5 first_aid_kit|roll_of_fabric%0.5|medic%0.2 first_aid_kit%0.5|medic%0.5|roll_of_fabric%0.5'],`[BLUE][1] uses some improvised fabric and bandages to [carefully|expertly|gently] bind their injuries.<br>While the bruises still hurt, [1]'s internal injuries shouldn't get any worse.`,p=>{p[1].lose(`broken`);p[1].lose(`cut up`);p[1].lose(`scratched`);p[1].lose(`roll of fabric`);p[1].gain(`bruised`);});
			new G.act(healthHeal*0.5,['burnt|singed first_aid_kit|medicine first_aid_kit%0.5|medicine%0.5|medic%0.5 any'],`[BLUE]With some medical ointment and bandaging [1] is able to treat [1:their] severe burns carefully.`,p=>{p[1].lose(`burnt`);p[1].lose(`singed`);});
			new G.act(healthHeal*0.5,['bleeding_out first_aid_kit|roll_of_fabric%0.2|medic%0.2 first_aid_kit%0.5|roll_of_fabric%0.5|medic%0.5 any'],`[BLUE][1] packs [1:their] wounds and slows [1:their] own bleeding.<br>It ruins what fabrics [1:they] has with blood, but better than being dead.`,p=>{p[1].lose(`bleeding out`);p[1].lose(`roll of fabric`);});
				new G.act(healthHeal*1,['bleeding_out|cut_up%0.2|shot%0.2 bleeding_out%0.5|cut_up%0.2|shot%0.2|scratched%0.2 tourniquet medic%0.8|survivalist%0.5|bulky%0.2|analytical%0.2|any%0.5 any !cowardly%0.5|meek%0.2'],`[1] resorts to [1:their] tourniquet to stop the bleeding, costing [1:them] [1:their] arm, but probably saving [1:their] life.`,p=>{p[1].lose(`bleeding out`);p[1].lose(`shot`);p[1].lose(`cut up`);p[1].lose(`scratched`);p[1].lose(`tourniquet`);p[1].gain(`missing arm`);});
			new G.act(healthHeal*0.5,['badly_poisoned|poisoned medicine medic%0.8|analytical%0.2|first_aid_kit%0.2|any%0.5 any'],`[BLUE][1] figures out an effective anidote from [1:their] medicine. While still feeling the chills, [1:they are] recovering much faster now.`,p=>{p[1].lose(`poisoned`);p[1].lose(`badly poisoned`);p[1].gain(`sick`);});
			// - First Aid Team Member
			new G.act(healthHeal*1,['medicine|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any bruised|sick|dizzy !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] uses what they have to help treat [2]'s various pains.<br>[2] is already feeling better and thinking clearer, relying on [1]'s expert care.`,p=>{p[2].lose(`bruised`);p[2].lose(`sick`);p[2].lose(`dizzy`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|medic%0.5|medicine%0.2|roll_of_fabric%0.2|any%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any cut_up|shot|scratched !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] [carefully|calmly|expertly] treats [2]'s [wounds|lacerations] with what supplies [1] has, stopping any bleeding and preventing future infection.`,p=>{p[2].lose(`shot`);p[2].lose(`cut up`);p[2].lose(`scratched`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|roll_of_fabric%0.5|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any broken|cut_up%0.5 !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] uses some improvised fabrics to [carefully|expertly|gently] bind [2]'s injuries<br>While the bruises still hurt, [2]'s internal injuries shouldn't get any worse.`,p=>{p[2].lose(`broken`);p[2].lose(`cut up`);p[2].lose(`scratched`);p[1].lose(`roll of fabric`);p[2].gain(`bruised`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|medicine%0.8|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any burnt|singed !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE]With some medical ointment and bandaging [1] is able to treat [2]'s severe burns carefully.`,p=>{p[2].lose(`burnt`);p[2].lose(`singed`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|roll_of_fabric%0.2|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any bleeding_out !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] desperately packs [2]'s wounds and slows [2:their] bleeding down.<br>It ruins what fabrics [1] has with blood, but better than letting [2] die without a fight.`,p=>{p[2].lose(`bleeding out`);p[1].lose(`roll of fabric`);});
				new G.act(healthHeal*2,['tourniquet|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|cowardly%0.5|devious%0.2|annoying%0.2','+ any bleeding_out|cut_up%0.2|shot%0.2 !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[1] resorts to [1:their] tourniquet to stop [2] from bleeding to death, costing [2:them] [2:their] arm, but probably saving [2:their] life.`,p=>{p[2].lose(`bleeding out`);p[2].lose(`shot`);p[2].lose(`cut up`);p[2].lose(`scratched`);p[1].lose(`tourniquet`);p[2].gain(`missing arm`);});
			new G.act(healthHeal*1,['medicine|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any badly_poisoned|poisoned !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] carefully treats [2]'s [poisoned|toxified|dying] body with what medication and herbs they have.<br>While [2] is still feeling [feverish|the chills|ill], [2:they are] recovering much faster now.`,p=>{p[2].lose(`poisoned`);p[2].lose(`badly poisoned`);p[2].gain(`sick`);});
			// - First Aid Leader (ToDo)

			// Events for the Dead
            new G.act(healthHeal*0.4,['medic%0.5|leader%0.5|kind%0.5|analytical%0.2|any%0.5 !sociopath%0.8|AED%0.8|survivalist%0.5|devious%0.2|meek%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[1] tries desperately to perform CPR on [2], but [2:they] just won't wake up...`);
				new G.act(createRevivalChanceFunc(healthHeal*0.075),['medic%0.5|leader%0.2|kind%0.2|analytical%0.2|any%0.2 !sociopath%0.8|AED%0.8|survivalist%0.5|devious%0.2|meek%0.2','+ dead bulky%0.5|stubborn%0.5|survivalist%0.5|plot_armor%0.8|any%0.5 !nihil|sheep|pixelated|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] tries [desperately|calmly|expertly] to perform CPR on [2]...<br>After a few agonizing [seconds|moments|cycles|minutes], [2] begins to breath again!<br>[2] slowly wakes up from death's door, will [2:they] survive?`,p=>{p[2].minimumRevive('CPR', p[1]);});
			new G.act(healthHeal*0.5,['AED medic%0.5|leader%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[BLUE][1] [begins|keeps|tries] using [1:their] AED on [2]...<br>CLEAR!<br>[2] still won't wake up. [1] keeps trying to use CPR and the AED anyway...`);
				new G.act(createRevivalChanceFunc(healthHeal*0.35),['AED medic%0.8|leader%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead bulky%0.5|stubborn%0.5|survivalist%0.5|plot_armor%0.8|any%0.5 !nihil|sheep|pixelated|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] [begins|keeps|tries] using [1:their] AED on [2]...<br>CLEAR!<br>In a [painful|sudden|surprising] gasp, [2] [is woken|comes back from|revives from] the edge of death!`,p=>{p[2].minimumRevive('AED', p[1]);});
				new G.act(healthHeal*0.2,['AED medic%0.5|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ medic%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[BLUE][1] and [2] coordinate together to perform CPR and use [1]'s AED on [3].<br>CLEAR!<br>[3] still won't wake up. [1] and [2] keeps trying to use CPR and the AED anyway...`);
				new G.act(createRevivalChanceFunc(healthHeal*0.15),['AED medic%0.8|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ medic%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead bulky%0.2|stubborn%0.2|survivalist%0.2|plot_armor%0.8|any%0.5 !nihil|sheep|pixelated|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] and [2] cordinate together to perform CPR and use [1]'s AED on [3].<br>CLEAR!<br>In a [painful|sudden|surprising] gasp, [3] [is woken|comes back from|revives from] the edge of death!`,p=>{p[3].minimumRevive('CPR and AED', [p[1], p[2]]);});
				new G.act(healthHeal*0.1,['medic%0.5|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ AED medic%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[BLUE][1] and [2] coordinate together to perform CPR and use [2]'s AED on [3].<br>CLEAR!<br>[3] still won't wake up. [1] and [2] keeps trying to use CPR and the AED anyway...`);
				new G.act(createRevivalChanceFunc(healthHeal*0.075),['medic%0.8|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ AED medic%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead bulky%0.2|stubborn%0.2|survivalist%0.2|plot_armor%0.8|any%0.5 !nihil|sheep|pixelated|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] and [2] cordinate together to perform CPR and use [2]'s AED on [3].<br>CLEAR!<br>In a [painful|sudden|surprising] gasp, [3] [is woken|comes back from|revives from] the edge of death!`,p=>{p[3].minimumRevive('CPR and AED', [p[1], p[2]]);});
				new G.act(createRevivalChanceFunc(0.1),['wish_ring peaceful%0.5|kind%0.5|the_gift%0.2|medic%0.2|any%0.5 !sociopath|devious%0.8|survivalist%0.8','+ dead !nihil'],`[BLUE][1] wishes [1:they] could see [2] one last time... [1:g|His|Her|Their|Its] wish ring shimmers for a second, and then -<br>...it's a miracle! [2] came back to life!`,p=>{p[2].revive('wish', p[1]);});
			G.fitFuncs.teamNotAlone = function() {
				if (!this.team) { 
					return true; //temporarily since we are not gonna have unaffiliated people in the dashnet games
				}
				return this.team.charsAlive < G.getAliveCharsN() && this.team.charsAlive != 0;
			}
			new G.act(createRevivalChanceFunc(0.2),['dead bulky%0.2|survivalist%0.2|stubborn%0.2|plot_armor%0.8|any%0.2 !nihil|sheep|pixelated|confirmed|meek%0.2 func:teamNotAlone'],`[BLUE][1] was [only mostly dead|thought for dead] but they've awoken despite their wounds.<br>Looks like [1] survived after all!`,p=>{p[1].minimumRevive('force of will');});
				new G.act(createRevivalChanceFunc(0.05),['dead magic_dust !nihil|confirmed%0.5'],`[BLUE]Magic powder spills from [1]'s pouch, spilling over [1:their] body...<br>[1] begins to wake up, alive once more!`,p=>{p[1].minimumRevive('spilt magic dust');p[1].lose('magic dust');});
			G.fitFuncs.confirmingFunc = function() {
				if (!this.team) { return true; }
				return Math.random() < 0.1 + Math.pow(this.team.charsAlive / this.team.chars.length, 0.33);
			}
			new G.act(0.22,['dead !nihil|plot_armor%0.8|confirmed%0.8 func:confirmingFunc'],`[The [pile of flesh that used to be|dead husk of] [1]|[1]'s [corpse|lifeless body]] [[rots|festers|desiccates|decays|putrefies|decomposes] [peacefully|silently|quietly]|writhes with [maggots|flies and mosquitos]].`,p=>{p[1].gain('confirmed');});

			// Unfinished content below.

			// Defensive Perks
			new G.act(anyDefenseMult*0.4,[hesitentKiller+'sword%0.5|axe%0.5','- knight_armor any'],`[1] tries to [attack|kill] [2], but [2]'s knight armor diverts the blow!`);
				new G.act(anyDefenseMult*0.4,[hesitentKiller,'- combat_gear any'],`[1] tries to [attack|kill] [2], but [2]'s combat gear diverts the blow!`);
				new G.act(anyDefenseMult*0.4,[hesitentKiller,'- wizard_robe any'],`[1] tries to [attack|kill] [2], but [2]'s wizard robe has already carried [2:them] away to safety!`);
				new G.act(anyDefenseMult*0.4,[coldBloodKiller+' handgun|shotgun','- kevlar_vest any'],`[1] fires their gun at [2], but [2] survives with only bruises thanks to [2:their] kevlar vest!`,p=>{p[2].gain('bruised');});
				new G.act(anyDefenseMult*0.2,[coldBloodKiller,'- parka any'],`[1] tries to kill [2], but [2]'s parka takes the brunt of the damage, being ruined in the process.`,p=>{p[2].lose('parka');});
				new G.act(anyDefenseMult*0.1,[coldBloodKiller,'- leather_scraps any'],`[1] tries to kill [2], but [2]'s leather 'armor' miraculously saves their life.`);
			new G.act(anyDefenseMult*0.4,[coldBloodKiller+' big_stick|sword|axe','- kite_shield any !missing_arm%0.5|meek%0.2'],`[1] tries to kill [2], but [2] fends off all [1]'s weapon strikes with [2:their] kite shield.`);
				new G.act(anyDefenseMult*0.4,[coldBloodKiller+' handgun|shotgun|bow','- riot_shield any !missing_arm%0.5|meek%0.2'],`[1] tries to kill [2], but [2] hides from all the shots behind [2:their] riot shield.`);
				new G.act(anyDefenseMult*0.2,[coldBloodKiller,'- any','+ kite_shield|riot_shield !survivalist%0.8|sociopath%0.8|devious%0.5|missing_arm%0.5'],`[RED][1] attempts to kill [2] and [3]!<br>[3] manages to defend them both with [3:their] shield!`);
			new G.act(anyDefenseMult*0.2,[hesitentKiller+' !bulky%0.5|sword%0.5|axe%0.5|big_stick%0.2|pitchfork%0.2','- bulky any'],`[1] tries to [attack|kill] [2], but [2] [is too [hardy|strong] to [overcome|defeat]|fights off [1] with [2:their] raw strength]!`);
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' !devious|sociopath|survivalist','- rich any'],`[1] tries to kill [2], but [2] convinces them to take a bribe instead.`);
                new G.act(anyDefenseMult*0.1,[coldBloodKiller,'- rich devious|seductive|dapper_suit|bikini any'],`[1] tries to kill [2], but [2] wins them over with [2:their] charm and cash.`);
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' !sociopath|survivalist','- cute any'],`[1] manages to ambush [2], but spares [2:them], finding [2] too cute to kill.`);
            new G.act(anyDefenseMult*0.1,[coldBloodKiller,'- lucky_coin any'],`[1] tries to kill [2], but [2]'s manages a lucky break and escapes!`);
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' handgun','- lucky_coin any'],`[RED][1] fires [1:their] gun at [2]!<br>[2] is shot and left for dead, but wakes up to find [2:their] lucky coin stopped the bullet!<br>Seems its luck has been used up now.`,p=>{p[1].lose('lucky coin');});
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' handgun|shotgun|bow|lasergun','- lucky_coin any'],`[1] tries to shoot at [2], but somehow every shot misses [2] by a hair!`);
            

            
            // Back to normal programing

			
			new G.act(0.3,['devious|sociopath|lunatic|survivalist','+ annoying func:combatFunc'],`[RED][1] can't take [2]\'s [unending questions|constant babbling|lack of social awareness] anymore and snaps [2:their] neck.`,p=>{p[1].kill(p[2],`too annoying to live`);});
			new G.act(0.3,['suicidal'],`[RED][1] can't take it anymore...<br>[1] has taken [1:their] own life.`,p=>{p[1].kill(p[1],`suicide`);});
				new G.act(0.2,['suicidal handgun'],`[RED][1] can't take it anymore...<br>[1] takes [1:their] own life with [1:their] handgun.`,p=>{p[1].kill(p[1],`handgun suicide`);});
				new G.act(0.2,['suicidal shotgun'],`[RED][1] can't take it anymore...<br>[1] takes [1:their] own life with [1:their] shotgun.`,p=>{p[1].kill(p[1],`shotgun suicide`);});
				new G.act(1,['suicidal alive:1'],`[RED][1] finds no point in being alive if [1:g|he's|she's|they're|it is] the only one left.<br>[1] has taken [1:their] own life...`,p=>{p[1].kill(p[1],`suicide`);});
				new G.act(0.5,['suicidal alive:1'],`[BLUE][1] is all alone. [1:g|He looks|She looks|They look|It looks] around, not a soul to be seen...<br>It's quite peaceful, actually.<br>[1] is no longer suicidal.`,p=>{p[1].lose('suicidal');});
				new G.act(0.1,['!suicidal !survivalist|sociopath alive:1'],`[RED]There's nobody left except for [1]. What a bleak existence...<br>[1] is feeling suicidal.`,p=>{p[1].gain('suicidal');});
			// added inventors to setting/disarming traps, but they're not as good as survivalists at avoiding them. -TW
			new G.act(0.5,['survivalist|inventor !set_trap'],`[1] sets down a trap.`,p=>{p[1].gain('set trap');});
				new G.act(1,['scrappy inventor !set_trap'],`[1] sets down a trap.`,p=>{p[1].gain('set trap');});
				new G.act(0.5,['!survivalist func:injuryFunc','set_trap'],`[RED][1] gets caught in one of [2]'s traps!<br>All [1:they] can do now is hope to be freed...`,p=>{p[2].lose('set trap');p[1].gain('trapped');});
				new G.act(0.1,['!survivalist func:injuryFunc','set_trap'],`[RED][1] gets caught in one of [2]'s traps... What a stupid mistake! [1:g|He|She|They|It] should have known better.<br>All [1:they] can do now is hope to be freed...`,p=>{p[2].lose('set trap');p[1].gain('trapped');});
				new G.act(0.5,['survivalist|inventor','- set_trap'],`[1] is smart enough to disarm one of [2]'s traps.`,p=>{p[2].lose('set trap');});
				new G.act(1,['trapped !bleeding_out any'],`[Still caught in the trap, [1] lays there, moping.|[1], still trapped, screams for help, but nobody answers...|[1] is still caught in the trap...|[1] is trapped and can't do anything.]`);
				new G.act(0.6,['trapped !bleeding_out any func:injuryFunc'],`[RED][1] was struggling in the trap and cut [1:themself] pretty bad.<br>[1] is now bleeding out!`,p=>{p[1].gain('bleeding out');});
				new G.act(1,['trapped bleeding_out any func:injuryFunc'],`[1] is trapped and slowly bleeding out...`);
				new G.act(0.5,['trapped bleeding_out any func:injuryFunc'],`[RED][1] finally dies from blood loss caused by the trap [1:g|he was|she was|they were|it was] stuck in.`,p=>{p[1].die(`bled out in trap`);});
				new G.act(0.3,['!devious|survivalist','+ trapped any'],`[BLUE][1] finds [2] caught in a trap, and manages to free [2:them].`,p=>{p[2].lose('trapped');});
				new G.act(0.3,['!devious|survivalist peaceful|kind','- trapped any'],`[BLUE][1] feels sorry for [2] and frees [2:them] from the trap.`,p=>{p[2].lose('trapped');});
				new G.act(0.1,['trapped'],`[BLUE][1] manages to pull [1:themself] out of the trap!`,p=>{p[1].lose('trapped');});
			
			new G.act(0.4,['sociopath|survivalist|devious','+ sociopath|survivalist|devious','+'],`[1] and [2] conspire against [3]...`);
				new G.act(0.4,['sociopath|survivalist|devious','+ sociopath|survivalist|devious','+ func:combatFunc'],`[RED]In an act of betrayal, [1] and [2] team up and [murder|eliminate|get rid of] [3]!`,p=>{p[1].kill(p[3],`betrayal`,p[2]);});
			new G.act(0.4,['survivalist','+ !survivalist func:combatFunc'],`[RED][1] feels like [2] is slowing [1:them] down.<br>[1] [has murdered|got rid of|eliminated|did quick work of] [2]!`,p=>{p[1].kill(p[2],`betrayal`);});
			
			new G.act(0.3,['has_killed sociopath|devious|lunatic|unstable !peaceful|kind'],`[1] can't wait to kill again...`);
			new G.act(0.3,['has_killed peaceful|kind'],`[1] [feels horrible for what [1:they] did...|wishes [1:they] didn't have to kill anyone...|never wants to kill anyone ever again.]`);
			new G.act(0.3,['!has_killed peaceful|kind','+ has_killed'],`[1] still can't believe [2] killed someone...`);
			new G.act(0.3,['!devious|sociopath|survivalist','+ dead'],`[1] [reminisces about|thinks about|remembers|recalls something about|remembers how much [1:g|he misses|she misses|they miss|it misses]] [2] and sobs quietly.`);
			new G.act(0.3,['!devious|sociopath|survivalist alive:1'],`[1] [reminisces about|thinks about|remembers|remembers how much [1:g|he misses|she misses|they miss|it misses]] everybody and sobs quietly.`);
			
			new G.act(0.5,['mint_essence any%0.5|injured%0.5|ailed%0.5|*able%0.5'],`[BLUE][1] decides to finally consume that mint essence [1:they] had for its effects... and with a bit of struggling, [1:they] managed it!`,p=>{p[1].lose('mint essence');p[1].gain('mint enhanced')});
			new G.act(0.5,['mint_essence any !injured%0.2|ailed%0.2|*able%0.2'],`[BLUE][1] decides to finally consume that mint essence [1:they] had for its effects, but it wouldn't go down [1:their] throat. [1] just finds it too [disgusting|repulsive|spicy|stimulating|minty].`);
			
			//accidents happen
			new G.act(0.008,['!survivalist any func:combatFunc'],`[RED][1] [wasn't looking and fell off a cliff...|eats something [1:they] shouldn't have and dies of horrible stomach pains.|gets mauled by wild animals.|trips and falls in a really bad way, breaking [1:their] neck.]`,p=>{p[1].die(`accident`);});
			new G.act(0.002,['!survivalist any func:combatFunc'],`[RED][1] kind of wanders off and gets lost, never to be seen again.`,p=>{p[1].die(`missing`);p[1].gain('nihil');});
			new G.act(0.005,['survivalist any func:combatFunc'],`[RED][1] gets cocky and ends up dying from a stupid mistake.`,p=>{p[1].die(`stupid mistake`);});
			new G.act(0.2,['sheep suicidal%0.8|meek%0.5|naive%0.5|clumsy%0.5|any%0.5 !stubborn%0.2|survivalist%0.2|cowardly%0.2|animal_ken%0.2|plot_armor%0.8'],`[RED][1] is a sheep and [wanders off too far, becoming food for wild beasts|accidentally falls off a cliff while grazing].`,p=>{p[1].lose('sheep');p[1].gain('confirmed');p[1].die(`sheep accident`);});
			
			new G.act(0.01,['dead alive:0 unalive:>1 any'],`[BLUE]A god comes upon this mess and revives everyone out of boredom.<br>How nice! Everybody's back.`,p=>{
				for (var i in G.chars){G.chars[i].revive('divine intervention');}
			});
			new G.act(0.03,['dead alive:0 unalive:1 any'],`[BLUE]A god comes upon this mess and revives [1] out of boredom.<br>How nice!`,p=>{p[1].revive('divine intervention');});
			
			new G.act(FORCE,['revived dead every'],`[1] was about to live again, but is, sadly, still dead.`,p=>{p[1].lose('revived');});
            // NIHIL -TW
            new G.act(FORCE,['revived nihil every'],`[1] is recreated as everyone else is revived. No one seems to have noticed [1:g|he was|she was|they were|it was] ever gone!`,p=>{p[1].lose('revived');p[1].lose('nihil');p[1].revive('recreation');});
			
			new G.act(FORCE,['revived dead every'],`[1] feels [1:their] body again, somehow. How did this even happen?`,p=>{p[1].lose('revived');p[1].minimumRevive('mystery');});
			new G.act(FORCE,['revived !suicidal !dead every'],`[1] feels [1:themself], unsure what just happened. Guess [1:g|he's|she's|they're|it's] alive again.`,p=>{p[1].lose('sheep');p[1].lose('revived');p[1].lose('confirmed');});
			new G.act(FORCE,['revived suicidal !dead every'],`[1] feels [1:themself], unsure what just happened. Guess [1:g|he's|she's|they're|it's] alive again.<br>Goddammit.`,p=>{p[1].lose('sheep');p[1].lose('revived');p[1].lose('confirmed');});
			
			/*
			//just a test
			new G.act(1,['','+'],``,p=>{
				var traitsList=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type=='trait') traitsList.push(me);
				}
				var me=new G.char({name:c(['Bob','Bub','Blob','Brob','Blib','Blug','Blab'])+c(['ert','urt','art','ard','by']),pic:c([p[1],p[2]]).pic,perks:[c(traitsList),c(traitsList)],gender:c([0,0,0,1,1,1,2])});
				me.join(p[1].team);
				
				return `[BLUE][1] and [2] decide to have a child!<br>They name the child <e>${me.name}</e>.`;
			});
			*/
			
			for (var i in G.acts)
			{
				var me=G.acts[i];
				if (!me.text) { console.log(me, G.acts.indexOf(me)); }
				if ((me.text.split('[').length-1)!=(me.text.split(']').length-1)) console.log(`Warning : brackets in the action "`,me.text,`" do not match.`);
			}
			
			
			let actsList=shuffle(G.actsForced).concat(shuffle(G.actsOther));

			//Descriptive combat system by CS
			/*HOW THIS WORKS - explanation by CursedSliver, original creator
   				Sometimes, a "fight" may start, which puts any characters involved into stasis. Characters in fights cannot perform normal acts and instead use a turn-based system to make "moves"
	   			Each round, the character list in each fight is shuffled then iterated through repeatedly for up to 20 times; before the 20th, each complete "mini-round" involving each character attempting to make a move have an increasing chance to break the loop prematurely
	   			Each time a character attempts to make a move, it goes through every single move, where it checks for whether this move can be performed via its "req", "cReq", "pReq", and "reqFunc". You don't have to pass in any of those into a move, just what you need
	   				- req: identical to acts people system and uses the same syntax. However, unlike in acts, the amount of people involved per move is not strictly defined based on the amount of items in req
					- cReq: based on previous moves; see G.checkCReq. Currently very incomplete and only supports the last move performed locally, but the plan is for it to be able to somehow encapsulate multiple previous moves for checking as well as make a distinction between moves made towards the actor, toward team, or not
	 				- pReq: array, based on proximity to other characters; see G.checkPReq.
	  				- reqFunc: function, called with "this" as the character
	   			Each move can also fail or succeed. The "fail" property is a number or function that returns a number; the number is the chance for the move to FAIL. (not succeed)
	   			"text" is for text when succeeding, "failText" is for when not
	   			chance can be a number or a function that returns a number. It is the number of times that the function pools it.
	   			id is mainly used in conjunction with cReq.
	   			"element" is complicated. It is a class of its own and mainly does one thing right now: through its "interact" and "interactMin" it defines how many people the move can target.
	   			It was supposed to describe the nature of the move but unfortunately it was too complex to properly implement in such a short amount of time
	  		*/
			G.moves = [];
			G.moveGlobAgainstEnemy = true; //whether to automatically sanitize stuff to fit for enemy
			G.sanitizeMove = function(arr, interact) {
				for (let i = 0; i < interact + 1; i++) {
					if (i >= arr.length) { arr.push(''); }
				}
				if (G.moveGlobAgainstEnemy) {
					for (let i = 1; i < arr.length; i++) {
						if (!arr[i].includes('-') && !arr[i].includes('+')) { 
							if (arr[i] == '') {
								arr[i] = '-';
							} else {
								arr[i] = '- '+arr[i]; 
							}
						}
					}
				}
				return arr;
			}
			G.move = function(obj) {
				this.chance = obj.chance||G.moveDefault.chance;
				this.element = obj.element||G.moveDefault.element; //element determines the nature of the attack as well as which attacks it can counter/be countered by
				if (obj.req) { 
					this.req = G.sanitizeInaction(G.sanitizeMove([].concat(obj.req), this.element.interact), true); 
				} else { 
					this.req = G.sanitizeInaction(G.sanitizeMove(G.moveDefault.req, this.element.interact), true); 
				}//req is a string as the conditions to meet before the move can be considered possible in the first index, then indexes after that define reqs the opponents have to meet
				//unfortunately due to not wanting to recode an entirely new set of syntaxes and having to update that one whenever updating G.act.prototype.fit ive decided to take shortcut and just use that syntax and sacrifice the ability to dynamically adjust move chances but whatev
				this.reqFunc = obj.reqFunc||G.moveDefault.reqFunc;
				if (obj.cReq) { this.cReq = [].concat(obj.cReq); } else { this.cReq = G.moveDefault.cReq; } //the requirements for the opposing move (first item) and person(people) that made the move (every other item, logical AND) to have their move countered 
				if (obj.pReq) { this.pReq = [].concat(obj.pReq); } else { this.pReq = G.moveDefault.pReq; } //proximity requirement
				this.text = obj.text||G.moveDefault.text; 
				this.fail = obj.fail||G.moveDefault.fail; //function returning whether the move fails
				this.failText = obj.failText||G.moveDefault.failText; 
				this.successFunc = obj.successFunc||G.moveDefault.successFunc; //called on move success; with the call function setting the char
				this.failFunc = obj.failFunc||G.moveDefault.failFunc; //called on move failure
				this.func = obj.func||G.moveDefault.func; //called before either funcs (and in fact, before fail check)
				if (obj.id) { this.id = obj.id; } else { this.id = G.moveDefault.id; }
				
				G.moves.push(this);
				G.last = this;
			}
			G.moveDefault = {
				chance: 1,
				element: null,
				req: [],
				cReq: [],
				pReq: [],
				text: '',
				fail: 0,
				failText: 'move failed (not implemented)',
				successFunc: function() { },
				failFunc: function() { },
				func: function() { },
				reqFunc: null,
				id: null
			};
			G.elementDefault = {
				y: 0,
				interact: 1,
				interactMin: 1,
				temp: 0, 
				state: 0,
				reach: 0,
				range: 0,
				speed: 0,
				delay: 0,
				size: 0,
				sharp: 0,
				moveHorizontal: 0,
				moveVertical: 0,
				objects: [],
				elec: 0,
				magic: 0
			};
			G.element = function(obj) {
				//obj is some stuff to indicate its parameters
				obj = obj||{};
				
				this.y = obj.y||G.elementDefault.y; //(from) straight-up [4], above [2], level [0], below [-2], straight-down [-4]
				this.interact = (typeof obj.interact == 'undefined'?G.elementDefault.interact:obj.interact); //the maximum amount of other people that this move interacts with
				this.interactMin = (typeof obj.interactMin == 'undefined'?G.elementDefault.interactMin:obj.interactMin); //the minimum amount of other people required
				this.temp = obj.temp||G.elementDefault.temp; //molten [4], glowing [3], boiling [2], hot [1], rom temp [0], chilly [-1], freezing [-2], on-touch frostbite [-3]
				this.state = obj.state||G.elementDefault.state; //plasma [3], gas [2], liquid [1], solid [0]
				this.reach = obj.reach||G.elementDefault.reach; //the number of one-sixteenth of circles of area (roughly)
				this.range = obj.range||G.elementDefault.range; //arbitary units, but 1 is like half an arms length
				this.speed = obj.speed||G.elementDefault.speed; //arbitary units
				this.delay = obj.delay||G.elementDefault.delay; //seconds to delay to use
				this.size = obj.size||G.elementDefault.size; //also describes weight; arbitary units
				this.sharp = obj.sharp||G.elementDefault.sharp; //polished katana [2], regular knife [1], blunt side of pen [0], crushing only [-1]
				this.moveHorizontal = obj.moveHorizontal||G.elementDefault.moveHorizontal; //arbitary units; moves away (pos) or to (neg) the other people
				this.moveVertical = obj.movevertical||G.elementDefault.moveVertical; //8 to -8
				this.objects = ([].concat(obj.objects))||G.elementDefault.objects; //objects used (e.g. "dry tree")
				this.elec = obj.elec||G.elementDefault.elec; //electrically charged?
				this.magic = obj.magic||G.elementDefault.magic; //magical?
			}
			G.moveDefault.element = new G.element();
			G.checkReq = function(char, req, lastSelected) {
				if (!req || !char || !G.act.prototype.checkSelf(char, req[0], lastSelected)) { return true; }
				let list = G.act.prototype.fit(char, [].concat(req), lastSelected);
				if (!list) { return false; } else { return true; }
			}; //extreme lazy ahhhh (performance can go die)
			G.checkCReq = function(char, cReq, otherMove) {
				//each item in array is a condition of the opposing move or char that determines whether the move is possible
				//returns array of chars that fit the creq array (functionally the new boxCharList)
				if (cReq.length == 0 || !cReq) { return true; }
				let me = cReq[0].split(' '); //the move parameters
				/* syntax: 
				AND operator: [space]
				OR operator: |
				NOT operator: ! (brackets not supported)
				define element range: element_parameter_name:upper_bound/lower_bound (inclusive)
				define move: m:move_name (e.g. must be that move)
				with chance: (affix) :number
				*/
				for (let i in me) {
					if (!me[0]) { break; }
					let it = me[i].split('|');
					let pass = false;
					if (!it.length) { continue; }
					for (let ii in it) {
						let NOT = false;
						if (it[ii][0]=='!') { it[ii].splice(0, 1); NOT = true; }
						
						let result = G.parseEle(it[ii], otherMove);
						if (NOT) { result = !result; }
						if (result) { pass = true; break; }
					}
					if (!pass) { return false; }
				}

				return true;
			}
			G.checkPReq = function(char, otherChar, pReq) {
				/* pReq is a string for an actor pair
					returns whether this char (otherChar) is in the correct proximity to the char to do stuff to it
					syntax:
					AND operator: ' ' (space)
	 				OR operator: '|'
	  				expressions are of the following:
	   					[key]:[max]
					or 
	 					[key]:[min]/[max]
	  				keys:
	   				h
						> horizontal distance (h for horizontal)
	  				v
	   					> vertical distance (v for vertical)
		 			d
	  					> distance of shortest line (d for distance)
					t 
	 					> h + v (t for total)
	   				e
						> the "effort function"
	  				p
	   					> the "projectile effort function", a modified version of the effort function for projectiles
				*/
				if (pReq.length == 0) { return true; }
				if (!otherChar) { return true; }
				if (!otherChar.combat) { return false; }
				const c1 = char.combat;
				const c1h = c1.horizontal;
				const c1v = c1.vertical;
				const c1t = c1h + c1v;
				const c2 = otherChar.combat;
				const c2h = c2.horizontal;
				const c2v = c2.vertical;
				const c2t = c2h + c2v;
				let AND = pReq.split(' ');
				let fitAND = true;
				for (let i in AND) {
					let OR = AND[i].split('|');
					let fitOR = false;
					for (let ii in OR) {
						const key = OR[ii].split(':')[0];
						const content = OR[ii].split(':')[1];
						const min = (content.includes('/')?parseFloat(content.split('/')[0]):0);
						const max = (content.includes('/')?parseFloat(content.split('/')[1]):parseFloat(content));
						//console.log('c1h: '+c1h, 'c1v: '+c1v, 'c2h: '+c2h, 'c2v: '+c2v, 'key: '+key, 'min: '+min, 'max: '+max);
						
						if (key=='h' && Math.abs(c1.horizontalDist(otherChar)) >= min && Math.abs(c1.horizontalDist(otherChar)) <= max) { fitOR = true; break; }
						if (key=='v' && Math.abs(c1.verticalDist(otherChar)) >= min && Math.abs(c1.verticalDist(otherChar)) <= max) { fitOR = true; break; }
						if (key=='d' && c1.straightDist(otherChar) >= min && c1.straightDist(otherChar) <= max) { fitOR = true; break; }
						if (key=='t' && (Math.abs((c1h + c1v) - (c2h + c2v)) >= min && Math.abs((c1h + c1v) - (c2h + c2v)) <= max)) { fitOR = true; break; }
						if (key=='e' && c1.dist(otherChar) >= min && c1.dist(otherChar) <= max) { fitOR = true; break; }
						if (key=='p' && c1.projectileDist(otherChar) >= min && c1.projectileDist(otherChar) <= max) { fitOR = true; break; }
					}
					if (!fitOR) { fitAND = false; break; }
				}
				return fitAND;
			}
			G.intercepts = [];
			G.intercept = function(obj) {
				obj = obj||{};

				this.chance = obj.chance||G.interceptDefault.chance;
				if (obj.req) { this.req = G.sanitizeInaction([].concat(obj.req), true); } else { this.req = G.sanitizeInaction(G.interceptDefault.req, true); };
				if (obj.cReq) { this.cReq = [].concat(obj.cReq); } else { this.cReq = G.interceptDefault.cReq; }; //reqs for other move/people to try to intercept this move
				this.text = obj.text||G.interceptDefault.text; //text when intercepting OTHER moves
				this.successFunc = obj.successFunc||G.interceptDefault.successFunc; //called when successfully intercepting
				this.failText = obj.failText||G.interceptDefault.failText; //text when failing to intercept OTHER moves
				this.fail = obj.fail||G.interceptDefault.fail; //function returning whether the intercept fails
				this.failFunc = obj.failFunc||G.interceptDefault.failFunc; //called when failing to intercept
				this.reqFunc = obj.reqFunc||G.interceptDefault.reqFunc;
			} 
			G.interceptDefault = {
				chance: 1,
				req: ['any'],
				cReq: [],
				pReq: [],
				text: '',
				successFunc: function() { },
				failText: '',
				fail: function() { return false; },
				failFunc: function() { },
				reqFunc: null
			};
			G.parseEle = function(str, otherMove) {
				let arr = str.split(':');
				if (!otherMove) { return true; }
				if (arr[arr.length-1] && parseFloat(arr[arr.length-1])<Math.random()) {
					return false;
				}
				if (arr[0] == 'm') {
					if (otherMove.id == arr[1]) { return true; } else { return false; }
				}
				if (typeof otherMove.element[arr[0]] == 'undefined') { throw 'element property not found! Property: '+arr[0]; }
				if (otherMove.element[arr[0]] <= parseFloat(arr[1]) && otherMove.element[arr[0]] >= parseFloat(arr[2])) { return true; } else { return false; }
			}
			G.moveHistItem = function(move, performers, opponents) {
				this.move = move;
				this.performers = [].concat(performers);
				this.opponents = [].concat(opponents);
			}
			G.box = function(charList, text, color, hideChars) {
				this.charList = [];
				if (charList) { charList = [].concat(charList); } else { charList = []; }
				for (let i in charList) {
					this.charList.push(new G.charIcon(charList[i]));
				}
				this.color = color||'';
				this.text = text;
				this.hideChars = hideChars||false;
			};
			G.charIcon = function(char) {
				this.pic = char.pic;
				this.widgets = []; //each one is a string
				this.char = char;

				if (char.has('dead')) { this.widgets.push('skull'); }
			};
			G.ongoingCombats = [];
			G.combatOverseer = function() {
				this.participants = [];
				this.extras = [];
				this.processed = false;
				this.outStr = '';
				this.out = []; //each item is a box object
				this.lastMove = null;
				this.moveCount = 0;
				this.roundCount = 0;
				this.nonInteractiveMoveCount = 0;
				this.queuedInjects = []; //each item is an array, first one is between ['front', 'back'], second is index, third is content
				this.inteamDuel = false;
				
				G.ongoingCombats.push(this);
			}
			G.combatOverseer.prototype.clearOut = function(addContinuation) {
				this.out = [];
				this.outStr = '';
			}
			G.combatOverseer.prototype.addParticipant = function(participant) {
				if (participant) { this.participants.push(participant); }
			}
			G.combatOverseer.prototype.addExtra = function(char) {
				this.extras.push(char);
			}
			G.combatOverseer.prototype.removeParticipant = function(participant) {
				if (this.participants.indexOf(participant) != -1) { this.participants.splice(this.participants.indexOf(participant), 1); }
				if (this.participants.length <= 1) {
					if (this.participants[0]) { this.participants[0].fleeCombat(true); }
					if (G.ongoingCombats.indexOf(this) != -1) { G.ongoingCombats.splice(G.ongoingCombats.indexOf(this), 1); }
				}
			}
			G.combatOverseer.prototype.removeExtra = function(char) {
				if (this.extras.indexOf(char) != -1) { this.extras.splice(this.extras.indexOf(char), 1); }
			}
			G.combatOverseer.prototype.addBox = function(str, chars, noCharBoxes) {
				this.out.push(new G.box(chars, str, 'green', noCharBoxes));
				if (this.moveCount == 1) {
					if (this.inteamDuel) { 
						this.injectFront('[1] and [2] [meets|finds each other|[accidentally |]stumble into each other|see each other|come face to face with each other|meet up|arranges a duel] and, [trying to be the last one alive|attempting to stay alive|in a bid for glory|attempting to claim the prize for themselves|knowing that they can\'t stay here forever|to settle unsettled scores|with past grudges|to end some unfinished business|as a petty quarrel], [starts|begins|initiates] [a [vicious|bloody|gruesome|deadly|eventful] [fight|battle|duel|exchange to the death]|fighting[ to the death| their hardest||||]]!<br>')
					} else {
						this.injectFront('[1] and [2] [meets|finds each other|[accidentally |]stumble into each other|see each other|come face to face with each other|meet up|arranges a duel] and, [in a bid for glory|for their survival|seeing each other as a threat|to settle unsettled scores|with past grudges], [starts|begins|initiates] [a [vicious|bloody|gruesome|deadly|eventful] [fight|battle|duel|exchange to the death]|fighting[ to the death| their hardest||||]]!<br>'); 
					}
				}
			}
			G.combatOverseer.prototype.recordMove = function() {
				this.moveCount++;
			}
			G.combatOverseer.prototype.processInjects = function() {
				for (let i of this.queuedInjects) {
					if (i[0] == 'front') { this.out[i[1]].text = i[2] + this.out[i[1]].text; continue; }
					if (i[0] == 'back') { this.out[i[1]].text += i[2]; continue; }
				}
				this.queuedInjects = [];
				return this.out;
			}
			G.parseBoxes = function(arr) {
				var output = [];
				//console.log(arr)
				for (let i in arr) {
					let str = '';
					let box = arr[i];
					str += '<div class="box action '+box.color+'"><div class="actionCharContainer">';
					if (!box.hideChars) { for (let ii in box.charList) {
						str += '<div class="charDisplay" <div style="display: inline-block"><img src="'+box.charList[ii].pic+'" class="pic" '+(box.charList[ii].char.trueTeam?.color?('style="border: 2px solid '+box.charList[ii].char.trueTeam.color+'" '):'')+'title="'+box.charList[ii].char.name+'"></div>';
						if (box.charList[ii].char.team?.icon) { str += '<div class="teamIcon" style="background-image: url('+box.charList[ii].char.team.icon+');"></div>'; }
						if (box.charList[ii].widgets.includes('skull')) { str += '<div class="picSkull"></div>'; }
						if (box.charList[ii].widgets.includes('angel')) { str += '<div class="picAngel"></div>'; }
						str += '</div>';
					} }
					let realList = [];
					for (let ii in box.charList) {
						realList.push(box.charList[ii].char);
					}
					str += '</div><div>';
					str += G.parse(box.text.replaceAll('[S]', ''), realList);
					str += '</div>';
					output.push(str);
				}
				return output;
			}
			G.combatOverseer.prototype.all = function() {
				return this.participants.concat(this.extras);
			}
			G.combatOverseer.prototype.end = function() {
				G.ongoingCombats.splice(G.ongoingCombats.indexOf(this), 1);
			}
			G.combatOverseer.prototype.injectFront = function(content, boxIndex) {
				if (!this.out.length) { return false; }
				boxIndex = boxIndex||(this.out.length - 1);
				this.queuedInjects.push(['front', boxIndex, content]);
			}
			G.combatOverseer.prototype.injectBack = function(content, boxIndex) {
				if (!this.out.length) { return false; }
				boxIndex = boxIndex||(this.out.length - 1);
				this.queuedInjects.push(['back', boxIndex, content]);
			}
			G.combatOverseer.prototype.injectSkull = function(name, boxIndex) {
				if (!this.out.length) { return false; }
				boxIndex = boxIndex||(this.out.length - 1);
				for (let i in this.out[boxIndex].charList) {
					let me = this.out[boxIndex].charList[i];
					if (me.char.name != name) { continue; }
					if (!me.widgets.includes('skull')) { me.widgets.push('skull'); return true; } else { return false; }
				}
				return false; 
			}
			G.combatOverseer.prototype.injectAngel = function(name, boxIndex) {
				if (!this.out.length) { return false; }
				boxIndex = boxIndex||(this.out.length - 1);
				for (let i in this.out[boxIndex].charList) {
					let me = this.out[boxIndex].charList[i];
					if (me.char.name != name) { continue; }
					if (!me.widgets.includes('angel')) { me.widgets.push('angel'); return true; } else { return false; }
				}
				return false; 
			}
			G.combatOverseer.prototype.injectColor = function(color, boxIndex) {
				if (!this.out.length) { return false; }
				boxIndex = boxIndex||(this.out.length - 1);
				this.out[boxIndex].color = color;
			}
			G.combatOverseer.prototype.addChar = function(char, index, subIndex, widgets) {
				if (!index) { index = this.out.length - 1; }
				if (!subIndex) { subIndex = this.out[index].charList.length; }
				this.out[index].charList.splice(subIndex, 0, new G.charIcon(char));
				if (widgets) { this.out[index].charList[subIndex].widgets = widgets; }
			}
			G.combatOverseer.prototype.getPrompt = function(boxIndex) {
				if (!this.out.length) { return ''; }
				boxIndex = boxIndex||(this.out.length - 1);
				return this.out[boxIndex].text;
			}
			G.combatOverseer.prototype.replacePrompt = function(newPrompt, boxIndex) {
				if (!this.out.length) { return ''; }
				boxIndex = boxIndex||(this.out.length - 1);
				this.out[boxIndex].text = newPrompt;
			}
			G.combatTracker = function(overseer, carrier) { //added to chars
				this.overseer = overseer;
				this.carrier = carrier;
				overseer.addParticipant(carrier);
				this.horizontal = 0; //intentionally vague in order to produce funny; can be negative
				this.vertical = 0; //same as above but less so since its only one dimension; can be negative (not recommended)
				this.interrupts = [];
				this.interrupted = [];
				this.targetCounts = {};
				this.targetCountsNonreal = {};
				this.actingTeam = carrier.team;
				this.lastInterrupt = null; 
			}
			G.combatTracker.prototype.moveInFrontOf = function(target, dist) {
				let h = target.combat.horizontal;
				if (this.horizontal < h) { this.horizontal = h - dist; } else { this.horizontal = h + dist; }
			}
			G.combatTracker.prototype.moveToward = function(target, dist) {
				let h = target.combat.horizontal;
				if (this.horizontal < h) { this.horizontal = Math.min(this.horizontal + dist, h - 0.1); } else { this.horizontal = Math.max(this.horizontal - dist, h + 0.1); }
			}
			G.combatTracker.prototype.distMult = function(target) {
				let mult = 1;
				mult *= Math.pow(0.5, target.isDisabled(true));
				for (let i = this.interrupts.length - 1; i >= Math.max(0, this.interrupts.length - 5); i--) {
					if (this.interrupts[i].interrupted == target) { mult *= 1 / Math.max(5 - this.interrupts.length + i, 1); break; }
				}

				return mult;
			}
			G.combatTracker.prototype.dist = function(target) {
				//describes a function amount of effort requires for this character to reach another character
				let verticalOffset = target.combat.vertical - this.vertical;
				let add = 0;
				let mult = 1;
				if (verticalOffset >= 0) {
					add = Math.pow(target.combat.vertical, 3) * 5;
				} else {
					mult = 1 / (-verticalOffset * 0.6 + 1);
				}
				return (Math.abs(target.combat.horizontal - this.horizontal) + add) * mult * this.distMult(target);
			} //vertical is here too, but each vertical distance above adds and each vertical distance below removes
			G.combatTracker.prototype.projectileDist = function(target) {
				let verticalOffset = target.combat.vertical - this.vertical;
				let add = 0;
				let mult = 1;
				if (verticalOffset >= 0) {
					add = Math.pow(target.combat.vertical, 0.5) * 5;
				} else {
					mult = 1 / (-verticalOffset * 0.05 + 1);
				}
				return (Math.abs(target.combat.horizontal - this.horizontal) + add) * mult * this.distMult(target);
			}
			G.combatTracker.prototype.straightDist = function(target) {
				return ((Math.pow(target.combat.vertical - this.vertical, 2) + Math.pow(target.combat.horizontal - this.horizontal, 2)) ** 0.5) * this.distMult(target);
			}
			G.combatTracker.prototype.horizontalDist = function(target) {
				return (target.combat.horizontal - this.horizontal) * this.distMult(target);
			}
			G.combatTracker.prototype.verticalDist = function(target) {
				return (target.combat.vertical - this.vertical) * this.distMult(target);
			}
			G.combatOverseer.prototype.getHeightAt = function(horizontal) {
				//"this" is the overseer
				//not implemented (planning on a perlin noise here)
				return 0;
			}
			G.lastCharList = null; //debug
			G.interruptUnit = function(interrupter, interrupted, move) {
				this.interrupter = interrupter;
				this.interrupted = interrupted;
				this.move = move;
			}
			G.char.prototype.interrupt = function(interruptedChar, move) {
				if (!this.combat) { return false; }
				if (!move) { move = this.combat.overseer.lastMove; }
				let obj = new G.interruptUnit(this, interruptedChar, move);
				this.combat.interrupts.push(obj);
				this.combat.lastInterrupt = obj;
				interruptedChar.combat.interrupted.push(obj);
				this.combat.overseer.nonInteractiveMoveCount = Math.max(this.combat.overseer.nonInteractiveMoveCount - 3, 0);
				for (let i of interruptedChar.perks) {
					if (i.perk.onInterrupt) {
						i.perk.onInterrupt.call(i);
					}
				}
				if (this.combat) { this.combat.overseer.cacheAllTargetCounts(); }
			}
			G.char.prototype.initiateCombat = function() {
				var charList = deepArrCopy(G.chars);
				for (let i = 0; i < charList.length; i++) {
					if (charList[i].team == this.team || charList[i].combat || charList[i].isOut() || (Math.random() < 0.8 && (charList[i].isDisabled() || Math.random() < 1 - 1 / (1 + charList[i].has('has fought').count)))) { charList.splice(i, 1); i--; }
				}
				var opponent = null;
				if (charList.length > 0) { opponent = choose(charList); } else { return false; } 

				var overseer = new G.combatOverseer();
				this.combat = new G.combatTracker(overseer, this);
				opponent.combat = new G.combatTracker(overseer, opponent);
				opponent.combat.horizontal = (Math.random() - 0.5) * 40;

				this.gain('has fought');
				opponent.gain('has fought');
			}
			G.char.prototype.initiateInTeamDuel = function() {
				var charList = deepArrCopy(G.chars);
				for (let i = 0; i < charList.length; i++) {
					if (charList[i] == this || charList[i].team != this.team || charList[i].combat || charList[i].isOut() || (Math.random() < 0.5 && (charList[i].isDisabled()))) { charList.splice(i, 1); i--; }
				}
				var opponent = null;
				if (charList.length > 0) { opponent = choose(charList); } else { return false; } 

				var overseer = new G.combatOverseer();
				overseer.inteamDuel = true;
				this.combat = new G.combatTracker(overseer, this);
				opponent.combat = new G.combatTracker(overseer, opponent);
				opponent.combat.actingTeam = new G.team({ name: this.team.name, icon: this.team.icon, color: this.team.color }, true);
				opponent.combat.actingTeam.chars.push(opponent);
				opponent.combat.horizontal = (Math.random() - 0.5) * 40;
			}
			G.char.prototype.joinCombat = function(overseer, calledInBy) {
				if (this.combat) { return false; }
				this.combat = new G.combatTracker(overseer, this);
				this.combat.horizontal = (Math.pow(Math.random(), 0.33) * 60) * ((Math.random() < 0.5)?1:-1);

				this.gain('has fought');
				if (calledInBy && calledInBy.combat) { this.combat.actingTeam = calledInBy.combat.actingTeam; if (calledInBy.combat.actingTeam.temp) { calledInBy.combat.actingTeam.chars.push(this); } }
			}
			G.char.prototype.fleeCombat = function(silent) {
				this.lose('fleed');
				if (!this.combat) { return false; }
				if (!silent) { this.combat.overseer.injectBack('<br><e>'+this.name+'</e> fled from the fight!'); }
				for (let i = this.perks.length - 1; i >= 0; i--) {
					if (this.perks[i].perk.combat) { 
						if (this.perks[i].itemRef) { this.gain(this.perks[i].itemRef); }
						this.lose(this.perks[i], true); 
					}
				}
				for (let i = this.combat.overseer.extras.length - 1; i >= 0; i--) {
					if (!this.combat.overseer.extras[i].isOut() && this.combat.overseer.extras[i].itemRef && this.combat.overseer.extras[i].itemRef.owner == this) {
						this.combat.overseer.extras[i].gain('nihil');
						this.gain(this.combat.overseer.extras[i].itemRef);
					}
				}
				if (this.real) { this.combat.overseer.removeParticipant(this); this.combat = null; } else { this.gain('nihil'); /*this.combat.overseer.removeExtra(this);*/ } //no removing extras only mark as nihil
			}
			G.char.prototype.targetCount = function(perpetrator) {
				if (!this.combat || !perpetrator.combat) { return 1; }
				if (this.has('untargetable')) { return 0; }
				let count = 1;
				if (this.has('annoying')) { count += 0.4; }
				if (this.has('nerd')) { count += 0.2; }
				if (this.has('glasses')) { count += 0.1; }
				if (this.has('meek')) { count += 0.2; }
				count += 1 * this.isDisabled(); 
				count += 0.5 * this.isInjured(); 
				count += 0.3 * this.isAiled(); 
				if (this.has('embedded')) { count += 2; }
				if (this.has('unconscious')) { count += 2; }
				for (let i in this.perks) {
					if (this.perks[i].perk.type != 'item') { continue; } 
					if (this.perks[i].perk.tier == 3) { count += 0.3; }
					if (this.perks[i].perk.tier == 2) { count += 0.2; }
					if (this.perks[i].perk.tier == 1) { count += 0.1; }
					if (typeof this.perks[i].perk.aggro == 'number') { count += this.perks[i].perk.aggro; }
				}
				if (this.has('marked')) {
					count += 10 * Math.pow(this.has('marked').duration / this.has('marked').maxDuration, 0.5);
				}
				if (perpetrator.has('wolf') && this.has('wolves\' mark')) { count += 10; }
				if (this.has('turtle')) { count += 3; }
				
				let retailation = 1;
				for (let i = this.combat.interrupts.length - 1; i >= Math.max(this.combat.interrupts.length - 5, 0); i--) {
					if (this.combat.interrupts[i].interrupted == perpetrator) { retailation += 0.15 * Math.max(5 - this.combat.interrupts.length + i, 0); }
				}
				let followUp = 1;
				for (let i = perpetrator.combat.interrupts.length - 1; i >= Math.max(perpetrator.combat.interrupts.length - 5, 0); i--) {
					if (perpetrator.combat.interrupts[i].interrupted == this) { followUp += 0.15 * Math.max(5 - perpetrator.combat.interrupts.length + i, 0); }
				}
				count += retailation;
				count *= retailation;
				count += followUp;
				count *= followUp;
				
				if (this.has('frenzied')) { count *= 0.75; }
				if (this.has('invisible')) { count *= 0.01; }
				if (this.has('ignorable')) { count *= 0.5; }

				return count;
			}
			G.combatOverseer.prototype.cacheAllTargetCounts = function() {
				for (let i in this.participants) {
					if (this.participants[i].combat) { this.participants[i].combat.cacheTargetCounts(); }
				}
				for (let i in this.extras) {
					this.extras[i].combat.cacheTargetCounts();
				}
			}
			G.combatTracker.prototype.cacheTargetCounts = function() {
				if (!this.carrier) { return; }
				for (let i in this.overseer.participants) {
					this.targetCounts[this.overseer.participants[i].id] = this.carrier.targetCount(this.overseer.participants[i]);
				}
				for (let i in this.overseer.extras) {
					this.targetCounts[this.overseer.extras[i].id] = this.carrier.targetCount(this.overseer.extras[i]);
				}
			}
			G.last = null; //convenience; last refers to the last move created
			G.char.prototype.makeMove = function() {
				//iterate through every move available and collects any that fit both reqs, then select one to perform
				//when performing, it first checks for available intercepting moves, then if not successfully intercepted it sees if it succeeds, then if succeeds it calls the func
				//returns text for display (in one box)
				var str = '';
				if (!this.combat) { return; }
				this.combat.vertical = this.combat.overseer.getHeightAt(this.combat.horizontal); 
				this.combat.overseer.cacheAllTargetCounts();
				for (let i = this.perks.length - 1; i >= 0; i--) {
					if (typeof this.perks[i].mt == 'number') { this.perks[i].mt++; }
					if (this.perks[i].perk.onMove) { this.perks[i].perk.onMove.call(this.perks[i]); }
				}
				if (
					!this.has('frenzied') && 
					!this.has('haste') && 
					!this.has('infallible') && 
					(
						(Math.random() < 0.025) || 
						Math.random() < 1 - Math.pow(1 - (this.has('haste')?0.0375:0.075), Math.sqrt(this.isDisabled())) || 
						Math.random() < 1 - Math.pow(1 - (this.has('haste')?0.025:0.05), Math.sqrt(this.isInjured())) || 
						Math.random() < 1 - Math.pow(1 - (this.has('haste')?0.0125:0.025), Math.sqrt(this.isAiled()))
					)
				) { return this.has('fleed'); } //everyone can just be slow sometimes
				if (this.has('skipped')) { this.lose('skipped'); return this.has('fleed'); }
				if (this.has('in stasis')) { return this.has('fleed'); }
				let overseer = this.combat.overseer;
				let otherChars = overseer.participants;
				let boxCharList = [];
				for (let i in overseer.participants) {
					if (overseer.participants[i] == this) { continue; }
					boxCharList.push(overseer.participants[i]);
				}
				for (let i in overseer.extras) {
					boxCharList.push(overseer.extras[i]);
				}
				let availableMoves = [];
				for (let i in G.moves) {
					const m = G.moves[i];
					if (m.element.interactMin > boxCharList.length) { continue; }
					if (overseer.moveCount == 0 && (m.element.interact == 0 || m.element.interactMin == 0)){ continue; }
					if (!G.checkCReq(this, m.cReq, overseer.lastMove)) { continue; }
					
					let list = deepArrCopy(boxCharList);

					for (let ii = 0; ii < list.length; ii++) {
						if (m.pReq.length == 0) { break; }
						let fit = false;
						for (let iii in m.pReq) {
							if (G.checkPReq(this, list[ii], m.pReq[iii])) { fit = true; break; }
						}
						if (!fit) { list.splice(ii, 1); ii--; }
					} //ik with this you can have some funny stuff going on but cant be bothered to fix such a relatively rare event
					if (list.length == 0) { continue; }

					//targeting preferences
					let listNew = [];
					for (let ii in list) {
						//if (list[ii] === this) { continue; }
						if (!list[ii].combat) { continue; }
						for (let iii = 0; iii < randomFloor(list[ii].combat.targetCounts[this.id]); iii++) {
							listNew.push(list[ii]);
						}
					}
					//if (listNew.length) { console.log(listNew); }
					
					if (!G.act.prototype.checkSelf(this, m.req[0], null)) { continue; }
					let targets = G.act.prototype.fit(this, m.req, null, m.element.interactMin, listNew);
					if (!targets) { continue; }
	
					if (!targets) { continue; }
					if (m.element.interactMin + 1 > targets.length) { continue; }
					if (m.element.interact + 1 < targets.length) {
						targets.shift();
						for (let ii = 0; ii < targets.length - m.element.interact; i++) {
							targets.splice(Math.floor(Math.random() * targets.length), 1);
						}
						targets.unshift(this);
					}
					
					if (m.reqFunc && !m.reqFunc.call(this, targets)) { continue; }
					let chance = m.chance;
					if (typeof m.chance == 'function') { chance = m.chance.call(this, targets); }
					if (chance > 100) { chance = 100; console.log('Warning: chance for a move is exceeding 100! Chance: '+chance); }
					for (let ii = 0; ii < randomFloor(chance); ii++) {
						availableMoves.push([m, targets]);
					}
				}
				if (availableMoves.length == 0) { if (this.real) { console.log(this.name+' no longer knows what to do!'); } return this.has('fleed'); }
				
				let m = choose(availableMoves);
				boxCharList = m[1];
				G.lastCharList = boxCharList;
				if (boxCharList.length == 1) { overseer.nonInteractiveMoveCount++; } else { overseer.nonInteractiveMoveCount = Math.max(overseer.nonInteractiveMoveCount - 3, 0); }
				m = m[0];
				m.func.call(this, boxCharList);

				for (let i in otherChars) {
					if (otherChars[i] == this) { continue; }
					const success = otherChars[i].makeIntercept();
					if (typeof success === 'string') { str += success; }
				}

				overseer.lastMove = m;
				overseer.recordMove();
				if (typeof m.fail != 'undefined') { 
					if ((typeof m.fail == 'number' && m.fail > Math.random()) || (typeof m.fail == 'function' && (m.fail.call(this, boxCharList)) > Math.random())) { 
						overseer.addBox(m.failText + (str?('<br>'+str):''), boxCharList); 
						const re = m.failFunc.call(this, boxCharList, overseer.getPrompt()); 
						if (re) { overseer.replacePrompt(re); }
					} else { 
						overseer.addBox(m.text + (str?('<br>'+str):''), boxCharList); 
						const re = m.successFunc.call(this, boxCharList, overseer.getPrompt()); 
						if (re) { overseer.replacePrompt(re); }
					}
				} else {
					overseer.addBox(m.text + (str?('<br>'+str):''), boxCharList); 
					const re = m.successFunc.call(this, boxCharList, overseer.getPrompt());
					if (re) { overseer.replacePrompt(re); }
				}
				
				if ((this.has('frenzied') && Math.random() < 0.25) || (this.has('haste') && Math.random() < 0.05) || (this.has('invigorated') && Math.random() < Math.pow(0.85, this.has('invigorated').power))) { return this.makeMove(); }
				if (overseer.nonInteractiveMoveCount > overseer.participants.length * 4 + 4 && overseer.participants.length > 1) { overseer.addBox('Since nothing is really happening, the fight is now considered over.', []); for (let i in overseer.participants) { overseer.participants[i].fleeCombat(true); } }
				return this.has('fleed');
			}
			G.char.prototype.makeIntercept = function() {
				//returns string to add, or null if chooses to not intercept at all
				var availableIntercepts = [];
				for (let i in G.intercepts) {
					const int = G.intercepts[i];
					if (!G.checkReq(this, int.req)) { continue; }
					if (!G.checkCReq(this, int.cReq)) { continue; }
					for (let ii = 0; ii < randomFloor(int.chance); ii++) {
						availableIntercepts.push(int);
					}
				}
				if (availableIntercepts.length == 0) { return null; }
				var int = choose(availableIntercepts);

				if (int.fail && int.fail()) { int.failFunc(); return int.failText; } else { int.successFunc(); return int.text; }
			}

			G.moveAssets = {};
			G.moveAssets.elements = {};
			G.moveAssets.elements.alone = new G.element({ interact: 0, interactMin: 0 });
			let hardDisables = '!unconscious|trapped|shell-shocked|hallucinating|paralyzed|deep_frozen|slimed';
			new G.move({
				text: '[1] does something ????????',
				chance: 0.001,
				element: G.moveAssets.elements.alone,
			});
			new G.move({
				text: '[1] baahs softly.',
				element: G.moveAssets.elements.alone,
				req: ['sheep']
			});
			G.moveAssets.fleeCheck = function(target) {
				if (target.combat.dist(this) < Math.random() * 4 + 4) { return this.adjust(this.adjust(0.85), 'runFail'); }
				if (target.combat.dist(this) < Math.random() * 6 + 8) { return this.adjust(this.adjust(0.5), 'runFail'); }
				return this.adjust(this.adjust(0.1), 'runFail');
			}
			new G.move({
				chance: 0.3,
				text: '[1] runs away from [2].',
				failText: '[1] tries to run away, but is caught by [2] before [1:they] can make it!',
				fail: function(cl) {
					return G.moveAssets.fleeCheck.call(this, cl[1]);
				},
				successFunc: function() { this.gain('fleed'); },
				failFunc: function(cl) { let mover = (Math.random()<0.5?1:-1) * (Math.random() * 5 + 6); this.combat.horizontal += mover; cl[1].combat.horizontal += mover; },
				req: ['!determined able', 'able']
			});
			new G.move({
				chance: 0.4,
				text: 'Out of fear, [1] runs away from [2].',
				failText: '[1] tries to run away, but is caught by [2] before [1:they] can make it!',
				fail: function(cl) {
					return G.moveAssets.fleeCheck.call(this, cl[1]);
				},
				successFunc: function() { this.gain('fleed'); },
				failFunc: function(cl) { let mover = (Math.random()<0.5?1:-1) * (Math.random() * 5 + 6); this.combat.horizontal += mover; cl[1].combat.horizontal += mover; },
				req: ['cowardly able', 'able']
			});
			new G.move({
				chance: 25,
				text: 'Seeing that [1:their] enemies have either fled or is dead, [1] stops fighting.',
				successFunc: function() { this.fleeCombat(true); },
				element: G.moveAssets.elements.alone,
				reqFunc: function() {
					const all = this.combat.overseer.all();
					for (let i in all) {
						if (all[i] == this) { continue; }
						if (all[i].getTeam() != this.getTeam() || !all[i].getTeam()) { return false; }
					}
					return true;
				},
				req: ['any']
			});
			new G.move({
				chance: 0.75,
				text: '[1] [stands still, vigilant and awaiting|awaits|awaits for|anticipates|is waiting for|is ready for|] [2]\'s next move...',
				successFunc: function() {
					this.gain('alert');
				},
				req: ['able any%0.5|vigilant%0.75|analytical%0.4 !injured']
			});
			new G.move({
				chance: 1,
				text: '[1] is unsure what to do.',
				element: G.moveAssets.elements.alone,
				req: ['any%0.05|meek%0.5|naive%0.5']
			});
			new G.move({
				chance: 1.5,
				text: '[1] [carefully |slowly ||]approaches [2]...',
				func: function(charList) {
					this.combat.moveToward(charList[1], 2);
				},
				pReq: ['h:3/100 v:1'],
				req: ['able !injured !ailed', 'any']
			});
			new G.move({
				chance: 1.5,
				text: '[1] runs toward [2].',
				func: function(cl) {
					this.combat.moveToward(cl[1], Math.random() * 3 + 4);
				},
				pReq: 'h:5/100 v:1',
				req: ['able !injured', 'any']
			});
			new G.move({
				chance: 0.5,
				text: 'In a fit of [unrelenting|] rage, [1] runs at [2] full force, [screaming on the top of [1:their] lungs|hysterically flailing [1:their] arms|staring down [2:their] soul].',
				fail: function(cl) {
					let chance = 0.1;
					chance = this.adjust(chance);
					return chance;
				},
				failText: 'In a fit of [unrelenting|] [rage|anger|frustration], [1] runs at [2] full force, only to trip on the way there[S]',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], 30);
				},
				failFunc: function(cl, text) {
					this.combat.moveToward(cl[1], Math.random() * 10);
					if (Math.random() < 0.2) { this.gain('fallen'); return text.replace('[S]', ', causing [1:them] to fall on their face!'); }
					return text.replace('[S]', ', luckily avoiding a [deadly|crippling] fall.');
				},
				pReq: ['e:10/100'],
				req: ['any%0.1|frenzied']
			});
			new G.move({
				chance: 1,
				text: 'Something inside [1] [snaps|breaks|changes with turbulance], and [a smile of [death|pain]|a barrage of muscle twitches|a fiery stare] signifies [1:their] [descent into madness|enraged mind]...',
				successFunc: function() {
					this.gain('frenzied');
					this.combat.overseer.injectColor('red');
				},
				element: G.moveAssets.elements.alone,
				req: ['any%0.2|cursed_knife%0.35|unstable%0.5|leader%0.2|sociopath%0.2|devious%0.2|no_item%0.2|devious%0.2|pyromania%0.1 !frenzied '+hardDisables],
				cReq: ['m:taunt|m:taunt2']
			});
			new G.move({
				chance: 0.2, 
				text: G.last.text,
				successFunc: function() {
					this.gain('frenzied');
					this.combat.overseer.injectColor('red');
				},
				element: G.moveAssets.elements.alone,
				req: ['unstable !frenzied'] //why unstable is a good trait lmao
			});
			new G.move({
				chance: function() {
					let count = 0;
					for (let i in this.combat.overseer.participants) {
						if (this.combat.overseer.participants[i].getTeam() == this.getTeam() || this.getTeam() == 0) { count++; }
					}
					if (count > (1 + (this.has('leader')?1:0)) && Math.random() < 0.9) { return 0; }

					let base = 0;
					if (this.has('leader')) { base += 1; }
					base += 0.3 * this.isDisabled();
					base += 0.2 * this.isInjured();
					base += 0.1 * this.isAiled();
					if (this.has('peaceful')) { base += 0.05; }
					if (this.has('vigilant') || this.has('the gift')) { base += 0.03; }
					if (this.has('snake charmer\'s flute')) { base += 0.03; }
					if (this.combat.overseer.participants.length - count > count) { base += 20; }
					
					return base / Math.pow(count * 8, 2) * 8 + 0.1;
				},
				text: '[1] calls for [help from [S]|reinforcements|backups|more people], and [S] answers[.|!]',
				failText: '[1] tries to call for help[ from [S], but it seems that [S] [isn\'t responding|couldn\'t hear it]...|, but no one hears [1:them]...|, but no one hears [1:them]...|, but nothing happens...|, but nothing happens...]',
				req: ['inTeam|noTeam%0.25 any !frenzied|laughed|dizzy%0.25|dazed%0.25 '+hardDisables],
				element: G.moveAssets.elements.alone,
				fail: function() {
					let count = 0;
					let team = this.getTeam();
					for (let i in team.chars) {
						if (team.chars[i] == this) { continue; }
						if (!team.chars[i].combat && !team.chars[i].isOut()) { count++; }
					} 
					if (count == 0) { return 1; }
					if (this.has('snake charmer\'s flute')) { return 0; }
					if (this.has('leader')) { return 0.1; }
					return 0.25;
				},
				successFunc: function(cl, text) {
					let pool = [];
					for (let i in this.team.chars) {
						if (this.team.chars[i] == this) { continue; }
						if (!this.team.chars[i].combat && !this.team.chars[i].isOut() && !this.team.chars[i].isDisabled()) { pool.push(this.team.chars[i]); }
					}
					let char = choose(pool);
					if (char) { char.joinCombat(this.combat.overseer, this); this.combat.overseer.addChar(char); return text.replaceAll('[S]', '<e>'+char.name+'</e>'); }
					else { return text.replace('and [S] answers', 'but nothing happens').replace(' from [S]', ''); }
				},
				failFunc: function(cl, text) {
					let pool = [];
					for (let i in this.team.chars) {
						if (this.team.chars[i] == this) { continue; }
						if (!this.combat.overseer.participants.includes(this.team.chars[i])) { pool.push(this.team.chars[i]); }
					}
					if (pool.length > 0) { return text.replaceAll('[S]', '<e>'+choose(pool).name+'</e>'); } else {
						return '[1] tries to call for help, only to realize that there is no one left to help [1:them]...';
					}
				}
			});
			new G.move({
				chance: 0.7,
				text: '[1] [taunts|sneers at|insults|teases] [2][, menacingly|, aggressively|, confidently||].',
				id: 'taunt',
				req: ['sociopath%0.6|devious%0.6|annoying%0.6|able%0.15 !peaceful|meek%0.5|clumsy%0.5 '+hardDisables, '- any']
			});
			new G.move({
				chance: 2,
				text: '[1] [taunts|throws insults at|teases|ridicules] [2] back[ with [colorful|horrific|threatening] words|].',
				id: 'taunt2',
				req: ['any%0.5|lunatic%0.5|annoying|devious '+hardDisables, '-'],
				cReq: ['m:taunt|m:taunt2']
			});
			new G.move({
				chance: 1.5,
				text: '[1] urges everyone to [focus|concentrate|switch their attention] on [defeating |][2]!',
				element: new G.element({interact: 1, interactMin: 1}),
				successFunc: function(cl) {
					cl[1].gain('marked').perk.setDuration.call(cl[1].has('marked'), this.has('leader')?7:4);
					for (let i of this.combat.overseer.participants) {
						if (i == this || i.team != this.team) { continue; }
						this.combat.overseer.addChar(i, null, 1);
					}
				},
				req: ['inTeam any%0.1|leader', '- any%0.5|*able'],
				reqFunc: function() {
					let count = 0;
					for (let i of this.combat.overseer.participants) {
						if (i == this || i.getTeam() != this.getTeam()) { continue; }
						count++;
					}
					return (Math.random() < count / 2);
				},
				pReq: ['e:15']
			});
			new G.move({
				chance: 0.1,
				text: '[1] fakes a charge at [2] before running away.',
				failText: '[1] fakes a charge at [2] in an attempt to flee, but [2] saw right through and charged back, striking [1] on the [chest|head|heart|shoulder|kneecaps]!',
				fail: function(cl) {
					return G.moveAssets.fleeCheck.call(this, cl[1]);
				},
				successFunc: function() {
					this.gain('fleed');
				},
				failFunc: function() {
					if (Math.random() < 0.25) { this.gain('fallen'); this.combat.overseer.injectBack('<br>[1] falls from the strike.'); }
				},
				req: ['!determined able']
			});
			new G.move({
				text: '[1] seems a little bored.',
				element: G.moveAssets.elements.alone,
				cReq: ['interact:0'],
				req: ['any%0.5|suicidal|naive|kind|unstable|sociopath|vigilant !*able%0.5'+hardDisables]
			});

			//status
			G.moveDefault.element = G.moveAssets.elements.alone;
			new G.move({
				chance: 0.5,
				text: '[1] struggles [helplessly|uselessly|painfully] against [1:their] injuries.',
				req: ['injured '+hardDisables]
			});
			new G.move({
				chance: 3,
				text: '[1] takes out [1:their] batch of [freshly baked |]cookies and [gorges on|devours|eats] them, recovering from [1:their] ailments!',
				successFunc: function() {
					this.cureAilments();
					this.has('batch of cookies').uses--;
					if (this.has('batch of cookies').uses <= 0 && Math.random() < 0.4 - (this.has('survivalist')?0.1:0)) { this.lose('batch of cookies'); this.combat.overseer.injectBack('<br>[1] has eaten all of [1:their] cookies.'); }
				},
				req: ['batch_of_cookies any%0.05|ailed '+hardDisables]
			});
			new G.move({
				chance: 1.5,
				text: '[1] takes out [1:their] mound of cookie dough and [gorges on|devours|eats] them, recovering from [1:their] ailments!',
				successFunc: function(cl, text) {
					if (!this.has('sick')) { this.cureAilments(); }
					this.has('cookie dough').uses--;
					if (this.has('cookie dough').uses <= 0) { this.lose('cookie dough'); this.combat.overseer.injectBack('<br>[1] has eaten all of [1:their] cookies dough.'); }
					if (this.has('sick') || Math.random() < this.has('survivalist')?0.4:0.6) { this.gain('sick'); this.gain('dizzy'); this.gain('dazed'); return text + '<br>However, shortly after eating it raw, [1:they] began filling a little bit sickly and nauseous...'; }
				},
				req: ['cookie_dough ailed '+hardDisables]
			});
			new G.move({
				chance: 3,
				text: '[1] takes out [1:their] [hot |steaming |fragrant |magical |]hot chocolate and [consumes|drinks|drains] it, recovering from [1:their] injuries!',
				successFunc: function() {
					this.healInjuries();
					this.has('hot chocolate').uses--;
					if (this.has('hot chocolate').uses <= 0 && Math.random() < 0.4 - (this.has('survivalist')?0.1:0)) { this.lose('hot chocolate'); this.combat.overseer.injectBack('<br>[1] has drank all of [1:their] hot chocolate.'); }
				},
				req: ['hot_chocolate any%0.05|injured '+hardDisables]
			});
			new G.move({
				chance: function() {
					let chance = 1.5;
					chance += this.isInjured() * 0.3;
					chance += this.isAiled() * 0.3;
					chance += this.isDisabled() * 0.3;
					if (this.has('bruised')) { chance += this.has('bruised').count * 0.15; }
					if (this.has('cut up')) { chance += this.has('cut up').count * 0.15; }
					if (this.has('singed')) { chance += this.has('singed').count * 0.075; }
					if (this.has('seared')) { chance += this.has('seared').count * 0.15; }

					return chance;
				},
				text: 'Feeling [hopeless|useless|like on the edge of death], [1] takes out [1:their] bubbly cinnamon water infused with madness, and dumps a whole bunch down [1:their] throat! ',
				successFunc: function(cl, text) {
					this.has('extreme cinnamon soda').uses--;
					if (this.has('extreme cinnamon soda').uses <= 0 && Math.random() < 0.8) { this.lose('extreme cinnamon soda'); this.combat.overseer.injectBack('<br>[1] has drank all of [1:their] extreme cinnamon soda!'); }
					this.gain('frenzied');
					this.gain('determined');
					this.gain('high morale').duration = 100;
					this.gain('invigorated').power = 7;
					this.combat.overseer.injectColor('red');
					let newText = '';
					if (this.has('fallen')) { newText = 'And suddenly, against all odds, [1:they] stands up with a pained smile and uncannily dilated eyes...'; } else {
						newText = 'And suddenly, [1:their] eyes begin to dilate into an uncanny oval, accompanied by barrages of concerning muscle twitches!';
					}
					this.lose('fallen');
					this.healInjuries();
					this.cureAilments();
					return text + newText;
				},
				req: ['extreme_cinnamon_soda injured|ailed|sociopath !frenzied !invigorated '+hardDisables]
			});
			new G.move({
				chance: function() { return Math.pow(this.has('grieving').power, 0.3) * 0.3; },
				text: 'Seeing the deaths of [1:their] pet, [1] clutches [1:their] face in pain, before undergoing a dramatic transformation in stance... As one can observe from the rage written all over [1:their] face.<br>[1] has become enraged!',
				successFunc: function() { this.lose('grieving'); this.lose('dizzy'); this.lose('dazed'); this.gain('determined'); this.gain('frenzied'); },
				req: ['grieving able '+hardDisables]
			});
			G.adjustFuncs.recover = function(chance) {
				//more = less likely
				let pow = 1;
				pow += this.isInjured() * 0.1;
				pow += this.isAiled() * 0.2;
				if (this.has('clumsy')) { pow += 0.5; }
				if (this.has('meek')) { pow += 0.4; }
				if (this.has('suicidal')) { pow += 0.3; }
				if (this.has('weak')) { pow += 2; }
				if (this.has('vulnerable')) { pow += 2; }
				
				if (this.has('survivalist')) { pow *= 0.6; }
				if (this.has('bulky')) { pow *= 0.8; }
				if (this.has('defensive')) { pow *= 0.9; }
				if (this.has('determined')) { pow *= 0.9; }
				if (this.has('medic')) { pow *= 0.7; }
				if (this.has('haste') || this.has('ninja')) { pow *= 0.95; }
				if (this.has('invigorated')) { pow *= Math.pow(0.85, this.has('invigorated').power); }
				if (this.has('frenzied')) { pow *= 0.2; }
				
				return 1 - Math.pow(1 - chance, pow);
			}
			new G.move({
				chance: 1.5,
				text: '[1] [manages to shake|shakes] off [1:their] dizziness.',
				failText: '[1] [[tries [1:their] best to [stand up|recover]|tries to muster up the strength to stand], but just can\'t quite do it.|[struggles to recover, but failing.|is having trouble [recovering|standing up].]]',
				fail: function() {
					return this.adjust(0.5, 'recover');
				},
				successFunc: function() {
					this.lose('dazed');
				},
				req: ['dazed '+hardDisables]
			});
			new G.move({
				chance: function() {
					let chance = 2.5;
					if (this.has('frenzied')) { chance += 2.5; }
					if (this.has('invigorated')) { chance += 0.8 * this.has('invigorated').power; }

					return chance;
				},
				text: '[1] manages to [fairly quickly |]get up again.',
				failText: '[1] tries to get up, but [[1:they] stumbled while doing so and fell again|[1:they] couldn\'t quite do it|was too shaken to stand properly and fell again]!',
				fail: function() {
					return this.adjust(this.adjust(0.2, 'recover'), 'recover');
				},
				successFunc: function() {
					this.lose('fallen');
				},
				req: ['fallen '+hardDisables]
			});
			new G.move({
				chance: function() {
					let chance = 0.3;
					chance += this.isDisabled() * 0.1;
					chance += this.isAiled() * 0.05;
					chance += this.isInjured() * 0.1;
					return Math.min(chance, 1);
				},
				text: '[1] could no longer maintain a standing posture from the pain [1:they are] experiencing.',
				successFunc: function() {
					this.gain('fallen');	
					//console.log(this.isDisabled());
				},
				req: ['!able !fallen !frenzied !survivalist '+hardDisables]
			});
			new G.move({
				chance: 20,
				text: '[1] loses [1:their] balance and falls to the ground.',
				successFunc: function() {
					this.gain('fallen');
				},
				req: [hardDisables.slice(1, hardDisables.length)+' !fallen !hallucinating']
			})
			new G.move({
				text: '[1] mumbles incoherently, staring at nothing.',
				req: ['shell-shocked|hallucinating']
			});
			new G.move({
				chance: 1,
				text: '[1] [stares into the distance and mumbles some nonsense|runs in place, laughing hysterically|breaks down in tears|mourns about the endless expanse of nothing in front of [1:them]|clutches [1:their] face in imaginary pain|freezes in shock from the violent imagery in [1:their] eyes].',
				req: ['hallucinating']
			});
			new G.move({
				chance: 2,
				text: 'In a flash, the images on [1:their] eyes explodes into a fine mist.',
				req: ['hallucinating'],
				reqFunc: function() { return this.has('hallucinating').duration <= 0; }
			});
			new G.move({
				chance: 1,
				text: '[1]\'s icy tomb sits silently, staring at nowhere in particular.',
				req: ['deep_frozen']
			});
			new G.move({
				chance: 2,
				text: 'Suddenly, [1]\'s icy shell cracks as the spell weakens!<br>Before long, all of it crumbles into nothing, as [1:they] emerges from within.',
				req: ['deep_frozen'],
				reqFunc: function() { return this.has('deep frozen').duration <= 0; }
			});
			
			new G.move({
				chance: function() {
					if (!this.isDisabled()) { return 0; }
					return Math.pow(Math.max(this.isDisabled() * 0.3 + this.isInjured() * 0.1 + this.isAiled() * 0.05 - 0.25 - (this.has('determined')?1:0) - (this.has('frenzied')?2:0), 0), 1.5);
				},
				text: '[1] [loses consciousness|passes out|stops thinking|faints] from [1:their] injuries.',
				successFunc: function() {
					this.gain('unconscious');
				},
				req: ['!able !frenzied !unconscious|comatose|shell-shocked'],
			});
			new G.move({
				chance: 5,
				text: '[1] can feel the blood loss from [1:their] numerous injuries getting to [1:their] head...',
				successFunc: function() {
					this.gain('bleeding out');
					this.gain('fallen');
					this.combat.overseer.injectColor('red');
				},
				req: ['lacerated !survivalist !frenzied !fallen'],
				reqFunc: function() {
					let count = this.has('lacerated').count - 2 * Math.floor(Math.random() * 2);
					if (Math.random() * 4 > count) { return true; }
					return false;
				}
			});
			new G.move({
				chance: function() {
					let chance = 0.2;
					chance += 0.075 * this.isInjured();
					chance += 0.1 * this.isAiled();
					chance += 0.15 * this.isDisabled();
					return chance;
				},
				text: '[1] [finally |at last |]succumbs to [1:their] [extensive |]blood loss.',
				successFunc: function() { this.kill(this, 'gave up'); },
				req: ['bleeding_out any%0.2|unconscious%0.3 !survivalist']
			});
			new G.move({
				chance: function() {
					let chance = 0.01;
					chance *= Math.pow(this.has('crippled').count, 4);
					return chance;
				},
				text: 'Seeing the hopelessness of the situation, [1] closes [1:their] eyes, at last, for forever...',
				successFunc: function() { this.kill(this, 'gave up'); },
				req: ['crippled fallen !unconscious !survivalist']
			});
			new G.move({
				chance: function() {
					let chance = 0.2;
					chance *= this.has('crippled').count;
					return chance;
				},
				text: '[1] moved a little funny and [1:their] broken body couldn\'t take it, breaking into several life-threatening [wounds|sites of internal bleeding]......',
				successFunc: function() { this.gain('bleeding out'); },
				req: ['crippled fallen any%0.2|unconscious !survivalist']
			});
			new G.move({
				chance: function() {
					let chance = 0.2;
					chance *= Math.pow(this.has('burnt').count, 2);
				},
				text: 'Overwhelmed by pain and agony, [1] finally succumbs to [1:their] extensive burns.',
				successFunc: function() { this.kill(this, 'slow burn'); },
				req: ['seared burnt fallen any%0.05|unconscious%0.3 !survivalist']
			});
			new G.move({
				chance: 0.25,
				text: '[1] sleeps peacefully...',
				req: ['unconscious']
			});
			new G.move({
				chance: 1,
				text: '[1] sleeps peacefully, seemingly for the rest of eternity...<br>And perhaps, that might be the case.',
				req: ['comatose !dead !nihil']
			});
			new G.move({
				chance: 2.5,
				text: '[1] wakes up from [1:their] [dreamless |]slumber, and gets back up!',
				failText: '[1] is having a deep, dreamless sleep...',
				fail: function() { return this.adjust(0.2, 'recover'); },
				req: ['unconscious'],
				successFunc: function() { this.lose('unconscious'); this.lose('fallen'); }
			});
			G.moveDefault.chance = 10;
			new G.move({
				text: 'Much to [1]\'s disappointment, [1:their] skin\'s incredible durability fades as the spell loses its power...',
				successFunc: function() {
					this.lose('ironskin');
				},
				req: ['ironskin'],
				reqFunc: function() { return (this.has('ironskin').duration <= 0); }
			});
			new G.move({
				text: 'The high morale fades within [1]...',
				successFunc: function() {
					this.lose('high morale');
				},
				req: ['high_morale'],
				reqFunc: function() { return (this.has('high morale').duration <= 0); }
			});
			new G.move({
				text: '[1] muscles return to its original strength, finally freed of the curse placed on them.',
				successFunc: function() {
					this.lose('weak');
				},
				req: ['weak'],
				reqFunc: function() { return (this.has('weak').duration <= 0); }
			});
			new G.move({
				text: '[1] armor and skeleton hardens as [1:they are] finally freed from the vulnerability curse.',
				successFunc: function() {
					this.lose('vulnerable');
				},
				req: ['vulnerable'],
				reqFunc: function() { return (this.has('vulnerable').duration <= 0); }
			});
			new G.move({
				text: '[1] returns to [1:their] senses as the vivid imagery in [1:their] eyes fade, with the real world finally coming into view.',
				successFunc: function() {
					this.lose('hallucinating');
				},
				req: ['hallucinating'],
				reqFunc: function() { return (this.has('hallucinating').duration <= 0); }
			});
			new G.move({
				text: '[1] slowly descends back onto the ground as [1:their] levitating powers run dry...',
				successFunc: function() {
					this.lose('levitating');
				},
				req: ['levitating'],
				reqFunc: function() { return (this.has('levitating').duration <= 0); }
			});
			new G.move({
				text: '[Suddenly|Abruptly], [1] phases back into reality as [1:their] invisibility runs out! All eyes are on [1:them] now...',
				successFunc: function() {
					this.lose('invisible');
					this.gain('marked').perk.setDuration.call(this.has('marked'), 1);
				},
				req: ['invisible'],
				reqFunc: function() { return (this.has('invisible').duration <= 0); }
			});
			G.moveDefault.chance = 1;
			new G.move({
				chance: 1.5,
				text: 'Something about [1]\'s bullet wounds changes, and [suddenly|abruptly], [1:they] feels an immeasurable wave of pain wash over [1:them].',
				successFunc: function() { this.gain('crippled'); },
				req: ['shot any%0.5|meek !survivalist%0.5'],
				reqFunc: function(cl) {
					if (Math.random() < (1 - 1 / (this.has('shot').count + 1))) {
						return true;
					}
					return false;
				}
			});

			G.moveDefault.element = new G.element();
			//hand to hand combat
			G.moveAssets.hardHeadHit = function() {
				return function(cl, text) {
					let chance = 0.85;
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'overall');

					cl[1].gain('bruised'); 
					this.interrupt(cl[1]);
					if (Math.random() < Math.pow(chance, 5) && cl[1].isDisabled(true)) { this.kill(cl[1], 'fractured skull'); return text.replace('[S]', ', caving [2:their] head in'); }
					if (Math.random() < Math.pow(chance, 5) && !cl[1].isDisabled(true)) { cl[1].gain('unconscious'); return text.replace('[S]', ', causing [2:them] to [pass out|faint] on the spot'); }
					if (Math.random() < Math.pow(chance, 3)) { cl[1].gain('fallen'); cl[1].gain('dazed'); return text.replace('[S]', ', stunning and subsquently sending [2:them] onto the floor'); }
					if (Math.random() < chance) { 
						if (Math.random() < Math.pow(chance, 2)) { cl[1].gain('dazed'); return text.replace('[S]', ', stunning [2:them]'); }
						cl[1].gain('bruised'); 
						return text.replace('[S]', ', greatly bruising [2:them]'); 
					}
				}
			}
			G.moveAssets.mediumHeadHit = function() {
				return function(cl, text) {
					if (cl[1].has('knight armor')) { return; }
					
					let chance = 0.6;
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'overall');
					this.interrupt(cl[1]);

					cl[1].gain('bruised');
					if (Math.random() < Math.pow(chance, 3)) { cl[1].gain('dazed'); return text.replace('[S]', ', stunning [2:them]'); }
					if (Math.random() < chance) { cl[1].gain('dizzy'); return text.replace('[S]', ', making [2:them] really, really dizzy'); }
				}
			}
			G.moveAssets.hardBodyHit = function() {
				return function(cl, text) {
					let chance = 0.75; 
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');

					this.interrupt(cl[1]);
					cl[1].gain('bruised');
					if (Math.pow(chance, 5) > Math.random() && cl[1].isDisabled(true)) { this.kill(cl[1], 'overcompressed heart'); } 
					if (Math.pow(chance, 5) > Math.random() && !cl[1].isDisabled(true)) { cl[1].gain('unconscious'); return text.replace('[S]', ', knocking [2:them] out'); }
					if (Math.pow(chance, 3) > Math.random()) { cl[1].gain('dazed'); cl[1].gain('fallen'); return text.replace('[S]', ', stunning and knocking [2:them] down'); } 
					if (chance > Math.random()) { cl[1].gain('bruised'); return text.replace('[S]', ', heavily bruising [2:them]'); } 
				}
			}
			G.moveAssets.mediumBodyHit = function() {
				return function(cl, text) {
					if (cl[1].has('knight armor')) { return; }
					
					let chance = 0.45;
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');

					this.interrupt(cl[1]);
					if (chance > Math.random()) { cl[1].gain('bruised'); return text.replace('[S]', ', bruising [2]'); }
				}
			}
			G.moveAssets.readyForPunch = function(cl) {
				this.combat.moveInFrontOf(cl[1], Math.random() * 2 + 0.5);
				this.combat.vertical = cl[1].combat.vertical;
			}
			G.moveAssets.readyToWrestle = function(cl) {
				this.combat.moveInFrontOf(cl[1], 0.5);
				this.combat.vertical = cl[1].combat.vertical - 0.1;
			}
			G.moveAssets.veryCloseCombat = function(cl) {
				this.combat.moveInFrontOf(cl[1], (Math.random() - 0.5));
				this.combat.vertical = cl[1].combat.vertical + 0.05;
			}
			G.moveDefault.chance = 0.5;
			G.adjustFuncs.strength = function(chance) {
				let pow = 1;
				//since this is for successFuncs, more pow = more good
				if (this.has('bulky')) { pow += 1; }
				if (this.has('frenzied')) { pow += 1; }
				if (this.has('determined')) { pow += 0.35; }
				if (this.has('heroic')) { pow += 0.15; }
				if (this.has('invigorated')) { pow += 0.3 * this.has('invigorated').power; }

				if (this.has('weak')) { pow *= 0.25; }
				if (this.has('terrified')) { pow *= 0.6; }
				if (this.has('cowardly')) { pow *= 0.8; }
				if (this.has('bruised')) { pow *= 1 - this.has('bruised').count * 0.05; }
				pow *= Math.pow(0.95, this.isDisabled());
				pow *= Math.pow(0.95, this.isInjured());
				pow *= Math.pow(0.95, this.isAiled());

				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.defenseGen = function(chance) {
				//defense against simple physical attacks, e.g. fists, but also includes simple projectiles
				//more pow = more chance to die
				let pow = 1;
				if (this.has('frenzied')) { pow += 0.15; }
				if (this.has('vulnerable')) { pow += 3; }
				if (this.has('bruised')) { pow += 1 + this.has('bruised').count * 0.04; }
				pow += 0.4 * this.isDisabled();
				pow += 0.2 * this.isInjured();
				if (this.has('clumsy')) { pow *= 1.1; }
				
				if (this.has('kevlar vest')) { pow *= 0.8; }
				if (this.has('knight armor')) { pow *= 0.5; }
				if (this.has('combat gear')) { pow *= 0.5; }
				if (this.has('ironskin')) { pow *= 0.5; }
				if (this.has('kite shield') || this.has('riot shield')) { pow *= 0.85; }
				if (this.has('bulky')) { pow *= 0.75; }
				if (this.has('defensive')) { pow *= 0.75; }
				if (this.has('survivalist') || this.has('dapper suit')) { pow *= 0.95; }

				return 1 - Math.pow(1 - chance, pow);
			}
			new G.move({
				chance: 0.5,
				text: '[1] [punches|jabs at] [2][, squarely |, right | | | ]in the [face|jaw|chest|neck|nose|lips|left eye|right eye|cheeks|forehead|left shoulder|right shoulder|nipples][S]!',
				failText: '[1] tries to punch [2], but [missed|the punch was just a bit off]!',
				fail: function(cl) {
					if (cl[1].isDisabled(true)) { return 0; }
					return 0.4;
				},
				func: G.moveAssets.readyForPunch,
				pReq: ['h:3 v:0.25'],
				successFunc: G.moveAssets.mediumHeadHit(),
				req: ['any '+hardDisables, 'any']
			});
			new G.move({
				chance: 0.25,
				text: '[Uppercut! |||][1] smashes [1:their] fist right into [2]\'s [jaw|chest][S].',
				failText: '[1] [swings|arcs|curves] [1:their] fist upward in a [crescent |magnificent |||][arc|curve], but [2] [falls backward, [narrowingly|barely||] avoiding|avoids|avoids|dodges|dodges|maneuvers out of] the punch.',
				fail: function(cl) {
					if (cl[1].isDisabled(true)) { return 0; }
					if (cl[1].isDisabled()) { return 0; }
					let chance = 0.15;
					if (cl[1].has('ninja')) { chance -= 0.15; }
					chance = this.adjust(chance);
					return chance;
				},
				element: new G.element({
					y: 2,
					reach: 0.5,
					range: 1
				}),
				func: G.moveAssets.readyForPunch,
				successFunc: G.moveAssets.hardHeadHit(),
				pReq: ['h:2 v:0.25'],
				req: ['!peaceful|medic', 'any'],
			});
			new G.move({
				chance: 0.25,
				text: '[1] [hooks|curves|swings] [1:their] [fist|fist|hand] onto [2]\'s [head|skull|neck|sternum|ribcage][|| full force][S].',
				failText: '[1] tried to do a [hook|curve|swing] with [1:their] fist, but [went a bit too far|was not far enough]!',
				fail: function(cl) {
					if (cl[1].isDisabled(true)) { return 0; }
					let chance = 0.15;
					if (cl[1].has('ninja') || cl[1].has('marksmen')) { chance -= 0.1; }
					chance = this.adjust(chance);
					return chance;
				},
				func: G.moveAssets.readyForPunch,
				successFunc: G.moveAssets.hardHeadHit(),
				pReq: ['h:2 v:0'],
				req: ['!peaceful|medic', 'any']
			});
			new G.move({
				chance: 0.5,
				text: '[1] [makes|makes|performs|does|throws|throws] a [powerful |hard |||]punch at [2]\'s [chest|neck|torso|chest|neck|torso|left shoulder|right shoulder|left arm|right arm|belly button][S].',
				failText: '[1] [makes|makes|performs|does|throws|throws] [1:their] fist at [2]\'s [chest|neck|torso|chest|neck|torso|left shoulder|right shoulder|left arm|right arm|belly button], [but|but|but|however] [2] [dodged out of the way before it can hit|dodged out of the way|got out of the way in time|[thankfully |successfully ||]blocked the punch|[simply |]stepped to the side|swung [2:their] body 90 degrees].',
				fail: function(cl) { if (cl[1].isDisabled(true)) { return 0; } cl[1].adjust(this.adjust(0.35, 'overall'), 'dodge') },
				func: G.moveAssets.readyForPunch,
				successFunc: G.moveAssets.mediumBodyHit(),
				pReq: ['h:3 v:0.5'],
				req: ['able', 'any']
			});
			new G.move({
				chance: 0.25,
				text: '[1] [grabs [2] by|clutches [2] by] [2:their] [shoulders|arms|neck|head], and began pushing [2:them] backwards[S].',
				failText: '[1] [grabs [2] by|clutches [2] by] [2:their] [shoulders|arms|neck|head], but [2:they] managed to avoid it.',
				fail: function(cl) {
					if (cl[1].isDisabled(true)) { return 0; }
					let chance = 0.15;
					chance = this.adjust(chance, 'tryGrab');
					
					return chance;
				},
				func: G.moveAssets.readyToWrestle,
				successFunc: function(cl, text) {
					let chance = 0.6;
					chance = cl[1].adjust(this.adjust(chance, 'strength'));

					this.interrupt(cl[1]);
					if (Math.random() < chance) { cl[1].gain('fallen'); return text.replace('[S]', ', causing [2] to fall'); }
					return text.replace('[S]', '');
				},
				failFunc: function(cl) {
					this.gain('skipped');
				},
				pReq: ['h:2 v:0'],
				req: ['able%0.5|bulky|the_gift', '- able']
			});
			new G.move({
				chance: 0.5,
				text: '[1] [kicks|kicks|kicks|tries to stomp on] [2]\'s [chest|left leg|right leg|groin] hard[S]!',
				failText: '[1] [kicks|kicks|kicks|tries to stomp on] [2], [only to [unfortunately |]miss|but missed it][S]!',
				func: G.moveAssets.readyForPunch,
				successFunc: G.moveAssets.mediumBodyHit(),
				fail: function() {
					if (this.has('frenzied')) { return this.adjust(0.2); }
					return this.adjust(0.15);
				},
				failFunc: function(cl, text) {
					if (Math.random() < this.adjust(this.has('frenzied')?0.1:0.2, 'overall') && !this.has('fallen')) { this.gain('fallen'); return text.replace('[S]', ', bringing [1:themself] onto the ground in the process'); }
					return text.replace('[S]', '');
				},
				req: ['any%0.5|bulky|cursed_knife|frenzied '+hardDisables, 'any'],
				pReq: ['h:4 v:1']
			});
			new G.move({
				chance: 0.25,
				text: '[1] [head bonks|head smashes] [2]\'s [head|chest|left shoulder|right shoulder][S].',
				failText: '[1] [head bonks|smashes] [2], but [2] [is prepared and |saw it coming and |||][avoids it|smashes right back|takes the blow with elegance].',
				fail: function(cl) { if (cl[1].isDisabled(true)) { return 0; } return cl[1].adjust(this.adjust(0.4), 'defenseGen'); },
				func: G.moveAssets.readyForPunch,
				successFunc: function(cl, text) {
					let chance = 0.5;

					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'overall');
					this.interrupt(cl[1]);
					
					if (Math.random() < chance) {
						if (Math.random() < 0.4) {
							return G.moveAssets.hardBodyHit().call(this, cl, text);
						} else {
							return G.moveAssets.hardHeadHit().call(this, cl, text);
						}
					}
					if (this.has('knight armor') && cl[1].has('knight armor')) {
						if (Math.random() < 0.5) {
							this.lose('knight armor');
							cl[1].lose('knight armor');
							return text.replace('[S]', ', and breaking both\'s knight armor');
						}
						if (Math.random() < 0.5) {
							cl[1].lose('knight armor');
							return text.replace('[S]', ', also breaking [2:their] knight armor');
						}
						if (Math.random() < 0.5) {
							this.lose('knight armor'); 
							return text.replace('[S]', ', but breaking [1]\'s knight armor in the process');
						} 
					}
					return text.replace('[S]', '');
				},
				req: ['any%0.6 '+hardDisables, 'any%0.5|able'],
				pReq: ['h:6 v:1']
			});
			new G.move({
				chance: 0.25,
				text: '[1] [throws|makes] [several|many|many|several|quite a few|numerous|lots of|a flurry of] [quick |swift |light ||]punches at [2][S].',
				func: G.moveAssets.readyForPunch,
				successFunc: function(cl, text) {
					let landings = 0;
					let count = Math.floor(Math.random() * 4) + 4 + (this.has('ninja')?4:0) + (this.has('frenzied')?8:0);
					let chance = 0.6;
					
					chance = this.adjust(chance, 'overall');
					this.interrupt(cl[1]);
					
					for (let i = 0; i < count; i++) {
						if (Math.random() < chance) { landings++; } //fUnNy
					}
					let thresholds = [3, 6, 9, 12, 18];
					if (this.has('bulky')) { for (let i in thresholds) { thresholds[i] -= i * 2; } }
					if (cl[1].has('bulky')) { for (let i in thresholds) { thresholds[i] += 2; } }
					if (landings > thresholds[0]) { cl[1].gain('bruised'); return text.replace('[S]', ', which nets [2:them] several bruises.'); }
					if (landings > thresholds[1]) { cl[1].gain('dizzy'); return text.replace('[S]', ', making [2:them] quite dizzy.'); }
					if (landings > thresholds[2]) { cl[1].gain('bruised'); cl[1].gain('dizzy'); return text.replace('[S]', ', bruising [2:them] severely.'); }
					if (landings > thresholds[3]) { cl[1].gain('fallen'); cl[1].gain('bruised'); return text.replace('[S]', ', making [2:them] fall onto the ground.'); }
					if (landings > thresholds[4]) { this.kill(cl[1], 'cranial spillage'); return text.replace('[S]', ', causing [2]\'s death.'); }
				},
				pReq: ['h:5 v:1'],
				req: ['any%0.5|ninja%0.6|frenzied|suicidal%0.5 '+hardDisables, 'any']
			});
			new G.move({
				chance: 5,
				text: '[Seeing [2:their] weakness, |Noticing that [2:they] is weak, |Realizing that [2:they] is currently vulnerable, |||][1] stomps on [2][S]!',
				failText: '[Seeing [2:their] weakness, |Noticing that [2:they] is weak, |Realizing that [2:they] is currently vulnerable, |||][1] stomps on [2], but [somehow ||][2:they] [manages to [roll|get|dodge|pull [2:themself]|lurch]|successfully [rolls|got|dodges|pulls [2:themself]|lurchs]||quickly [rolls|got|dodges|pulls [2:themself]|lurchs]] out of [the way|the way|danger]!',
				fail: function() { return this.adjust(0.15); },
				func: G.moveAssets.veryCloseCombat,
				successFunc: function(cl, text) {
					let chance = 0.5;

					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');
					this.interrupt(cl[1]);
					cl[1].gain('bruised');
					if (Math.random() < chance) { cl[1].gain('bruised'); }
					if ((Math.random() < Math.pow(chance, 4) || (cl[1].has('crippled') && Math.random() < chance)) && cl[1].isDisabled(true)) {
						this.kill(cl[1], choose(['counterproductive CPR', 'too many broken bones', 'mashed heart', 'internal bleeding', 'internal bleeding', 'pulped tissue', 'rampant hemorrhaging']));
						return text.replace('[S]', ', killing [2:them]!');
					}
					if (Math.random() < Math.pow(chance, 3) || (cl[1].has('crippled') && Math.random() < Math.pow(chance, 3))) {
						cl[1].gain('unconscious');
						return text.replace('[S]', ', sending [2:them] into the world of dreams!');
					}
					if (Math.random() < Math.pow(chance, 2) || (cl[1].has('crippled') && Math.random() < Math.pow(chance, 2))) {
						cl[1].gain('broken');
						return text.replace('[S]', ', breaking [2:their] [ribs|neck]');
					}
					if (Math.random() < chance && !cl[1].has('crippled')) {
						cl[1].gain('bruised');
						return text.replace('[S]', ', greatly bruising [2:them]');
					}
				},
				req: ['able%0.6|frenzied|sociopath|bulky%0.2 !peaceful|meek%0.5|fallen '+hardDisables, '- fallen inCombat !out'],
				pReq: ['h:5 v:1']
			});
			new G.move({
				chance: 1,
				text: '[Seeing [2:their] weakness, |Noticing that [2:they] is weak, |Realizing that [2:they] is currently vulnerable, |||][1] [grabs [2] in|grabs [2] in|holds [2] in|gets [2] into|forces [2] into] a [choke |deadly ||choke |deadly ||choke |deadly ||intimate ]hold[ with [1:their] bare hands| using [2:their] body weight|][S]!',
				failText: '[Seeing [2] weakness, |Noticing that [2] is weak, |Realizing that [2] is currently vulnerable, |||][1] [tries|tries|attempts] to [grab|grab|hold] [2:them], but [somehow ||][2:they] [manages to [roll|get|dodge|pull [2:themself]|lurch]|successfully [rolls|got|dodges|pulls [2:themself]|lurchs]||quickly [rolls|got|dodges|pulls [2:themself]|lurchs]|] out of [the way|the way|danger]!',
				fail: function() { return this.adjust(0.15, 'tryGrab'); },
				func: G.moveAssets.veryCloseCombat,
				successFunc: function(cl, text) {
					let chance = 0.75;
					chance = cl[1].adjust(this.adjust('tryGrab'), 'dodge');
					this.interrupt(cl[1]);
					
					if (Math.random() < Math.pow(chance, 4) && cl[1].isDisabled(true)) {
						this.kill(cl[1], 'suffocation');
						return text.replace('[S]', ', suffocating [2:them] to death!');
					}
					if (Math.random() < Math.pow(chance, 2)) {
						cl[1].gain('unconscious');
						return text.replace('[S]', ', eventually knocking out [2:them], but not being able to quite kill [2:them]');
					}
					if (Math.random() < chance) {
						cl[1].gain('dizzy');
						return text.replace('[S]', ', making [2:them] very dizzy');
					}
				},
				req: ['any%0.2|frenzied%0.5|sociopath|bulky%0.2|medic%0.2 !peaceful|meek%0.5|clumsy%0.5 '+hardDisables, '- !able inCombat !out'],
				pReq: ['h:6 v:1']
			});

			//savage kill methods (devious/sociopath path) - CS
			let deviousKiller = 'sociopath|devious%0.6|inventor%0.3|able%0.02 !peaceful|meek%0.5|clumsy%0.5';
			G.adjustFuncs.tryGrab = function(chance) {
				let pow = 1;
				if (this.has('bruised')) { pow += 0.1 * this.has('bruised').count; }
				if (this.has('crippled')) { pow += 0.5; }
				if (this.has('clumsy')) { pow += 0.5; }
				if (this.has('cowardly')) { pow += 0.1; }
				if (this.has('plot armor')) { pow += 0.5; }
				if (this.has('dazed')) { pow += 0.5; }
				if (this.has('dizzy')) { pow += 0.35; }
				pow += 0.05 * this.isDisabled();
				pow += 0.035 * this.isAiled();
				if (this.has('blind')) { pow += 2; }
				if (this.has('weak')) { pow += 2; }

				if (this.has('frenzied')) { pow *= 0.65; }
				if (this.has('alert')) { pow *= 0.4; }
				if (this.has('haste')) { pow *= 0.9; }
				if (this.has('ninja')) { pow *= 0.8; }
				if (this.has('marksmen')) { pow *= 0.8; }
				
				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.dodge = function(chance) {
				//modifies chance based on how well they are at dodging (NOTE: higher pow = better dodging)
				//funny function that can potentially make your chance of dodging 0 (but I think this is a good thing since having bloodied people lying very much almost dead on the ground barely surviving somehow still dodging bullets is bruh
				let pow = 1;
				
				if (this.has('cute') || this.has('seductive') || this.has('artist')) { pow += 0.1; }
				if (this.has('haste')) { pow += 0.2; }
				if (this.has('ninja')) { pow += 0.4; }
				if (this.has('survivalist')) { pow += 0.6; }
				if (this.has('vigilant')) { pow += 0.8; }
				if (this.has('defensive')) { pow += 0.4; }
				if (this.has('alert')) { pow += 2; }
				
				if (this.isDisabled(true)) { pow *= 0.01; }
				if (this.has('frenzied')) { pow *= 0.8; }
				if (this.has('dazed')) { pow *= 0.85; }
				if (this.has('dizzy')) { pow *= 0.9; }
				if (this.has('blind') || this.has('crippled') || this.has('missing leg')) { pow *= 0.2; }
				if (this.has('bulky')) { pow *= 0.9; }
				if (this.has('bruised')) { pow *= Math.pow(0.9, this.has('bruised').count); }
				if (this.has('vulnerable')) { pow *= 0.7; }
				if (this.has('weak')) { pow *= 0.7; }
				pow *= Math.pow(0.75, this.isDisabled()); 

				return 1 - Math.pow(1 - chance, pow);
			};
			G.moveAssets.checkTryGrab = function(cl) { return cl[1].adjust(this.adjust(0.25, 'tryGrab'), 'dodge'); };
			new G.move({
				chance: 1,
				text: 'Seeing [2]\'s weakness, [1] puts a tourniquet around [2]\'s neck[S]!',
				failText: 'Seeing [2]\'s weakness, [1] tries to grab [2:them], but somehow [2:they] manages to roll out of the way!',
				fail: G.moveAssets.checkTryGrab,
				func: G.moveAssets.veryCloseCombat,
				successFunc: function(cl, text) {
					let chance = 0.6;
					this.interrupt(cl[1]);
					if (Math.random() < chance) {
						this.lose('tourniquet');
						this.kill(cl[1], 'stagnant brain');
						return text.replace('[S]', ', killing [2:them]');
					}
					this.combat.overseer.injectBack(' Luckily, [2] manages to remove it before its too late.');
				},
				pReq: ['h:6 v:1'],
				req: [deviousKiller+' tourniquet', '- fallen !deep_frozen'],
			});
			new G.move({
				chance: 1,
				text: 'Seeing [2]\'s weakness, [1] grabs a hold of [2:them] and shoves [1:their] freezing sapphire down [2:their] throat! [1] breaks out an evil smile as crystals of ice begin growing out of [2]\'s lifeless corpse...',
				failText: 'Seeing [2]\'s weakness, [1] tries to grab a hold of [2:them], but [[2] desperately fought back, eventually managing to get [1] off [2:them]!|[2] [rolls|crawls] out of the way.]',
				fail: G.moveAssets.checkTryGrab,
				successFunc: function(cl) {
					this.lose('freezing sapphire');
					this.interrupt(cl[1]);
					this.kill(cl[1], 'glacial stasis');
					cl[1].gain('confirmed');
				},
				func: G.moveAssets.veryCloseCombat,
				pReq: ['h:6 v:1'],
				req: [deviousKiller+' freezing_sapphire', '- fallen !deep_frozen']
			});
			new G.move({
				chance: 1,
				text: 'Seeing [2]\'s weakness, [1] grabs a hold of [2:them] and uses [1:their] AED on [2:them], briefly hotwiring it for the highest voltage, breaking the AED in the process.',
				failText: 'Seeing [2]\'s weakness, [1] tries to grab a hold of [2:them], but [[2] desperately fought back, eventually managing to get [1] off [2:them]!|[2] [rolls|crawls] out of the way.]',
				fail: G.moveAssets.checkTryGrab,
				successFunc: function(cl) {
					this.lose('AED');
					this.interrupt(cl[1]);
					this.kill(cl[1], 'malicious resuscitation');
				},
				func: G.moveAssets.veryCloseCombat,
				pReq: ['h:6 v:1'],
				req: [deviousKiller+' AED', '- fallen !deep_frozen']
			});
			new G.move({
				chance: 1,
				text: 'Seeing [2]\'s weakness, [1] wrestles [2:them] to immobility and drains [1:their] entire cabinet of medicines down [2]\'s gut! [S]',
				failText: 'Seeing [2]\'s weakness, [1] tries to grab a hold of [2:them], but [[2:they] desperately fought back, eventually managing to get [1] off [2:them]!|[2:they] [rolls|crawls] out of the way.]',
				fail: G.moveAssets.checkTryGrab,
				successFunc: function(cl, text) {
					this.lose('medicine');
					if (Math.random() < 0.5) {
						cl[1].gain('dizzy');
						return text.replace('[S]', 'Luckily, [2] manages to [vomit|throw up] most of the medicine before the chaos can get to [2:their] bloodstream, but the small fraction that did manage to infilterate [2:their] body still leaves [2:them] dizzy.');
					}
					this.interrupt(cl[1]);
					this.kill(cl[1], 'overdose');
				},
				func: G.moveAssets.veryCloseCombat,
				pReq: ['h:6 v:1'],
				req: [deviousKiller+' AED', '- fallen !deep_frozen']
			});
			new G.move({
				chance: 1,
				text: 'Seeing [2]\'s weakness, [1] tackles [2:them] to the ground and holds [2:their] struggles with [1:their] body, then holds [1:their] filled high pressure garden hose into [2:their] mouth!',
				failText: 'Seeing [2]\'s weakness, [1] tried to tackle [2:them], but [2:they] managed to avoid it.',
				fail: G.moveAssets.checkTryGrab,
				successFunc: function(cl, text) {
					this.interrupt(cl[1]);
					this.has('high pressure garden hose').charges--;
					this.kill(cl[1], 'brainwashed');
				},
				func: G.moveAssets.veryCloseCombat,
				reqFunc: function() {
					return this.has('high pressure garden hose').charges > 0;
				},
				pReq: ['h:6 v:1'],
				req: [deviousKiller+' high_pressure_garden_hose', '- fallen !deep_frozen']
			});
			new G.move({
				chance: 2,
				text: 'Seeing the gasoline that covers [2]\'s, [1] grabs a hold of [2:them] and [casually |]lights [2:them] on fire! [1] is visibly delighted to hear [2:their] [desperate |][screams|screams|pleads] as [2:they] burns [2:their] life away...',
				failText: 'Seeing [2]\'s weakness, [1] tries to grab a hold of [2:them], but [[2] desperately fought back, eventually managing to get [1] off [2:them]!|[2] [rolls|crawls] out of the way.]',
				fail: G.moveAssets.checkTryGrab,
				successFunc: function(cl) {
					cl[1].lose('oiled');
					this.kill(cl[1], 'reduced to ashes');
				},
				func: G.moveAssets.veryCloseCombat,
				pReq: ['h:6 v:1'],
				req: ['sociopath|devious%0.6|inventor%0.3|able%0.5 !peaceful|meek%0.5|clumsy%0.5 able%0.5|pyromania|flamethrower%0.5', '- fallen oiled !deep_frozen']
			});

			//finishing moves
			new G.move({
				chance: 9,
				text: 'Seeing [2] all knocked out, [1] runs toward [2][ in an opportunistic frenzy|]!',
				func: function(cl) {
					this.combat.moveToward(cl[1], Math.random() * 10 + 10);
				},
				pReq: ['e:1/100'],
				req: ['able able%0.5|frenzied|devious%0.5|sociopath '+hardDisables, 'out|unconscious fallen *able|out !deep_frozen']
			});
			new G.move({
				chance: function() {
					let chance = 0.6;
					if (this.has('frenzied')) { chance = 0; }
					if (this.has('devious')) { chance *= 0.9; }
					if (this.has('sociopath')) { chance *= 0.6; }
					return (1 - chance) * 6 * (this.has('charismatic')?0.5:1);
				},
				text: '[Seeing [2] all knocked out|As [2] is currently unconscious|While [2] is still vulnerable], [1] decides to [finish it once and for all|finally|at last] [take [2:their] life|kill [2:them] right then and there|ends it with [2:them]|finishes [2:them]]!',
				successFunc: function(cl) {
					this.interrupt(cl[1]);
					this.kill(cl[1], choose(['merciful asphyxation', 'collapsing brain', 'severed neck', 'heart transplant donor', 'mummified', 'buried alive', 'leaky blood transfusion', 'ice scream scooped', 'blood drained', 'stimulated exposed nerves', 'asphyxiation', 'guillotined', 'cranial spillage', 'kicked till dead', 'inverted organs', 'emulsified lungs']));
				},
				func: G.moveAssets.veryCloseCombat,
				pReq: ['e:2'],
				req: ['able !peaceful%0.8', 'out|unconscious *able|out fallen !deep_frozen|ignorable']
			});
			new G.move({
				chance: 4.5,
				text: '[Seeing [2] all knocked out|As [2] is currently unconscious|While [2] is still vulnerable], [1] [decides to finish [2:them] - but have a better idea instead|have a great idea|thought of something better]. <br>[1] [heals and |]wakes up [2], offering [2:them] to join [1:their] team!<br>Seeing that [2:they] have no choices, [2:they] [reluctantly |]accepts. [2] now fights by [1]\'s side!',
				failText: '[Seeing [2] all knocked out|As [2] is currently unconscious|While [2] is still vulnerable], [1] [decides to finish [2:them] - but have a better idea instead|have a great idea|thought of something better]. <br>[1] [heals and |]wakes up [2], offering [2:them] to join [1:their] team!<br>[However|However|Nonetheless], [2] [is no coward and |loves [2:their] team and |feels responsible and |will never betray them and |][says [absolutely |]not|valiantly refuses|firmly declines|politely says no|spits on [1:their] face|is disgusted at the idea].',
				fail: function(cl) {
					let chance = 0.75;
					if (cl[1].has('cowardly')) { chance *= 0.6; }
					if (cl[1].has('peaceful')) { chance *= 0.75; }
					if (cl[1].has('sociopath')) { chance *= 0.75; }
					if (cl[1].has('devious')) { chance *= 0.85; }
					if (cl[1].has('survivalist')) { chance *= 0.85; }
					if (cl[1].has('disillusioned')) { chance *= 0.1; }
					if (cl[1].has('leader')) { chance *= 0.1; }
					if (cl[1].has('hypnotized')) { chance *= 0.1; }

					return (1 - chance);
				},
				successFunc: function(cl) {
					cl[1].lose('unconscious');
					cl[1].lose('fallen');
					cl[1].switchTeam(this.trueTeam);
					cl[1].gain('coerced');

					for (let i in this.combat.overseer.participants) {
						if (this.combat.overseer.participants[i].team != this.team) {
							return;
						}
					}

					for (let i = this.combat.overseer.participants.length - 1; i >= 0; i--) {
						if (!this.combat?.overseer) { return; }
						if (this.combat.overseer.participants[i] == this) { continue; }
						//console.log(this.combat); console.log(this.combat.overseer); console.log(this.combat.overseer.participants[i]);
						this.combat.overseer.participants[i].fleeCombat(true);
					}
				},
				func: G.moveAssets.veryCloseCombat,
				pReq: ['e:2'],
				req: ['able able%0.05|disillusioned%0.05|charismatic|peaceful%0.2 !hypnotized', 'out|unconscious *able|out fallen any%0.8|cowardly !coerced !deep_frozen|ignorable'],
				reqFunc: function() {
					return true;
				}
			});

			//stick & pitchfork
			G.adjustFuncs.useSpearhead = function(chance) {
				let pow = 1;
				//remember, more pow = less chance to succeed
				if (this.has('clumsy')) { pow += 0.3; }
				if (this.has('cowardly')) { pow += 0.1; }
				if (this.has('plot armor')) { pow += 0.5; }
				if (this.has('knight armor')) { pow += 0.1; }
				if (this.has('dazed')) { pow += 0.3; }
				if (this.has('dizzy')) { pow += 0.2; }
				pow += 0.05 * this.isDisabled();
				pow += 0.035 * this.isAiled();
				if (this.has('blind')) { pow += 1; }
				if (this.has('weak')) { pow += 2; }

				if (this.has('analytical')) { pow *= 0.55; }
				if (this.has('marksmen')) { pow *= 0.75; }
				if (this.has('ninja')) { pow *= 0.85; }
				if (this.has('haste')) { pow *= 0.75; }
				//bulky is generally equal
				if (this.has('frenzied')) { pow *= 0.65; }
				if (this.has('determined')) { pow *= 0.85; }
				if (this.has('invigorated')) { pow *= Math.pow(0.85, this.has('invigorated').power); }
	
				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.swing = function(chance) {
				let pow = 1;
				//remember, more pow = less chance to succeed
				if (this.has('clumsy')) { pow += 0.3; }
				if (this.has('cowardly')) { pow += 0.1; }
				if (this.has('plot armor')) { pow += 0.5; }
				if (this.has('knight armor')) { pow += 0.1; }
				if (this.has('dazed')) { pow += 0.3; }
				if (this.has('dizzy')) { pow += 0.2; }
				pow += 0.2 * this.isDisabled(); 
				pow += 0.15 * this.isAiled(); 
				if (this.has('blind')) { pow += 0.25; }
				if (this.has('weak')) { pow += 2; }
				
				if (this.has('analytical')) { pow *= 0.8; }
				if (this.has('marksmen')) { pow *= 0.85; }
				if (this.has('ninja')) { pow *= 0.7; }
				if (this.has('haste')) { pow *= 0.75; }
				if (this.has('bulky')) { pow *= 0.55; }
				if (this.has('frenzied')) { pow *= 0.65; }
				if (this.has('heroic')) { pow *= 0.75; }
				if (this.has('invigorated')) { pow *= Math.pow(0.8, this.has('invigorated').power); }
	
				return 1 - Math.pow(1 - chance, pow);
			};
			new G.move({
				chance: 3,
				text: '[1] slams [1:their] big stick right down [2]\'s [skull|head][S].',
				failText: '[1] slams down [1:their] big stick at [2], but only managed to [kick off dirt in all directions|hit the ground].',
				element: new G.element({
					y: 2,
					reach: 1, 
					range: 1,
					delay: 1.5,
					size: 2
				}),
				fail: function(cl) { return cl[1].adjust(this.adjust(0.5, 'useSpearhead'), 'dodge'); },
				req: ['big_stick'],
				func: function(cl) {
					this.combat.moveInFrontOf(cl[1], Math.floor(Math.random() * 3 + 1));
				},
				successFunc: function(cl, text) {
					let chance = 0.9; //chance to do stuff idk
					chance = cl[1].adjust(this.adjust('strength'), 'defenseGen');
					this.interrupt(cl[1]);
					
					if (Math.random() < chance) {
						if (cl[1].has('knight armor')) { cl[1].lose('knight armor'); return text.replace('[S]', ', breaking [2:their] knight armor in the process!'); }
						if (Math.random() < Math.pow(chance, 4)) { this.kill(cl[1], 'fractured skull'); return; }
						cl[1].gain('dazed'); return text.replace('[S]', ', [sending [2:them] into unconsciousness|knocking [2:them] out]');
					}
				},
				pReq: ['e:10']
			});
			new G.move({
				chance: 2,
				text: '[1] [swings|flails] [1:their] big stick at [2], hitting [2:them][S].',
				failText: '[1] [swings|flails] [1:their] big stick at [2], but it missed and hit nothing.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.2, 'swing'), 'dodge'); },
				req: ['big_stick any '+hardDisables],
				func: function(cl) {
					this.combat.moveInFrontOf(cl[1], Math.floor(Math.random() * 5 + 2));
				},
				successFunc: function(cl, text) {
					let chance = 0.5; 

					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');
					this.interrupt(cl[1]);
					if (Math.random() < chance) {
						cl[1].gain('bruised');
					}
					if (Math.random() < chance) {
						if (cl[1].has('knight armor') && Math.random() < chance) { cl[1].lose('knight armor'); return text.replace('[S]', ' breaking [2:their] knight armor in the process!'); }
						cl[1].gain('bruised'); cl[1].gain('fallen'); return text.replace('[S]', ' and [knocking|catapulting] [2:them] onto the [ground|floor]');
					}
				},
				pReq: ['p:15']
			});
			new G.move({
				chance: 4,
				text: '[1] [pokes|thrusts|shoves|aims|bashes] [1:their] pitchfork at [2][S].',
				failText: '[1] [pokes|thrusts|shoves|aims] [1:their] pitchfork at [2], but it missed.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.25, 'useSpearhead'), 'dodge'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.floor(Math.random() * 3 + 5)); },
				successFunc: function(cl, text) {
					let chance = 0.5;
					
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');
					this.interrupt(cl[1]);

					if (Math.random() < Math.pow(chance, 3) && cl[1].has('fallen')) {
						this.kill(cl[1], 'pitchforked');
						return text.replace('[S]', ', piercing [2:their] vital organs');
					}
					if (Math.random() < Math.pow(chance, 2) && !cl[1].has('fallen')) {
						cl[1].gain('fallen');
						return text.replace('[S]', ', [pushing|getting] [2:them] onto the ground');
					}
					if (Math.random() < chance) {
						cl[1].gain('cut up'); cl[1].gain('cut up');
						return text.replace('[S]', ', which sees blood');
					}
				},
				req: ['pitchfork any '+hardDisables, '- any'],
				pReq: ['d:5']
			});
			new G.move({
				chance: 6,
				text: '[1] uses [1:their] pitchfork to keep [2] away from [1:them].',
				successFunc: function(cl) { 
					cl[1].combat.moveToward(this, -8); 
				},
				req: ['pitchfork any|cowardly !able%0.75 '+hardDisables, '- any'],
				pReq: ['d:2/6']
			});

			//slingshot (2 moves)
			//bad move, meant to be a slingshot nerfer
			new G.move({
				chance: 1,
				text: '[1] gathers ammo for [1:their] slingshot.',
				element: G.moveAssets.elements.alone,
				req: ['slingshot !scrappy|vigilant%0.4|frenzied%0.5']
			});
			G.adjustFuncs.simpleProjectile = function(chance) {
				let pow = 1;
				if (this.has('clumsy')) { pow += 0.5; }
				if (this.has('plot armor')) { pow += 0.5; }
				if (this.has('dizzy')) { pow += 0.5; }
				pow += 0.5 * this.isDisabled(); 
				if (this.has('blind')) { pow += 5; }
				if (this.has('weak')) { pow += 1; }
				
				if (this.has('marksmen')) { pow *= 0.5; }
				if (this.has('the gift')) { pow *= 0.85; }
				if (this.has('vigilant')) { pow *= 0.95; }

				return 1 - Math.pow(1 - chance, pow);
			};
			//at last, a real need for moves that move you away from someone
			new G.move({
				chance: 0.1,
				text: '[1] [walks away|tries to keep distance] from [2].',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], -10);
				},
				req: ['able able%0.025|cowardly%0.25|slingshot%0.125|handgun%0.05|flamethrower%0.075|grenade%0.15|magic_wand%0.025|topaz_on_a_stick%0.125|rocket_launcher%0.15|lasergun%0.1|ancient_scepter%0.025'],
				pReq: ['h:10 v:1']
			});
			let runAwayChanceFunc = function () {
				let base = 0.25;
				if (this.has('cowardly')) { base += 1.25; }
				if (this.has('slingshot')) { base += 0.5; }
				if (this.has('handgun')) { base += 0.5; }
				if (this.has('grenade')) { base += 1; }
				if (this.has('magic wand')) { base += 0.5; }
				if (this.has('topaz on a stick')) { base += 0.5; }
				if (this.has('rocket launcher')) { base += 0.75; }
				if (this.has('lasergun')) { base += 0.35; }
				if (this.has('ancient scepter')) { base += 0.1; }

				let inverseMult = 10;
				inverseMult = Math.pow(inverseMult, 1 / (1 + this.isInjured() * 0.4 + this.isAiled() * 0.25));

				return base / inverseMult;
			}
			new G.move({
				chance: runAwayChanceFunc,
				text: '[1] [runs away|is getting as far away as possible|is trying to get away] from [2].',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], -30 * (-30 * Math.random()));
				},
				req: ['able'],
				pReq: ['h:5 v:1']
			});
			new G.move({
				chance: runAwayChanceFunc,
				text: '[1] [runs away|is getting as far away as possible|is trying to get away] from [2].',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], -30 * (-30 * Math.random()));
				},
				req: ['able'],
				pReq: ['h:5 v:1']
			});
			new G.move({
				chance: function() {
					let base = 1.5;
					if (this.has('cowardly')) { base += 0.75; }
					if (this.has('slingshot')) { base += 0.2; }
					if (this.has('handgun')) { base += 0.2; }
					if (this.has('grenade')) { base += 0.3; }
					if (this.has('magic wand')) { base += 0.2; }
					if (this.has('topaz on a stick')) { base += 0.2; }
					if (this.has('rocket launcher')) { base += 0.2; }
					if (this.has('lasergun')) { base += 0.15; }
					if (this.has('ancient scepter')) { base += 0.1; }

					let inverseMult = 50;
					inverseMult = Math.pow(inverseMult, 1 / (1 + this.isDisabled() * 0.9 + this.isInjured() * 0.6 + this.isAiled() * 0.3));

					return base / inverseMult;
				},
				text: '[1] [crawls away|tries to crawl away|huddles along the floor to get away] from [2].',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], -10 - Math.random() * 10);
				},
				req: ['!able '+hardDisables],
				pReq: ['h:5 v:1']
			});
			new G.move({
				chance: 4,
				text: '[1] [pelts|attacks] [2] with pebbles from [1:their] slingshot. [S]',
				failText: '[1] tries to shoot [2] with [1:their] slingshot, but the shots all missed.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.5, 'simpleProjectile'), 'dodge'); },
				successFunc: function(cl, text) {
					let chance = 0.4;
					if (this.has('marksmen')) { chance += 0.1; }
					if (cl[1].has('knight armor') || cl[1].has('combat gear') || cl[1].has('kevlar vest') || cl[1].has('ironskin')) { return text.replace('[S]', 'However, due to [2]\'s defensive clothing, those pebbles had no effect!'); }
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');

					this.interrupt(cl[1]);
					
					if (Math.random() < chance) { cl[1].gain('bruised'); return text.replace('[S]', 'The pebbles managed to bruise [2:them]!'); }
					if (Math.random() < chance) { cl[1].gain('fallen'); return text.replace('[S]', 'The pebbles managed to knock over [2:them]!'); }
					if (Math.random() < Math.pow(chance, (this.has('marksmen')?2:4))) { cl[1].gain('dazed'); return text.replace('[S]', 'The pebbles managed to hit [2:them] right on the head, stunning [2:them]!'); }
				},
				req: ['slingshot able|any%0.5 '+hardDisables, 'any'],
				pReq: ['p:5/100']
			});

			//pets general
			G.moveDefault.element = G.moveAssets.elements.alone;
			G.moveDefault.successFunc = function() { this.gain('determined'); }
			new G.move({
				chance: 4,
				text: 'Seeing [1:their] pet rock\'s [cute stare|round body|lifeless body], [1] fills with determination!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('determined');
				},
				req: ['pet_rock !determined any%0.4|animal_ken '+hardDisables]
			});
			new G.move({
				chance: 15,
				text: 'Seeing [1:their] pet turtle\'s [trusting stare|snubby shell|curious head|small body], [1] fills with determination!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('determined');
				},
				req: ['pet_turtle !determined any%0.4|animal_ken '+hardDisables]
			});
			new G.move({
				chance: 2.5,
				text: 'Inspired by [1:their] pet hawk\'s [watchful eye|unstoppable conviction], [1] fills with determination!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('determined');
				},
				req: ['pet_hawk !determined any%0.4|animal_ken '+hardDisables]
			});
			new G.move({
				chance: 2,
				text: 'Captivated by [1:their] pet wolf\'s [royalty|fierceness|anger], [1] fills with determination!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('determined');
				},
				req: ['pet_wolf !determined any%0.4|animal_ken '+hardDisables]
			});

			G.moveDefault.element = new G.element();
			G.moveDefault.successFunc = function() { }
			//pet rock (1 move)
			new G.move({
				chance: 4,
				text: '[1] [lobs|throws|launches] [1:their] pet rock at [2][S]![T]',
				failText: '[1] [lobs|throws|launches] [1:their] pet rock at [2], but it missed!',
				fail: function(cl) { return cl[1].adjust(0.2, 'dodge'); },
				successFunc: function(cl, text) {
					let chance = 0.7;
					if (this.has('analytical')) { chance += 0.15; }
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');

					this.interrupt(cl[1]);
					let toFind = (Math.random() < 0.5);
					if (cl[1].has('knight armor') && Math.random() < chance) { this.lose('pet rock'); cl[1].lose('knight armor'); return text.replace('[T]', '') + ' The rock impacts [2]\'s knight armor and shatters, bringing [2:their] armor down with it!'; }
					if (!toFind) { this.lose('pet rock'); }
					if (Math.random() < chance) { cl[1].gain('bruised'); return text.replace('[S]', ', bruising [2:them]').replace('[T]', toFind?'':' [1] loses track of [1:their] pet rock, and it is never found again.'); }
					if (Math.random() < chance) { cl[1].gain('fallen'); if (Math.random() < chance) { cl[1].gain('dizzy'); } return text.replace('[S]', ', knocking [2:them] onto the ground').replace('[T]', toFind?'':' [1] loses track of [1:their] pet rock, and it is never found again.'); }
					if (Math.random() < chance) { this.lose('pet rock'); this.kill(cl[1], 'fractured skull'); return text.replace('[S]', ', hitting [2:them] and shattering right on the head').replace('[T]', ''); }
					return text.replace('[T]', '');
				},
				req: ['pet_rock !determined any%0.75|sociopath '+hardDisables, 'any'],
				pReq: ['p:5/50 d:2/80']
			});

			//fun stabbing weapons (shuriken melee, cursed knife, scrap metal, sword jousting)
			G.adjustFuncs.stabAccuracy = function(chance) {
				let pow = 1;

				if (this.has('clumsy')) { pow += 0.4; }
				if (this.has('peaceful')) { pow += 0.3; }
				if (this.has('meek')) { pow += 0.2; }
				if (this.has('blind')) { pow += 2; }
				if (this.has('dizzy')) { pow += 0.5; }
				if (this.has('dazed')) { pow += 0.5; }
				if (this.has('bruised')) { pow += this.has('bruised').count * 0.05; }
				if (this.has('weak')) { pow += 0.5; }

				if (this.has('haste')) { pow *= 0.8; }
				if (this.has('marksmen')) { pow *= 0.8; }
				if (this.has('frenzied')) { pow *= 0.6; }
				if (this.has('determined')) { pow *= 0.7; }
				console.log(chance)
				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.stabDamage = function(chance) { 
				//mainly about accuracy of stabbing vital organs; more pow = better
				let pow = 1;
				if (this.has('bulky')) { pow += 0.2; }
				if (this.has('the gift')) { pow += 0.2; } //FIRE
				if (this.has('haste')) { pow += 0.3; }
				if (this.has('marksmen')) { pow += 0.4; }
				if (this.has('analytical')) { pow += 0.4; }
				if (this.has('ninja')) { pow += 0.4; }
				if (this.has('frenzied')) { pow += 0.5; }
				if (this.has('determined')) { pow += 0.1; }
				if (this.has('invigorated')) { pow += 0.15 * this.has('invigorated').power; }

				if (this.has('clumsy')) { pow *= 0.75; }
				if (this.has('peaceful')) { pow *= 0.9; }
				if (this.has('meek')) { pow *= 0.9; }
				if (this.has('blind')) { pow *= 0.2; }
				if (this.has('dizzy')) { pow *= 0.85; }
				if (this.has('dazed')) { pow *= 0.85; }
				if (this.has('weak')) { pow *= 0.5; }
				pow *= Math.pow(0.95, this.isDisabled());
				pow *= Math.pow(0.85, this.isAiled());

				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.stabDefense = function(chance) {
				//very significant; more pow = more chances to die
				//intended for body (how do you stab a head, anyways)
				let pow = 1;
				if (this.has('vulnerable')) { pow += 3; }
				if (this.has('meek') || this.has('clumsy')) { pow += 0.25; }
				
				if (this.has('knight armor')) { pow *= 0.3; }
				if (this.has('combat gear') || this.has('kevlar vest')) { pow *= 0.6; }
				if (this.has('ironskin')) { pow *= 0.6; }
				if (this.has('bulky')) { pow *= 0.9; }
				if (this.has('parka') || this.has('dapper suit')) { pow *= 0.85; }
				if (this.has('survivalist')) { pow *= 0.8; }
				if (this.has('defensive')) { pow *= 0.8; }

				return 1 - Math.pow(1 - chance, pow);
			};
			G.moveAssets.stabLight = function(item, chanceNew) {
				if (!chanceNew) { chanceNew = 0.3; }
				return function(cl, text) {
					let chance = chanceNew; //chance to embed; pow 2 is chance to bleed out instantly
					chance = cl[1].adjust(this.adjust(chance, 'stabDamage'), 'stabDefense');
					this.interrupt(cl[1]);
					
					cl[1].gain('cut up'); 
					if (Math.random() < 0.25) { cl[1].gain('cut up'); }
					
					if (Math.random() < Math.pow(chance, 5)) { this.kill(cl[1], 'skewered organs'); return text.replace('[S]', ', [2:they] [falling to the ground|gives one last stare|closes [2:their] eyes], dead'); }
					if (Math.random() < Math.pow(chance, 2)) { cl[1].gain('bleeding out'); return text.replace('[S]', ', as blood erupts from the point of impact') + ' Without intervention, [2] won\'t last very long...'; }
					if (Math.random() < chance) { cl[1].gain('embedded').perk.setItem.call(cl[1].has('embedded'), this.has(item)); this.lose(item); return text + ' The '+item+' embedded deep into [2:their] [body|arteries|bloodstream] before [2:they] [kicked|threw] [1] off [2:themself].'; }
				}
			}
			G.moveAssets.sliceLight = function() {
				return function(cl, text) {
					let chance = 0.75; 
					chance = cl[1].adjust(this.adjust(chance, 'stabDamage'), 'stabDefense');
					this.interrupt(cl[1]);
					
					if (Math.random() < chance) { this.gain('cut up'); }
					if (Math.random() < Math.pow(chance, 2)) { this.gain('cut up'); }
				}
			}
			//shuriken melee
			new G.move({
				chance: 2.5,
				text: '[1] uses a sharp edge on [1:their] shuriken and [digs|sinks it] [right |]into [2]\'s [chest|thigh|left shoulder|right shoulder][S]!',
				failText: '[1] lurches at [2] with shuriken in hand, but[ luckily||], [2] [got out of the way in time|managed to avoid it]![S]',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.1, 'stabAccuracy'), 'dodge'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random()); },
				successFunc: G.moveAssets.stabLight('shuriken'),
				failFunc: function(cl, text) {
					if (Math.random() < 0.25 && !this.has('survivalist')) { this.gain('fallen'); return text.replace('[S]', ' [1] meanwhile, lost [1:their] balance and fell [onto the ground|face-first].'); }
				},
				req: ['shuriken', 'any !immaterial'],
				pReq: ['p:10']
			});
			//scrap metal (copy paste go go go)
			new G.move({
				chance: 1.5,
				text: '[1] uses a sharp edge on [1:their] piece of scrap metal and [digs|sinks it] [right |]into [2]\'s [chest|thigh|left shoulder|right shoulder][S]!',
				failText: '[1] lurches at [2] with a piece of scrap metal in hand, but[ luckily||], [2] [got out of the way in time|managed to avoid it]![S]',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.15, 'stabAccuracy'), 'dodge'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random()); },
				successFunc: G.moveAssets.stabLight('scrap metal'),
				failFunc: function(cl, text) {
					if (Math.random() < 0.25 && !this.has('survivalist')) { this.gain('fallen'); return text.replace('[S]', ' [1] meanwhile, lost [1:their] balance and fell [onto the ground|face-first].'); }
				},
				req: ['scrap_metal', 'any !immaterial'],
				pReq: ['e:15']
			});
			//cursed knife (4 moves) 
			new G.move({ //cursed knife nerf
				chance: 0.5,
				text: '[1] feels an overwhelming surge of energy from [1:their] cursed knife, and freezes in place.',
				element: G.moveAssets.elements.alone,
				req: ['cursed_knife !sociopath|frenzied'],
			});
			new G.move({
				chance: 3,
				text: '[[Motivated|Driven|Compelled] by [1:their] [cursed|ominous|unforgettable|creepy] knife, |][1] [lurches|throws [1:themself]] at [2] with [incredible speed|surprising agility] and [slices|chops] [2]\'s [[left|right] [index|middle|fifth] [finger|toe] [right |]off!|[left|right] [index|middle|fifth] [finger|toe] [right |]off!|[left|right] eyelid [right |]off!]',
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random() + 1); },
				successFunc: G.moveAssets.sliceLight(),
				req: ['cursed_knife able%0.75|frenzied able', 'any !immaterial'],
				pReq: ['d:15']
			});
			new G.move({
				chance: 2,
				text: '[[Motivated|Driven|Compelled] by [1:their] [cursed|ominous|unforgettable|creepy] knife, |][1] [lurches|throws [1:themself]] at [2] with [incredible speed|surprising agility] and [stabs|penetrates] at [2]\'s [appendix|gallbladder|[left|right] kidney|belly button|dorsal venous arch|pancreas|liver]! [S]',
				failText: '[[Motivated|Driven|Compelled] by [1:their] [cursed|ominous|unforgettable|creepy] knife, |][1] [lurches|throws [1:themself]] at [2] with [incredible speed|surprising agility], but only managed to stab the ground.',
				fail: function(cl) { return cl[1].adjust(0.05, 'dodge'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random() + 1); },
				successFunc: G.moveAssets.stabLight('cursed knife', 0.35),
				failFunc: function() { this.gain('fallen'); },
				req: ['cursed_knife able%0.5|frenzied able', 'any !immaterial'],
				pReq: ['d:5']
			});
			new G.move({
				chance: 3, //normal move that dont have comically low fail rates and unusually high kill rates
				text: '[1] uses their [ominous|strange|creepy] knife to stab [2][S]!',
				failText: '[1] tries to use their [ominous|strange|creepy] knife to stab [2], but [2] [blocked it|got out of the way].',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.15, 'stabAccuracy'), 'dodge'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random() + 1); },
				successFunc: G.moveAssets.stabLight('cursed knife'),
				req: ['cursed_knife able !frenzied', 'any !immaterial'],
				pReq: ['d:10']
			});
			G.moveAssets.stabHeavy = function(item, chanceNew) {
				if (!chanceNew) { chanceNew = 0.7; }
				return function(cl, text) {
					let chance = chanceNew; //chance to embed; pow 2 is chance to bleed out instantly, another pow 2 is chance to die
					chance = cl[1].adjust(this.adjust(chance, 'stabDamage'), 'stabDefense');

					this.interrupt(cl[1]);
					cl[1].gain('cut up'); 
					if (Math.random() < chance) { cl[1].gain('cut up'); }
					if (Math.random() < chance && Math.random() < chance && Math.random() < chance) { this.kill(cl[1], 'punctural organ failure'); return text; }
					if (Math.random() < chance && Math.random() < chance) { cl[1].gain('bleeding out'); return text.replace('[S]', ', as blood erupts from the point of impact') + ' Without intervention, [2] won\'t last very long...'; }
					if (Math.random() < chance) { cl[1].gain('embedded').perk.setItem.call(cl[1].has('embedded'), this.has(item)); this.lose(item); return text + ' The '+item+' embedded deep into [2:their] [body|arteries|bloodstream] before [2:they] [kicked|threw] [1] off [2:themself].'; }
				}
			};
			G.moveAssets.sliceBig = function() {
				return function(cl, text) {
					let chance = 0.65;
					chance = cl[1].adjust(cl[1].adjust(this.adjust(this.adjust(chance, 'stabDamage'), 'overall'), 'stabDefense'), 'stabDefense');

					this.interrupt(cl[1]);
					cl[1].gain('cut up');
					if (Math.random() < Math.pow(chance, 2)) { cl[1].gain('bleeding out'); return text.replace('[S]', ', with blood streaming down the wound'); }
					if (Math.random() < chance) { cl[1].gain('cut up'); }
					if (Math.random() < Math.pow(chance, 4)) { cl[1].gain('cut up'); }
				}
			};
			new G.move({
				chance: 3,
				text: '[1] stabs [2] with [1:their] sword[S]!',
				failText: '[1] tries to stab [2] with [1:their] sword, but the sword just went past [2:them] without touching.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.4, 'stabAccuracy'), 'dodge'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random() * 3 + 2); },
				successFunc: G.moveAssets.stabHeavy('sword'),
				req: ['sword', 'any !immaterial'],
				pReq: ['e:10']
			});
			new G.move({
				chance: 4,
				text: '[1] slashes [2] with [1:their] sword[S]!',
				failText: '[1] slashes [2] with [1:their] sword, but the sword only slashed the air.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.3, 'overall'), 'dodge'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random() * 2 + 1); },
				successFunc: G.moveAssets.sliceBig(),
				req: ['sword', 'any !immaterial'],
				pReq: ['e:10']
			});
			new G.move({
				chance: 2.5,
				text: '[1] keeps [2] away with [1:their] sword.',
				successFunc: function(cl) { cl[1].combat.moveToward(this, -12); },
				req: ['sword any '+hardDisables, 'able !immaterial'],
				pReq: ['d:5']
			})
			//axe (1 move simpler alternative to sword without nearly as many possible modifiers)
			new G.move({
				chance: 8,
				text: '[1] hacks at [2] with [1:their] axe[S]!',
				failText: '[1] hacks at [2] with [1:their] axe, but [2:they] avoided all the swings [1] made at [2:them].',
				fail: function(cl) { return this.adjust(0.2, 'overall'); },
				func: function(cl) { this.combat.moveInFrontOf(cl[1], Math.random() * 3 + 2); },
				successFunc: function(cl, text) {
					let chance = 0.6;
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'stabDefense');

					this.interrupt(cl[1]);
					cl[1].gain('cut up');
					if (Math.random() < Math.pow(chance, 3)) { this.kill(cl[1], 'beheaded'); return text.replace('[S]', ', and also [severing|destroying] [2:their] [jugular veins|brain stem|spine|heart atria]'); }
					if (Math.random() < chance) { cl[1].gain('cut up'); return text.replace('[S]', ', and leaving a large gash on [2]\'s body'); }
					if (Math.random() < chance) { cl[1].gain('fallen'); return text.replace('[S]', ', and also knocking [2:them] onto the ground'); }
				},
				req: ['axe any%0.5|able '+hardDisables, 'any !immaterial'],
				pReq: ['e:12']
			});
			//embedded removal (causes potential death)
			new G.move({
				chance: 20,
				text: '[1] [forcefully removes|pulls out|forcefully pulls|grabs|takes] the [S] embedded within [2]\'s body, with blood erupting from the crater that it leaves behind...<br>by this rate, [2] wouldn\'t last very long.',
				successFunc: function(cl, text) {
					this.interrupt(cl[1]);
					let item = cl[1].has('embedded').embeddedItem;
					item.owner = this;
					let name = item.perk.name;
					this.gain(item);
					cl[1].gain('bleeding out');
					cl[1].lose('embedded');
					return text.replace('[S]', name);
				},
				req: ['any%0.25|sociopath%0.1|frenzied%0.25|devious%0.05|roll_of_fabric%0.1|leather_scraps%0.1|cursed_knife%0.2|fallen%0.2 !clumsy%0.25|meek|naive '+hardDisables, 'embedded any'],
				pReq: ['e:3']
			});
			new G.move({
				chance: 3,
				text: '[1] approaches [2] with a grim smile on [1:their] face...',
				successFunc: function(cl) { this.combat.moveInFrontOf(cl[1], 1); },
				req: ['any%0.5|sociopath%0.3|frenzied%0.5|devious%0.2 '+hardDisables, 'embedded any'],
				pReq: ['e:30']
			});

			//GUN (WTF IS A KILOMETER)
			G.adjustFuncs.bulletAccuracy = function(chance, hDiff, vDiff) {
				let e = Math.abs(hDiff) + Math.abs(vDiff) * 5 + 1;
				let pow = 1;
				//NOTE: more pow = more inaccuracy

				if (this.has('marksmen')) { pow *= 0.35; }
				if (this.has('analytical')) { pow *= 0.7; }
				if (this.has('the gift')) { pow *= 0.85; }
				if (this.has('determined')) { pow *= 0.9; }

				if (this.has('blind')) { pow *= 10; } 
				if (this.has('dizzy')) { pow *= 1.5; }
				if (this.has('dazed')) { pow *= 1.5; }
				if (this.has('clumsy')) { pow *= 1.25; }
				if (this.has('shell-shocked')) { pow *= 10; }
				pow *= Math.pow(1.025, this.isDisabled()); 
				pow *= Math.pow(1.02, this.isAiled()); 

				pow *= (e / 30);

				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.bulletDodge = function(chance, hDiff, vDiff) {
				let e = Math.abs(hDiff) + vDiff * 10 + 1;
				let pow = 1;

				if (this.has('blind')) { pow += 0.3; }
				if (this.isDisabled(true)) { pow += 10; }
				if (this.has('vulnerable')) { pow += 1; }
				pow += 1.5 * this.isDisabled();
				pow += 1 * this.isInjured();
				pow += 0.5 * this.isAiled();
				
				if (this.has('vigilant')) { pow *= 0.9; }
				if (this.has('ninja') || this.has('haste')) { pow *= 0.9; }
				if (this.has('alert')) { pow *= 0.5; }

				pow *= Math.pow(1 / e, 0.025);

				return 1 - Math.pow(1 - chance, pow);
			}
			G.adjustFuncs.bulletDefense = function(chance, hDiff, vDiff, chanceMinus) {
				//more pow = less chances to die, ironically
				let e = Math.abs(hDiff) + vDiff * 10 + 1;
				let pow = 1;

				let hasOne = false;
				if (this.has('kevlar vest')) { pow *= 0.25; hasOne = true; }
				if (this.has('combat gear')) { pow *= 0.4; hasOne = true; }
				if (this.has('knight armor')) { pow *= 0.6; hasOne = true; }
				if (this.has('ironskin')) { pow *= 0.6; hasOne = true; }
				if (this.has('bulky')) { pow *= 0.95; hasOne = true; }
				if (this.has('dapper suit')) { pow *= 0.95; hasOne = true; }
				if (this.has('parka')) { pow *= 0.95; hasOne = true; }
				if (this.has('wizard robe')) { pow *= 0.9; hasOne = true; }
				if (this.has('defensive')) { pow *= 0.85; hasOne = true; }
				if (this.has('vulnerable')) { pow *= 10; hasOne = true; }
				if (!hasOne) { return chance - (chanceMinus?chanceMinus:0); }

				pow *= Math.min(25 / e, 1);

				pow = 1 / pow;

				if (chanceMinus) { return chance - (1 - Math.pow(1 - chanceMinus, pow)); }
				else { return 1 - Math.pow(1 - chance, pow); }
			};
			G.adjustFuncs.chargeWeapon = function(chance) {
				//more pow = less likely to successfully charge
				let pow = 1;

				if (this.has('clumsy')) { pow += 0.5; }
				if (this.has('meek')) { pow += 0.2; }
				if (this.has('cowardly')) { pow += 0.2; }
				if (this.has('blind')) { pow += 1; }
				pow += 0.05 * this.isInjured(); 
				pow += 0.1 * this.isAiled(); 
				pow += 0.06 * this.isDisabled(); 

				if (this.has('marksmen')) { pow *= 0.6; }
				if (this.has('analytical')) { pow *= 0.8; }
				if (this.has('frenzied')) { pow *= 0.75; }
				if (this.has('determined')) { pow *= 0.9; }

				return 1 - Math.pow(1 - chance, pow);
			};
			//handgun (one reload one shoot)
			new G.move({
				chance: function() {
					return 5 * (this.has('marksmen')?1:0.4);
				},
				text: '[1] reloads [1:their] handgun.',
				failText: '[1] tried to reload [1:their] handgun, but [1:they] fumbled it and the cartridge fell to the ground.',
				fail: function() { return this.adjust(0.15, 'chargeWeapon'); },
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('handgun').loaded = 1;
				},
				req: ['handgun any '+hardDisables],
				reqFunc: function() {
					return !this.has('handgun').loaded;
				}
			});
			new G.move({
				chance: function() {
					return 7.5 * (this.has('marksmen')?1:0.6);
				},
				text: '[1] [fires a few shots|shoots at] [2] with [1:their] handgun, some hitting [2:their] body[S]!',
				failText: '[1] [fires a few shots|shoots at] [2] with [1:their] handgun, but all the shots missed.',
				fail: function(cl) { let hDiff = cl[1].combat.horizontal - this.combat.horizontal; let vDiff = cl[1].combat.horizontal - this.combat.horizontal; return cl[1].adjust(this.adjust(0.1, 'bulletAccuracy', hDiff, vDiff), 'bulletDodge', hDiff, vDiff); },
				successFunc: function(cl, text) {
					this.has('handgun').loaded = 0;
					let chance = 1; //chance to get the shot perk

					chance = cl[1].adjust(chance, 'bulletDefense', cl[1].combat.horizontal - this.combat.horizontal, cl[1].combat.vertical - this.combat.vertical, 0.25);
					this.interrupt(cl[1]);
					if (Math.random() < chance) { 
						cl[1].gain('shot');
						if (Math.random() < Math.pow(chance, 4)) {
							this.kill(cl[1], 'shot'); 
							return text.replace('[S]', ', some hitting [2:their] [heart|head]');
						}
						if (Math.random() < Math.pow(chance, 2)) {
							cl[1].gain('broken');
							return text.replace('[S]', ', and breaking something within [2:them]');
						}
						if (Math.random() < Math.pow(chance, 2)) {
							cl[1].gain('bleeding out');
							return text.replace('[S]', ', blood erupting from the points of impact');
						}
					} else {
						if (cl[1].has('kevlar vest') && Math.random() < 0.5) { cl[1].lose('kevlar vest'); }
						if (cl[1].has('combat gear') && Math.random() < 0.5) { cl[1].lose('combat gear'); }
						if (cl[1].has('knight armor') && Math.random() < 0.75) { cl[1].lose('knight armor'); }
						return text + ' However, [2]\'s clothes absorbed any shots that did land on [2:them].';
					}
				},
				failFunc: function() {
					this.has('handgun').loaded = 0;
				},
				req: ['handgun any '+hardDisables],
				reqFunc: function() {
					return this.has('handgun').loaded;
				},
				pReq: ['p:1/1000']
			});

			//grenades (4 moves for 0 1 2 and 3 people respectively, plus one idling)
			new G.move({
				chance: 0.5,
				text: '[1] [wonders|ponders] [what to do with|how to handle|how to use] [1:their] grenade.',
				element: G.moveAssets.elements.alone,
				req: ['grenade']
			});
			G.adjustFuncs.throw = function(chance) {
				let pow = 1;

				if (this.has('blind')) { pow += 2; }
				if (this.has('clumsy')) { pow += 0.5; }
				if (this.has('meek')) { pow += 0.25; }
				pow += 0.1 * this.isInjured(); 
				pow += 0.125 * this.isAiled(); 
				pow += 0.075 * this.isDisabled(); 
				if (this.has('weak')) { pow += 2; }

				if (this.has('marksmen')) { pow *= 0.8; }
				if (this.has('analytical')) { pow *= 0.8; }
				if (this.has('vigilant')) { pow *= 0.9; }
				if (this.has('determined')) { pow *= 0.9; }
				if (this.has('frenzied')) { pow *= 0.75; }
				if (this.has('invigorated')) { pow *= Math.pow(0.95, this.has('invigorated').power); }

				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.runFail = function(chance) {
				//decreases the chance
				let pow = 1; 

				if (this.has('clumsy')) { pow += 0.2; }
				if (this.has('meek')) { pow += 0.25; }
				if (this.has('fortified')) { pow += 1; }
				if (this.isDisabled(true)) { pow += 10; }
				pow += 1 * this.isDisabled(); 
				pow += 0.5 * this.isInjured(); 
				pow += 0.25 * this.isAiled(); 
				
				if (this.has('haste')) { pow *= 0.9; }
				if (this.has('ninja')) { pow *= 0.8; }
				if (this.has('frenzied')) { pow *= 0.75; }

				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.shockwaveDefense = function(chance) {
				//hey ik grenades mainly damage via the shrapnels but I realy dont want to rewrite code for the magic spells pls forgive me tysm
				//more pow = more chances to die
				let pow = 1;

				if (this.has('bleeding out')) { pow += 0.75; }
				if (this.has('vulnerable')) { pow += 4; }
				
				if (this.has('bulky')) { pow *= 0.8; }
				if (this.has('combat gear')) { pow *= 0.8; }
				if (this.has('knight armor')) { pow *= 1.4; }
				if (this.has('survivalist')) { pow *= 0.85; }
				if (this.has('defensive')) { pow *= 0.9; }
				//alright guys im done

				return 1 - Math.pow(1 - chance, pow);
			}
			G.moveAssets.grenadeBlastEffects = function(target, hDiff, vDiff) {
				let chance = target.adjust(target.adjust(0.6, 'shockwaveDefense'), 'bulletDefense', hDiff, vDiff);
				target.combat.horizontal += (Math.random() - 0.5) * 30;
				target.combat.vertical += Math.random();

				target.gain('singed');
				this.interrupt(target);
				if (Math.random() < Math.pow(chance, 3) && (target.isDisabled() > 1)) {
					this.kill(target, 'lethal blast');
					return '[brutally |]kills [N]';
				}
				if (Math.random() < Math.pow(chance, 2)) {
					target.gain('unconscious'); target.gain('fallen'); target.gain('lacerated'); target.gain('cut up');
					return 'knocks out [N]';
				}
				if (Math.random() < chance) {
					target.gain('singed'); target.gain('singed'); target.gain('singed'); if (Math.random() < chance) { target.gain('fallen'); return 'burns and knocks over [N]'; }
					return 'burns [N]';
				}
				if (Math.random() < Math.pow(chance, 4) && !target.has('shell-shocked') && !target.has('lacerated') && !target.has('crippled')) {
					target.gain('shell-shocked'); target.gain('fallen'); if (Math.random() < chance) { target.gain('cut up'); if (Math.random() < chance) { target.gain('bleeding out'); return 'causing [N] a bloodied mess'; } }
					return 'critically traumatizes [N]';
				}
				if (target.isDisabled()) { return 'gives [N] a big scare'; } else { return 'makes [N] squirm'; }
			}
			let grenadeObj = {
				chance: 1,
				text: '[1] [lights|rips out the pins on|arms] [1:their] grenade and throws it! It hits [ALL-1], which [S]!',
				failText: '[1] [lights|rips out the pins on|arms] [1:their] grenade and weakly throws it... it hits [ALL-1], but also [1:themself], which [S]!',
				fail: function(cl) { let chance = this.adjust(this.adjust(0.25, 'throw'), 'runFail'); },
				element: new G.element(),
				successFunc: function(cl, text) {
					this.lose('grenade');
					if (cl.length == 1) { return text.replace('It hits [ALL-1], which [S]!', 'However, it did not hit anyone.'); }
					let afflictions = [];
					let target = choose(cl.slice(1, cl.length));
					let posX = target.combat.horizontal + (Math.random()<0.5?1:-1) * (2 + Math.random() * 3);
					let posY = this.combat.vertical + Math.random() * 3; 
					for (let i = 1; i < cl.length; i++) {
						afflictions.push(G.moveAssets.grenadeBlastEffects.call(this, cl[i], cl[i].combat.horizontal - posX, cl[i].combat.vertical - posY));
					}
					for (let i = 0; i < afflictions.length; i++) { afflictions[i] = afflictions[i].replaceAll('[N]', '['+(i + 2)+']'); }
					return text.replace('[S]', oxfordsConcat(afflictions));
				},
				failFunc: function(cl, text) {
					this.lose('grenade');
					let afflictions = [''];
					let posX = this.combat.horizontal + (Math.random() - 0.5) * 10;
					let posY = this.combat.vertical + Math.random() * 3; 
					for (let i = 0; i < cl.length; i++) {
						afflictions.push(G.moveAssets.grenadeBlastEffects.call(this, cl[i], cl[i].combat.horizontal - posX, cl[i].combat.vertical - posY));
					}
					for (let i = 1; i < afflictions.length; i++) { afflictions[i] = afflictions[i].replaceAll('[N]', '['+i+']'); }
					return text.replace('[S]', oxfordsConcat(afflictions));
				},
				req: ['grenade any%0.6|suicidal|devious%0.2|sociopath%0.2|*able '+hardDisables, '- any', '- any', 'any'],
				pReq: ['h:2/20 v:2 p:1/30'],
			};
			new G.move(grenadeObj);
			grenadeObj.element = new G.element({interact: 2, interactMin: 2}); grenadeObj.chance += 2.5; grenadeObj.req[0] = 'grenade any%0.6|suicidal|devious%0.2|sociopath%0.2';
			new G.move(grenadeObj);
			grenadeObj.element = new G.element({interact: 3, interactMin: 3}); grenadeObj.chance += 2.5;
			new G.move(grenadeObj);
			new G.move({
				chance: 1.5,
				text: '[1] [lights|rips out the pins on|arms] [1:their] grenade and throws it! However, it did not manage to hit anyone.',
				failText: '[1] [lights|rips out the pins on|arms] [1:their] grenade and weakly throws it... it did not manage to hit anyone, and even hit [1:themself], which [S]!',
				fail: function(cl) { let chance = this.adjust(this.adjust(0.25, 'throw'), 'runFail'); },
				element: G.moveAssets.elements.alone,
				req: ['grenade any%0.6|suicidal|devious%0.2|sociopath%0.2 '+hardDisables],
				pReq: ['h:2/20 v:2'],
				successFunc: function() { this.lose('grenade'); },
				failFunc: function() { 
					this.lose('grenade'); 
					let posX = this.combat.horizontal + (Math.random() - 0.5) * 10;
					let posY = this.combat.vertical + Math.random() * 3; 
					return text.replace('[S]', G.moveAssets.grenadeBlastEffect.call(this, this, this.combat.horizontal - posX, this.combat.vertical - posY).replace('[N]', '[1:themself]')); 
				},
				reqFunc: function() {
					if (Math.random() < 1 - (1 / (this.combat.overseer.participants.length - 1))) { return true; }
					return false;
				}
			});

			//random item orb (1 move + 1 idle)
			new G.move({
				chance: 0.5,
				text: '[1] [wonders|ponders] [what to do with|when to open|how to use] [1:their] random item orb.',
				element: G.moveAssets.elements.alone,
				req: ['random_orb any%0.6|naive|kind !inventor|scrappy|analytical|frenzied|determined']
			});
			G.moveAssets.randomOrbPool = [
				['big stick', 1],
				['pitchfork', 1],
				['axe', 1],
				['sword', 1],
				['cursed knife', 1],
				['slingshot', 2.5],
				['grenade', 1.5],
				['bow', 1.5],
				['shuriken', 1.5],
				['handgun', 1],
				['flamethrower', 1],
				['lasergun', 1],
				['shotgun', 1],
				['rocket launcher', 1],
				['high pressure garden hose', 1],
				['magic wand', 1.3],
				['ancient specter', 1.3],
				['wizard robe', 1.3],
				['wish ring', 1.3],
				['lucky coin', 1.3],
				['angel in a bottle', 1.3],
				['respawn anchor', 1.3],
				['freezing sapphire', 1.5],
				['topaz with a hole', 1.5],
				['snake charmer\'s flute', 1.5],
				['bikini', 1],
				['leather scraps', 1],
				['parka', 1],
				['dapper suit', 1],
				['kevlar vest', 1],
				['combat gear', 1],
				['knight armor', 1],
				['kite shield', 1],
				['riot shield', 1],
				['first aid kit', 1.5],
				['AED', 1.5],
				['medicine', 1.5],
				['tourniquet', 1.5],
				['scrap metal', 1.5],
				['roll of fabric', 1.5],
				['magic dust', 1.5],
				['batch of cookies', 2],
				['cookie dough', 1.75],
				['vanilla ice cream', 2],
				['hot chocolate', 2],
				['mint essence', 2],
				['extreme cinnamon soda', 2],
				['random orb', 3]
			]
			new G.move({
				chance: 5.5,
				text: '[1] peers into [1:their] random item orb, and [suddenly|abruptly|unexpectedly], it [morphs|transforms|shapeshifts] into a [S]!',
				element: G.moveAssets.elements.alone,
				successFunc: function(cl, text) {
					let pool = [];
					for (let i in G.moveAssets.randomOrbPool) {
						for (let ii = 0; ii < randomFloor(G.moveAssets.randomOrbPool[i][1]); ii++) {
							pool.push(G.moveAssets.randomOrbPool[i][0]);
						}
					}
					let result = choose(pool);
					this.gain(result);
					this.lose('random orb');
					return text.replace('[S]', result);
				},
				req: ['random_orb any%0.75|inventor|scrappy !frenzied%0.5 !able%0.5 '+hardDisables]
			});

			//bows (1 move + 1 idling)
			new G.move({
				chance: 0.66,
				text: '[1] takes aim at [2], but doesn\'t shoot yet.',
				req: ['bow able', 'any'],
				pReq: ['e:15/1000']
			});
			new G.move({
				chance: 7.5,
				text: '[1] draws [1:their] bow and unleashes a[n| deadly] arrow upon [2][S]!',
				failText: '[1] attempted to shoot at arrow at [2], but it missed.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.2, 'simpleProjectile'), 'dodge'); },
				successFunc: function(cl, text) {
					let chance = 0.5;
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen'); //cant be bothered to create a new adjustfunc for this one specifically
					//maybe if I implement more pitchfork but whatev

					this.interrupt(cl[1]);
					if (Math.random() < Math.pow(chance, 5)) {
						this.kill(cl[1], 'cupid\'s arrow');
						return text.replace('[S]', ', which flies true to [2:their] heart!');
					}
					if (Math.random() < Math.pow(chance, 3)) {
						cl[1].gain('bleeding out'); cl[1].gain('cut up');
						return text.replace('[S]', ', which caused blood to spurt out of every orifice on [2:their] body');
					}
					if (Math.random() < chance) {
						//embed
						cl[1].gain('embedded').perk.setItem.call(cl[1].has('embedded'), new G.perkToken(G.perksBN['scrap metal'], cl[1]));
						if (Math.random() < chance) { cl[1].gain('cut up'); }
						return text.replace('[S]', ', which [embed into|sinks deep into|gets stuck in] [2:their] body');
					}
					return text.replace('[S]', ', which [[barely |][scrapes|flies] by [2:them]|hits [2:them], but was absorbed by [2:their] defensive clothes|[2:they] manages to [narrowly |quickly |barely |][avoid|dodge|duck by]]');
				},
				failFunc: function(cl, text) {
					if (Math.random() < 0.2) {
						this.lose('bow'); return text + '<br>The bow was also broken in the attempt!';
					}
				},
				req: ['bow any '+hardDisables, 'any !immaterial'],
				pReq: ['p:1.5/100']
			});
			//shuriken throw
			new G.move({
				chance: 4.5,
				text: '[1] [throws|hurls] [1:their] shuriken at [2], hitting [2:them] on the [arm|shoulder|chest|thigh][S]!',
				failText: '[1] [throws|hurls] [1:their] shuriken at [2], but it flew right past [2:them], never to be found again.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.15, 'simpleProjectile'), 'dodge'); },
				successFunc: function(cl, text) {
					let chance = 0.75;
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');

					if (cl[1].has('ironskin')) { this.lose('shuriken'); return text.replace('[S]', 'but it did nothing'); }
					this.interrupt(cl[1]);
					if (Math.random() < Math.pow(chance, 3)) {
						this.kill(cl[1], 'shredded organs');
						this.lose('shuriken');
						return text.replace('[S]', ', killing [2:them]!').replace('[arm|shoulder|chest|thigh]', '[eye|heart|lung|neck|mouth]');
					}
					if (Math.random() < Math.pow(chance, 2)) {
						cl[1].gain('embedded').perk.setItem.call(cl[1].has('embedded'), this.has('shuriken'));
						this.lose('shuriken');
						if (Math.random() < chance) { cl[1].gain('cut up'); }
						return text.replace('[S]', ', which [embed into|sinks deep into|gets stuck in] [2:their] body');
					}
					if (Math.random() < chance) {
						cl[1].gain('fallen');
						this.lose('shuriken');
					}
				},
				failFunc: function() { this.lose('shuriken'); },
				req: ['shuriken', 'any !immaterial'],
				pReq: ['p:4/25']
			});

			//shotgun (1 load, 1 fire)
			new G.move({
				chance: function() {
					return 5 * (this.has('marksmen')?1:0.6);
				},
				text: '[1] loads [some slugs into |some shells into |some shots into |||][1:their] shotgun.',
				failText: '[1] tried to loads [some slugs into | ][1:their] shotgun, but [1:they] [messed up|fumbled it].',
				fail: function() { return this.adjust(0.15, 'chargeWeapon'); },
				successFunc: function() { this.has('shotgun').loaded = 1; },
				req: ['shotgun any '+hardDisables],
				element: G.moveAssets.elements.alone,
				reqFunc: function() { return !this.has('shotgun').loaded; }
			});
			G.adjustFuncs.spreadAccuracy = function(chance, hDiff, vDiff) {
				let e = Math.abs(hDiff) + Math.pow(Math.abs(vDiff), 2) * 10 + 1;
				let pow = 1;
				//NOTE: more pow = more inaccuracy

				if (this.has('blind')) { pow += 1; } 
				if (this.has('dizzy')) { pow += 0.25; }
				if (this.has('dazed')) { pow += 0.25; }
				if (this.has('clumsy')) { pow += 0.15; }
				if (this.has('shell-shocked')) { pow += 1; }
				if (this.has('weak')) { pow += 1; }
				pow += 0.05 * this.isDisabled(); 
				pow += 0.1 * this.isAiled(); 

				if (this.has('marksmen')) { pow *= 0.7; }
				if (this.has('analytical')) { pow *= 0.85; }
				if (this.has('the gift')) { pow *= 0.9; }
				if (this.has('determined')) { pow *= 0.95; }

				pow *= Math.max(Math.pow(e / 10, 1.5), e / 10);

				return 1 - Math.pow(1 - chance, pow);
			};
			G.adjustFuncs.spreadDefense = function(chance, hDiff, vDiff) {
				//more pow = more chances to die
				let e = Math.abs(hDiff) + vDiff * 10 + 1;
				let pow = 1;
				
				if (this.has('vulnerable')) { pow += 6; }
				pow += this.isDisabled() * 0.05;
				pow += this.isInjured() * 0.05;
				pow += this.isAiled() * 0.05;
				
				if (this.has('kevlar vest')) { pow *= 0.4; }
				if (this.has('combat gear')) { pow *= 0.65; }
				if (this.has('knight armor')) { pow *= 0.65; }
				if (this.has('ironskin')) { pow *= 0.6; }
				if (this.has('bulky')) { pow *= 0.9; }
				if (this.has('dapper suit')) { pow *= 0.9; }
				if (this.has('parka')) { pow *= 0.9; }
				if (this.has('wizard robe')) { pow *= 0.85; }
				if (this.has('defensive')) { pow *= 0.8; }

				pow *= Math.min(10 / Math.pow(e + 1, 1.5), 3);
				
				return 1 - Math.pow(1 - chance, pow); 
			};
			new G.move({
				chance: function() {
					return 12 * (this.has('marksmen')?1:0.75);
				},
				text: '[1] presses down the trigger on [1:their] shotgun, aiming at [2][S]!',
				failText: '[1] presses down the trigger on [1:their] shotgun at [2], but it appears that none of the [slugs|shells|shots] actually hit [2:them].',
				fail: function(cl) { return this.adjust(0.05, 'spreadAccuracy', cl[1].combat.horizontal - this.combat.horizontal, cl[1].combat.vertical - this.combat.vertical); },
				successFunc: function(cl, text) {
					let chance = 0.65;
					chance = cl[1].adjust(chance, 'spreadDefense', cl[1].combat.horizontal - this.combat.horizontal, cl[1].combat.vertical - this.combat.vertical);

					this.has('shotgun').loaded = 0;
					this.interrupt(cl[1]);
					if (Math.random() < Math.pow(chance, 4) && (cl[1].isDisabled() || cl[1].isInjured())) {
						this.kill(cl[1], 'shotgun'); return text + '<br>[2] yelps in surprise as [2:their] brain collapses on itself.';
					}
					if (Math.random() < Math.pow(chance, 2.5)) {
						cl[1].gain('unconscious'); cl[1].gain('shot'); cl[1].gain('lacerated'); return text.replace('[S]', ', knocking [2] out!');
					}
					if (Math.random() < chance && !cl[1].has('shot')) {
						cl[1].gain('shot');
						if (Math.random() < chance) { cl[1].gain('shot'); }
						if (Math.random() < chance / 2) { cl[1].gain('bleeding out'); return text + '<br>[2] is now bleeding out!'; }
						cl[1].gain('fallen'); return text + '<br>[2] yelps in surprise as [2:they] falls to the ground.';
					}
					return text.replace('[S]', ', but [2:they] didn\'t do anything more than a few scratches!');
				},
				failFunc: function() { this.has('shotgun').loaded = 0; },
				req: ['shotgun any '+hardDisables, '- any !immaterial'],
				pReq: ['p:15'],
				reqFunc: function() { return this.has('shotgun').loaded; }
			});

			//flamethrower (powerful but friendly fire 2 points weapon, 1 idle + 1 funny fire that can hit anywhere between 0 and 5 people)
			new G.move({
				chance: 0.2,
				text: '[1] [wonders|thinks|ponders] about [the capabilities of [1:their] flamethrower|whether getting torched will hurt|whether flamethrowers are environmentally friendly|how [1:their] flamethrower works|when to use [1:their] flamethrower].',
				element: G.moveAssets.elements.alone,
				req: ['flamethrower !frenzied|determined|analytical able '+hardDisables]
			});
			G.adjustFuncs.fireDefense = function(chance) {
				let pow = 1;

				pow += this.isDisabled() * 0.6;
				pow += this.isInjured() * 0.25;
				if (this.has('knight armor')) { pow += 0.75; }
				if (this.has('vulnerable')) { pow += 5; }
				
				if (this.has('combat gear')) { pow *= 0.9; }
				if (this.has('freezing sapphire')) { pow *= 0.8; }
				if (this.has('ironskin')) { pow *= 0.7; } 
				if (this.has('defensive')) { pow *= 0.9; }
				if (this.has('wet')) { pow *= 0.5; }
				if (this.has('singed')) { pow *= Math.pow(1.05, this.has('singed').count); }
				if (this.has('seared')) { pow *= Math.pow(0.85, this.has('seared').count); }
				if (this.has('burnt')) { pow *= Math.pow(0.7, this.has('burnt').count); }

				return 1 - Math.pow(1 - chance, pow);
			};
			new G.move({
				chance: 3,
				text: '[1] [refills|refuels|reloads] [1:their] flamethrower.',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('flamethrower').ammo = Math.min(this.has('flamethrower').ammo + 2, 3); 
				},
				req: ['flamethrower any '+hardDisables],
				reqFunc: function() {
					return (this.has('flamethrower').ammo <= 1);
				}
			});
			new G.move({
				chance: function() {
					return 12 * (1 - 0.7 * (this.has('pyromania')?1:0.6) * (!this.isDisabled()?1:0.8));
				},
				text: '[1] [sets [1:their] flamethrower alight|fires [1:their] flamethrower|goes wild with [1:their] flamethrower|activates [1:their] flamethrower|sets [1:their] flamethrower raging] and a [turbulence of flames|column of fire|cone of light|great inferno|stream of flame] [shoots|flares|are propelled|dances|shoots|flares|fires|exits] out of [the barrel|the flamethrower|it|it|the front]! <br>It [S]!',
				element: new G.element({
					interact: 5,
					interactMin: 0
				}),
				successFunc: function(cl, text) {
					if (cl.length == 1 || Math.random() < 0.1) { return text.replace('[S]', '[rages fiercely|rages angrily|makes a lot of noise], but no one got hurt'); }

					this.has('flamethrower').ammo--;
					let afflictions = [];
					for (let i = 1; i < cl.length; i++) {
						cl[i].gain('singed');
						this.interrupt(cl[i]);
						let chance = cl[i].adjust(0.55 + (this.has('pyromania')?0.1:0), 'fireDefense');

						if (cl[i].has('oiled')) {
							cl[i].lose('oiled');
							if (Math.random() < cl[i].adjust(0.5, 'fireDefense')) {
								this.kill(cl[i], 'self-incinerated');
								afflictions.push('which sets the gasoline covering ['+(i + 1)+'] alight!');
								continue;
							}
							cl[i].gain('burnt');
							cl[i].gain('seared');
							cl[i].gain('singed');
							cl[i].gain('fallen');
							afflictions.push('which sets the gasoline covering ['+(i + 1)+'] alight, netting ['+(i + 1)+':them] some serious burns before ['+(i + 1)+':they] managed to put the fire out!');
							continue;
						}

						if (Math.random() < Math.pow(chance, 5) && cl[i].isDisabled() && (cl[i].has('seared') || cl[i].has('burnt'))) { this.kill(cl[i], 'reduced to ashes'); afflictions.push('burns ['+(i + 1)+'] to a crisp'); continue; }
						if (Math.random() < Math.pow(chance, 4) && this.has('pyromania')) { cl[i].gain('seared'); cl[i].gain('singed'); cl[i].gain('singed'); cl[i].gain('singed'); cl[i].gain('singed'); afflictions.push('greatly burns ['+(i + 1)+']'); continue; }
						if (Math.random() < Math.pow(chance, 2)) { cl[i].gain('fallen'); cl[i].gain('seared'); afflictions.push('blows ['+(i + 1)+'] to the ground and torches ['+(i + 1)+':them]'); continue; }
						if (Math.random() < Math.pow(chance, 2)) { cl[i].gain('singed'); cl[i].gain('singed'); cl[i].gain('singed'); afflictions.push('heavily burns ['+(i + 1)+']'); continue; }
						if (Math.random() < chance) { cl[i].gain('singed'); afflictions.push('burns ['+(i + 1)+']'); continue; }

						afflictions.push('hits ['+(i + 1)+']');
					}
					return text.replace('[S]', oxfordsConcat(afflictions));
				},
				req: ['flamethrower any '+hardDisables, 'delete%0.3 -%0.5 any', 'delete%0.3 !=%0.75 any', 'delete%0.3 !=%0.75 any', 'delete%0.3 !=%0.75 any', 'delete%0.3 !=%0.75 any'], //if same team has chance to cancel; e.g. priortizes people not on the smae team but not completely exclude teammates
				pReq: ['p:6', 'p:8', 'p:10', 'p:12', 'p:14'],
				reqFunc: function() {
					return (this.has('flamethrower').ammo > 0);
				}
			});

			//magic wand stuff (lots of spells yay)
			new G.move({
				chance: 0.1,
				text: '[1] looks at [1:their] magic wand, mesmerized.',
				element: G.moveAssets.elements.alone,
				req: ['magic_wand']
			});
			new G.move({
				chance: 4,
				text: '[1] concentrates on [1:their] magic wand to [saturate|infuse] it with magic.',
				element: G.moveAssets.elements.alone,
				req: ['magic_wand any'],
				successFunc: function() {
					this.has('magic wand').charges = Math.max(this.has('magic wand').charges, 1);
					if (this.has('wizard robe')) { this.has('magic wand').charges += 4; }
				},
				reqFunc: function() {
					return (this.has('magic wand').charges <= 0);
				}
			});
			new G.move({
				chance: 0.75,
				text: '[1] tries to cast a spell with [1:their] magic wand, but the wand just shimmered briefly before fading...',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('magic wand').charges--;
				},
				req: ['magic_wand !wizard_robe%0.5 '+hardDisables]
			});
			G.moveDefault.reqFunc = function() {
				return (this.has('magic wand').charges > 0);
			}
			new G.move({
				chance: 1,
				text: 'Seeing [2] in trouble, [1] [waves|taps|calls upon] [1:their] magic wand, and [whisks [2] to safety|[2] disappears in a puff of smoke]!',
				successFunc: function(cl) {
					this.has('magic wand').charges--;
					cl[1].fleeCombat();
				},
				req: ['magic_wand any '+hardDisables, '+ !able'],
				pReq: ['p:25']
			});
			new G.move({
				chance: 1,
				text: '[1] [waves|taps|calls upon] [1:their] magic wand at [2], and in [2:their] astonishment, [2:their] skin suddenly becomes as hard as steel!',
				successFunc: function(cl) {
					this.has('magic wand').charges--;
					cl[1].gain('ironskin').duration = 4;
				},
				req: ['magic_wand able|any%0.4 '+hardDisables, '+ any%0.4|*able !ironskin'],
				pReq: ['p:20']
			});
			new G.move({
				chance: 0.5,
				text: '[1] [waves|taps|calls upon] [1:their] magic wand, tapping it at the sky, as [1:their] skin suddenly becomes as hard as steel!',
				successFunc: function() {
					this.has('magic wand').charges--;
					this.gain('ironskin').duration = 4;
				},
				req: ['magic_wand able|any%0.4 !ironskin '+hardDisables],
				pReq: ['p:20']
			});
			new G.move({
				chance: 1,
				text: '[1] [waves|taps|calls upon] [1:their] magic wand at [2], and [2:their] armor turns translucent with [2:their] [legs|arms] beginning to quiver!',
				failText: '[1] [waves|taps|calls upon] [1:their] magic wand at [2], murmuring of a defense-breaking incantation, but nothing much happened - apart from giving the air a sudden minty smell...',
				successFunc: function(cl) {
					this.has('magic wand').charges--;
					this.interrupt(cl[1]);
					cl[1].gain('weak').duration = 3;
					cl[1].gain('vulnerable').duration = 5;
				},
				req: ['magic_wand able|any%0.4 '+hardDisables, '- any !weak|vulnerable'],
				pReq: ['p:20']
			});
			new G.move({
				chance: 1,
				text: '[1] [waves|taps|calls upon] [1:their] magic wand at [2], infesting [2:their] cornea with visions of gloom and doom...',
				failText: '[1] [waves|taps|calls upon] [1:their] magic wand at [2], murmuring of a horrible curse, but nothing much happened - apart from giving the air a sudden minty smell...',
				successFunc: function(cl) {
					this.has('magic wand').charges--;
					this.combat.overseer.injectColor('red');
					this.interrupt(cl[1]);
					cl[1].gain('hallucinating').duration = 4;
					cl[1].gain('terrified');
				},
				req: ['magic_wand able|any%0.4 '+hardDisables, '-'],
				pReq: ['p:20']
			});
			new G.move({
				chance: 1,
				text: '[1] repeatedly [waves|taps|calls upon] [1:their] magic wand and dances in place, initiating an ancient ritual as strong torrents of wind spiral out of [1:them]! <br>The unstoppable wind brings [ALL-1] to the ground!',
				element: new G.element({
					interact: 7,
					interactMin: 0
				}),
				successFunc: function(cl, text) {
					this.has('magic wand').charges--;
					if (cl.length == 1) { return text.replace('<br>The unstoppable wind brings [ALL-1] to the ground!', 'However, it didn\'t do anything.'); }
					
					for (let i = 1; i < cl.length; i++) {
						this.interrupt(cl[i]);
						cl[i].gain('fallen');
						if (Math.random() < cl[i].adjust(0.2)) { cl[i].gain('bruised'); }
					}
				},
				req: ['magic_wand', 'delete%0.5 !=%0.85 !fallen !mint_enhanced', 'delete%0.5 !=%0.85 !fallen !mint_enhanced', 'delete%0.5 !=%0.85 !fallen !mint_enhanced', 'delete%0.5 !=%0.85 !fallen !mint_enhanced', 'delete%0.5 !=%0.85 !fallen !mint_enhanced', 'delete%0.5 !=%0.85 !fallen !mint_enhanced', 'delete%0.5 !=%0.85 !fallen !mint_enhanced'],
				pReq: ['p:30', 'p:30', 'p:30', 'p:30', 'p:30', 'p:30', 'p:60']
			});
			new G.move({
				chance: 1,
				text: 'With [1]\'s extensive knowledge of the nerdy and obscure, [1:they] repeatedly [waves|taps|calls upon] [1:their] magic wand and dances in place, with the sky darkening and gusts of wind starting to blow. An immense wall of water rises out of the horizon, masking the sun as it approaches [1:them]...<br>Then, with a sudden jolt, the sun\'s rays breaks through the tsunami as it disintegrates into a massive shower of mist and rain!<br>Everyone is now wet!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('magic wand').charges--;
					const all = this.combat.overseer.all();
					for (let i in all) {
						all[i].gain('wet');
						if (all[i] == this) { continue; }
						this.combat.overseer.addChar(all[i]);
					}
				},
				req: ['magic_wand nerd'],
				reqFunc: function() {
					for (let i in this.combat.overseer.participants) {
						if (!this.combat.overseer.participants[i].has('wet')) { return (this.has('magic wand').charges > 0); }
					}
					return false;
				}
			});
			
			G.moveDefault.reqFunc = null;

			new G.move({
				chance: 3,
				text: '[1] loads up [1:their] rocket launcher.',
				failText: '[1] tries to load up [1:their] rocket launcher, but [1:they] [messed up|fumbled it|didn\'t follow instructions quite right][S].',
				element: G.moveAssets.elements.alone,
				fail: function() {
					return this.adjust(0.15, 'chargeWeapon');
				},
				successFunc: function() {
					this.has('rocket launcher').loaded = 1;
				},
				failFunc: function(cl, text) {
					if (Math.random() < this.adjust(0.06, 'chargeWeapon')) { this.kill(this, 'clumsiness'); return text.replace('[S]', ', and the rocket blows up in [1:their] face'); }
					if (Math.random() < this.adjust(0.06, 'chargeWeapon')) { this.lose('rocket launcher'); return text.replace('[S]', ' and also broke the rocket launcher with it'); }
				},
				req: ['rocket_launcher any%0.5|able '+hardDisables],
				reqFunc: function() {
					return (this.has('rocket launcher').loaded == 0);
				}
			});
			//actually just a reusable grenade that never fails (laziness at its finest)
			new G.move({
				chance: 12,
				text: 'With a coordinated click and a pull, [1] fires [1:their] rocket launcher!<br>It [S]!',
				element: new G.element({ interact: 5, interactMin: 1 }),
				successFunc: function(cl, text) {
					//this.has('rocket launcher').loaded = 0;
					let afflictions = [];
					let posX = this.combat.horizontal + Math.random() * 20 * (this.combat.horizontal <= choose(cl.slice(1, cl.length)).combat.horizontal?1:-1);
					let posY = this.combat.vertical + Math.random() * 3; 
					let offset = 1;
					for (let i = 0; i < cl.length; i++) {
						if (i == 0 && Math.random() < 0.66) { offset = 2; continue; }
						if (!cl[i].combat) { break; }
						afflictions.push(G.moveAssets.grenadeBlastEffects.call(this, cl[i], cl[i].combat.horizontal - posX, cl[i].combat.vertical - posY));
					}
					for (let i = 0; i < afflictions.length; i++) { afflictions[i] = afflictions[i].replaceAll('[N]', '['+(i + offset)+']'); }
					return text.replace('[S]', oxfordsConcat(afflictions));
				},
				req: ['rocket_launcher any%0.25|able%0.5|pyromania%0.25|sociopath%0.25|frenzied%0.25 '+hardDisables, '!=%0.75 any', 'delete%0.4 !=%0.75 any', 'delete%0.4 !=%0.75 any', 'delete%0.4 !=%0.75 any', 'delete%0.4 !=%0.75 any'],
				reqFunc: function() { return (this.has('rocket launcher').loaded == 1); },
				pReq: ['p:30', 'p:30', 'p:30', 'p:30', 'p:40']
			});

			new G.move({
				chance: 0.33,
				text: '[1] takes aim with [1:their] laser gun at [2], but doesn\'t shoot yet.',
				req: ['lasergun', 'able'],
				pReq: ['d:50']
			});
			new G.move({
				chance: 5,
				text: '[1] charges up [1:their] laser gun.',
				failText: '[1] charges up [1:their] laser gun, but [S]!',
				fail: function() { return this.adjust(0.1, 'chargeWeapon'); },
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('lasergun').energy += 2;
				},
				failFunc: function(cl, text) {
					if (Math.random() < this.adjust(0.15, 'chargeWeapon')) { this.has('lasergun').energy = Math.max(this.has('lasergun').energy - 1, 0); return text.replace('[S]', 'there was a leak, which leaked all the new energy away plus a bit more'); }
					if (Math.random() < this.adjust(0.025, 'chargeWeapon')) { this.lose('lasergun'); return text.replace('[S]', 'something went wrong and the laser gun broke down into millions of impossibly small pieces'); }
					if (Math.random() < this.adjust(0.0125, 'chargeWeapon')) { this.kill(this, 'charging accident'); return text.replace('[S]', 'it ended up blowing up in [1:their] face'); }
					return text.replace('[S]', '[1:they] messed up and nothing happened');
				},
				req: ['lasergun any%0.5|able '+hardDisables],
				reqFunc: function() {
					return (this.has('lasergun').energy < 4);
				}
			});
			new G.move({
				chance: 6,
				text: '[1] activates [1:their] laser gun and fires a beam of concentrated light at [2][S]!',
				failText: '[1] activates [1:their] laser gun and fires a beam of light at [2], but it missed.',
				fail: function(cl) { return this.adjust(0.05, 'bulletAccuracy', cl[1].combat.horizontal - this.combat.horizontal, cl[1].combat.vertical - this.combat.vertical); },
				successFunc: function(cl, text) {
					this.has('lasergun').energy -= 4;
					this.interrupt(cl[1]);

					if (cl[1].has('knight armor')) {
						cl[1].lose('knight armor');
						cl[1].gain('scrap metal');
						return text.replace('[S]', '! While [2:their] knight armor protected them from the laser, it also managed to reduce the shining metal to a mere heap of useless scraps');
					}
					if (cl[1].has('riot shield') || cl[1].has('kite shield')) {
						cl[1].lose('riot shield');
						cl[1].lose('kite shield');
						return text.replace('[S]', '! Since [2:their] trusty shield protected them from the laser, it reduced the shield to ashes instead');
					}
					let chance = 0.6;
					chance = cl[1].adjust(chance, 'fireDefense');

					cl[1].gain('singed'); cl[1].gain('singed');
					if (Math.random() < chance) { this.kill(cl[1], 'lightly grilled'); return text.replace('[S]', ', which burns a white-hot hole in [2:them]'); }
					cl[1].gain('singed'); cl[1].gain('seared'); cl[1].gain('burnt'); const ww = cl[1].gain('weak'); ww.duration += 2; cl[1].gain('fallen'); cl[1].gain('unconscious');
					return text.replace('[S]', ', which [thoroughly |]burns[| through] [2:them], leaving [2:them] immobile and defenseless'); 
				},
				failFunc: function() {
					this.has('lasergun').energy = 0;
				},
				req: ['lasergun any%0.5|able%0.8|pyromania%0.2|frenzied%0.8 '+hardDisables],
				reqFunc: function() {
					return (this.has('lasergun').energy >= 4);
				},
				pReq: ['d:60']
			});

			//wish ring (ahahhhhhhhh funny)
			G.moveDefault.element = G.moveAssets.elements.alone;
			new G.move({
				chance: 5,
				text: '[1] [stares|looks|fixates] on [1:their] wish ring, [not knowing what to do with it|being unsure what to do].',
				req: ['wish_ring able%0.025|naive%0.25|meek%0.25 able']
			});
			new G.move({
				chance: 0.5,
				text: '[1] just had a [brilliant|awesome|devious|innocent] wish, but [1:their] wish ring is hesitant on answering it...',
				req: ['wish_ring !naive|meek']
			});
			G.adjustFuncs.wish = function(chance) {
				let pow = 1;
				if (this.has('plot armor')) { pow += 9; }
				if (this.has('frenzied')) { pow += 2; }
				
				if (this.has('the gift')) { pow *= 0.75; }
				if (this.has('goth')) { pow *= 0.9; }
				pow *= Math.pow(0.95, this.isInjured());
				pow *= Math.pow(0.9, this.isAiled());
				pow *= Math.pow(0.85, this.isDisabled());

				return 1 - Math.pow(1 - chance, pow);
			}
			new G.move({
				chance: 0.5,
				text: '[1] wishes that [1:they] [were immortal|could survive anything|were invincible]...<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... its magical engravings fade, turning it into just any ordinary ring as fluffy white furs begin growing out of [1:their] body.',
				failText: '[1] wishes that [1:they] [were immortal|could survive anything|were invincible]...<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... overflowing with energy, [1:their] wish ring explodes into a rising mushroom of high-energy plasma!',
				fail: 0.5,
				successFunc: function() {
					this.lose('wish ring');
					this.gain('plot armor');
					this.gain('sheep');
					this.kill(this, 'invincibility gone wrong');
				},
				failFunc: function() {
					this.lose('wish ring');
					this.kill(this, 'bad wishes');
				},
				req: ['wish_ring !able any%0.1|naive !mint_enhanced|suicidal|frenzied|determined '+hardDisables]
			});
			G.moveDefault.fail = function(cl) { if (cl[1] && cl[1].has('mint enhanced') && (cl[1].team != this.team || this.team == 0)) { return 1; } return this.adjust(0.5, 'wish'); }
			G.moveAssets.wishRingFailFunc = function(cl, text) {
				let chance = 1 - this.adjust(0.95, 'wish');
				
				if (Math.random() < chance) { this.lose('wish ring'); return text.replace('[S]', 'and then - the [magical|intricate] engravings on it suddenly fades away, leaving [1:them] with a completely normal ring.'); }
				if (Math.random() < Math.pow(chance, 2)) { this.lose('wish ring'); this.kill(this, 'bad wishes'); return text.replace('[S]', 'and another second, and another, getting brighter - until it explodes into an expanding fireball right in [1:their] hand!'); }
				return text.replace('[S]', 'however, still nothing happened.');
			}
			G.moveDefault.failFunc = G.moveAssets.wishRingFailFunc;
			new G.move({
				chance: 0.5,
				text: '[1] wishes to see [2] fighting with [1:them], one more time.<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... it\'s a miracle! [2] came back to life, right besides [1:them]!',
				failText: '[1] wishes to see [2] fighting with [1:them], one more time.<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, [S]',
				successFunc: function() {
					let pool = [];
					for (let i in this.team.chars) {
						if (this.team.chars[i].isOut()) { pool.push(this.team.chars[i]); }
					}
					let char = choose(pool);
					char.revive('wish', this);
					this.combat.overseer.addChar(char); 
					char.joinCombat(this.combat.overseer, this);
					this.interrupt(char);
				},
				failFunc: function(cl, text) {
					let pool = [];
					for (let i in this.team.chars) {
						if (this.team.chars[i].isOut() && !this.team.chars[i].has('nihil')) { pool.push(this.team.chars[i]); }
					}
					let char = choose(pool);
					this.combat.overseer.addChar(char); 
					return G.moveAssets.wishRingFailFunc.call(this, cl, text);
				},
				req: ['wish_ring any inTeam '+hardDisables],
				reqFunc: function() {
					for (let i in this.team.chars) {
						if (this.team.chars[i].isOut()) { return true; }
					}
					return false;
				}
			});
			new G.move({
				chance: function() {
					if (this.has('peaceful')) { return 0.8; } else { return 0.4; }
				},
				text: '[1] wishes that everyone would [just |]stop fighting.<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then...',
				fail: function() { return this.adjust(0.8, 'wish'); },
				failText: '[1] wishes that everyone would [just |]stop fighting.<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, [S]',
				successFunc: function() {
					const all = this.combat.overseer.all();
					for (let i in all) {
						if (all[i] == this || !this.combat || !this.combat.overseer) { continue; }
						this.combat.overseer.addChar(all[i]);
						if (all[i].real) { all[i].fleeCombat(true); }
					}
				},
				req: ['wish_ring able%0.1|*able|peaceful '+hardDisables]
			});
			new G.move({
				chance: 0.15,
				text: '[1], in a surge of impulsive thoughts, wished that they were a duck.<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... quack!',
				fail: function() { return 0; },
				successFunc: function() {
					this.gain('duck');
					this.kill(this, 'quackity polymorphed');
					this.gain('confirmed');
					this.fleeCombat(true);
				},
				req: ['wish_ring']
			});
			new G.move({
				chance: 0.5,
				text: '[1] wishes that [there were more people fighting on [1:their] side|[1:they] weren\'t so outnumbered].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... [ALL-1] has joined the fight!',
				failText: '[1] wishes that [there were more people fighting on [1:their] side|[1:they] weren\'t so outnumbered].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, [S]',
				successFunc: function() {
					let cl = deepArrCopy(this.team.chars);
					for (let i = cl.length - 1; i >= 0; i--) {
						if (cl[i] == this) { cl.splice(i, 1); continue; }
						if (cl[i].isOut() || (cl[i].combat && cl[i].combat.overseer == this.combat.overseer)) { cl.splice(i, 1); }
					}
					let list = [];
					for (let i = 0; i < Math.min(3 + Math.round(Math.random() * 2), cl.length); i++) {
						let chosen = choose(cl);
						cl.splice(cl.indexOf(chosen), 1);
						list.push(chosen);
					}
					for (let i in list) {
						this.combat.overseer.addChar(list[i]);
						list[i].fleeCombat(true);
						list[i].joinCombat(this.combat.overseer, this);
					}
				},
				req: ['wish_ring any%0.2|able '+hardDisables],
				reqFunc: function() {
					let teamCount = 0;
					let opponentCount = 0;
					const all = this.combat.overseer.all();
					for (let i in all) {
						if (all[i].team == this.team) { teamCount++; }
						else { opponentCount++; }
					}
					if (teamCount >= opponentCount) { return false; }
					
					let count = 0;
					for (let i in this.team.chars) {
						if (!this.team.chars[i].isOut() && !(this.team.chars[i].combat && this.team.chars[i].combat.overseer == this.combat.overseer)) { count++; }
					}
					if (count > 1) { return true; }
					return false;
				}
			});
			new G.move({
				chance: 0.5,
				text: '[1] wishes that [there were less people against [1:them]|[1:they] weren\'t so outnumbered].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... [ALL-1] disappears in a puff of smoke!',
				failText: '[1] wishes that [there were less people against [1:them]|[1:they] weren\'t so outnumbered].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, [S]',
				element: new G.element({
					interact: 5,
					interactMin: 0
				}),
				successFunc: function(cl) {
					for (let i = 1; i < cl.length; i++) {
						cl[i].fleeCombat(true);
					}
				},
				req: ['wish_ring any%0.5|able '+hardDisables, 'delete%0.75 != any', 'delete%0.75 != any', 'delete%0.75 != any', 'delete%0.75 != any', 'delete%0.75 != any'],
				reqFunc: function() {
					if (this.combat.overseer.participants.length <= 2) { return false; }
					
					let teamCount = 0;
					let opponentCount = 0;
					const all = this.combat.overseer.all();
					for (let i in all) {
						if (all[i].team == this.team) { teamCount++; } else { opponentCount++; }
					}
					return (teamCount < opponentCount);
				}
			});
			new G.move({
				chance: 0.5,
				text: '[1] wishes that [2] [never existed|would disappear|was never born].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... no one seemed to remember [2] at all.',
				failText: '[1] wishes that [2] [never existed|would disappear|was never born].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, [S]',
				element: new G.element(),
				successFunc: function(cl) {
					this.kill(cl[1], 'ceased to exist'); cl[1].gain('nihil');
				},
				req: ['wish_ring any%0.5|sociopath|devious%0.5 '+hardDisables, 'any%0.5|annoying !mint_enhanced']
			});
			new G.move({
				chance: 1,
				text: '[1] wishes that [2] [never existed|would disappear|was never born].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... no one seemed to remember [1] at all. The only thing remaining in its place being a peculiar scent of fresh mints.',
				failText: '[1] wishes that [2] [never existed|would disappear|was never born].<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, [S]',
				element: new G.element(),
				successFunc: function(cl) {
					cl[1].kill(this, 'ceased to exist'); this.gain('nihil');
				},
				req: ['wish_ring any%0.5|sociopath|devious%0.5 '+hardDisables, 'any%0.5|annoying mint_enhanced']
			});
			new G.move({
				chance: 1,
				text: '[1] wishes that this whole thing would just come to a conclusion already...<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... <e>[S]</e> is the only one left standing.',
				fail: function() { return 0; },
				successFunc: function(cl, text) {
					const all = this.combat.overseer.all();
					let chosen = choose(all);
					for (let i in all) {
						this.combat.overseer.addChar(all[i]);
						if (all[i] == chosen || all[i] == this) { continue; }
						this.kill(all[i], 'ceased to exist');
					}
					if (chosen != this) { this.kill(this, 'ceased to exist'); }
					return text.replace('[S]', chosen.name);
				},
				req: ['wish_ring !able bruised singed|seared cut_up|lacerated fallen shot|broken|burnt|crippled|bleeding_out any%0.8|shell-shocked|hallucinating|vulnerable|weak !determined|heroic|plot_armor|leader|ironskin|combat_gear|knight_armor|frenzied|high_morale '+hardDisables]
			});
			new G.move({
				chance: 0.25,
				text: '[1] wishes for no one to suffer anymore.<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... to [1:their] shock, everyone\'s wounds and scars all healed at once!',
				failText: '[1] wishes for no one to suffer anymore.<br>[1:g|His|Her|Their|Its] wish ring shimmers for a second, and then... [S]',
				successFunc: function() {
					const all = this.combat.overseer.all();
					for (let i in all) {
						for (let ii = all[i].perks.length - 1; ii >= 0; ii--) {
							let innerPerk = all[i].perks[ii].perk;
							if (!innerPerk.out && (innerPerk.disable || innerPerk.injury || innerPerk.ailment)) { all[i].lose(all[i].perks[ii]); }
						}
						if (all[i] != this) { this.combat.overseer.addChar(all[i]); }
					}
				},
				req: ['wish_ring any%0.5|*able', 'hidden !able|injured|ailed', 'hidden !able|injured|ailed']
			});
			G.moveDefault.element = new G.element();
			G.moveDefault.fail = 0;
			G.moveDefault.failFunc = function() { };

			new G.move({
				chance: 0.2, 
				text: '[1] dances with [1:their] wizard robe, carpeting the ground around [1:them] with magical glitter.',
				element: G.moveAssets.elements.alone,
				req: ['wizard_robe any !fallen '+hardDisables]
			});
			new G.move({
				chance: 0.5,
				text: 'With a [shake|swirl] of [1:their] wizard robe, [1] vanishes into thin air!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('invisible');
				},
				req: ['wizard_robe any%0.5|ninja !levitating|invisible|fallen '+hardDisables]
			});
			new G.move({
				chance: 0.5,
				text: 'With a [shake|swirl] of [1:their] wizard robe, [1] [suddenly|abruptly] lifts off the ground with a [powerful|magical] updraft, hovering above everyone else!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('levitating');
				},
				req: ['wizard_robe any%0.5|cowardly !levitating|invisible|fallen '+hardDisables]
			});

			new G.move({
				chance: 1,
				text: '[1] releases [1:their] pet turtle!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					let turtle = G.newPhantomChar(G.perksBN['turtle'], this.combat.overseer, this);
					turtle.onDeath = function() { this.has('turtle').creator.gain('grieving').power = 50; }
					turtle.gain('vulnerable');
					turtle.itemRef = this.has('pet turtle');
					this.lose('pet turtle');
				},
				req: ['pet_turtle !frenzied !determined%0.5']
			});
			new G.move({
				chance: 0.1,
				text: '[1] [idly |solemnly |]sits on the ground, staring at the horizon.',
				element: G.moveAssets.elements.alone,
				req: ['turtle any !defensive']
			});
			new G.move({
				chance: 0.25,
				text: '[1] slowly [walks|crawls] over to [2] with its [stubby|chubby] legs.',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], 35);
				},
				req: ['turtle any !defensive', '+|- any'],
				pReq: ['h:60 v:2']
			});
			new G.move({
				chance: 0.1,
				text: '[1] retracts its head into its shell.',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('defensive');
					this.gain('ignorable');
					this.gain('unconscious');
					//this.gain('comatose');
					this.gain('hallucinating');
					this.gain('shell-shocked');
				},
				req: ['turtle any !defensive']
			});
			new G.move({
				chance: 0.33,
				text: '[1]\'s head comes out of its shell.',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.lose('defensive');
					this.lose('ignorable');
					this.lose('unconscious');
					//this.lose('comatose');
					this.lose('hallucinating');
					this.lose('shell-shocked');
				},
				req: ['turtle any defensive']
			});

			new G.move({
				chance: 1,
				text: '[1] lets loose [1:their] pet hawk!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					let hawk = G.newPhantomChar(G.perksBN['hawk'], this.combat.overseer, this);
					hawk.onDeath = function() { this.has('hawk').creator.gain('grieving').power = 2; }
					hawk.itemRef = this.has('pet hawk');
					hawk.gain('haste');
					this.lose('pet hawk');
				},
				req: ['pet_hawk !frenzied !determined%0.5']
			});
			new G.move({
				chance: 1,
				text: '[1] takes flight!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('levitating').duration = 100;
				},
				req: ['hawk able%0.5|carrying !levitating']
			});
			new G.move({
				chance: 1,
				text: '[1] descends from the sky, wanting to rest for a bit.',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.lose('levitating');
					this.gain('skipped');
				},
				req: ['hawk any%0.3|injured|ailed|carrying%0.5 levitating '+hardDisables]
			});
			new G.move({
				chance: 0.5,
				text: '[1] swoops down upon [2] with sharp [talons|beaks]!',
				func: function(cl) {
					this.combat.moveToward(cl[1], 50);
				},
				successFunc: function(cl, text) {
					let chance = 0.5;
					chance = cl[1].adjust(chance, 'defenseGen');

					this.interrupt(cl[1]);
					cl[1].gain('cut up');
					if (Math.random() < chance) { cl[1].gain('bruised'); }
					if (Math.random() < Math.pow(chance, 1.5) && !cl[1].has('fallen')) { cl[1].gain('fallen'); return text + '<br>While panicking, [2] fell onto the ground!'; }
					if (Math.random() < Math.pow(chance, cl[1].has('fallen')?2:3)) { cl[1].gain('bruised'); cl[1].gain('crippled'); return text + '<br>Somehow, [1:they] managed to lift [2] off the ground, and drop [2:them] off from a great distance! [2] hits the ground, severely injured.'; }
				},
				req: ['hawk !carrying levitating', 'any !hawk'],
				pReq: ['d:100']
			});
			new G.move({
				chance: 0.5,
				text: '[1] swoops down upon [2], [S]!',
				failText: '[1] swoops down upon [2] in an attempt to steal something, but [2:they] managed to fend [1:them] off.',
				fail: function(cl) { return cl[1].adjust(0.5, 'dodge'); },
				func: function(cl) {
					this.combat.moveToward(cl[1], 50);
				},
				successFunc: function(cl, text) {
					let pool = [];
					for (let i in cl[1].perks) {
						if (cl[1].perks[i].perk.type == 'item') { 
							pool.push(cl[1].perks[i]);
						}
					}
					this.interrupt(cl[1]);
					if (pool.length == 0) { console.log('no items to steal!'); return text.replace('[S]', 'but [2] didn\'t have anything for [1:them] to steal'); }
					let item = choose(pool);
					cl[1].give(this, item);
					this.gain('carrying').perk.addItem.call(this.has('carrying'), item);
					this.gain('marked').perk.setDuration.call(this.has('marked'), 100);
					return text.replace('[S]', 'and managed to [steal|snatch] a '+item.perk.name+' from [2:their] [body|hands]');
				},
				req: ['hawk !carrying levitating', 'any real'],
				pReq: ['p:50']
			});
			new G.move({
				chance: 2,
				text: '[1] flies back to [1:their] owner.',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.combat.overseer.addChar(this.has('hawk').creator);
					this.combat.moveToward(this.has('hawk').creator, (this.has('carrying')?25:50));
				},
				req: ['hawk any%0.15|carrying levitating '+hardDisables],
				reqFunc: function() { return (this.has('hawk').creator.combat && this.has('hawk').creator.combat.overseer == this.combat.overseer); }
			});
			new G.move({
				chance: 2,
				text: '[1] gives the [S] that [1:they] had stolen to [1:their] owner.',
				element: G.moveAssets.elements.alone,
				successFunc: function(cl, text) {
					let item = this.has('carrying').items[0];
					this.has('hawk').creator.gain(this.has('carrying').items[0]);
					this.combat.overseer.addChar(this.has('hawk').creator);
					this.interrupt(this.has('hawk').creator);
					this.lose('carrying');
					this.lose('marked');
					return text.replace('[S]', item.perk.name);
				},
				req: ['hawk carrying levitating'],
				reqFunc: function() {
					if (!this.has('hawk').creator.combat || this.has('hawk').creator.combat.overseer != this.combat.overseer) { return false; }
					return (Math.abs(this.combat.horizontal - this.has('hawk').creator.combat.horizontal) <= 5);
				}
			});

			new G.move({
				chance: 1,
				text: '[1] unleashes [1:their] pet wolf!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					let wolf = G.newPhantomChar(G.perksBN['wolf'], this.combat.overseer, this);
					wolf.onDeath = function() { this.has('wolf').creator.gain('grieving').power = 2; }
					wolf.itemRef = this.has('pet wolf');
					wolf.gain(choose(['haste', 'bulky', 'cowardly', 'meek']));
					wolf.gain('vulnerable');
					wolf.cloneID = 0;
					this.lose('pet wolf');
				},
				req: ['pet_wolf !frenzied !determined%0.5']
			});		
			new G.move({
				chance: 0.75,
				text: '[1] [lurches|pounces] and [bites|attacks] [2] with [1:their] sharp teeth[S]!',
				func: function(cl) {
					this.combat.moveInFrontOf(cl[1], 1);
				},
				successFunc: function(cl, text) {
					let chance = 0.1;
					chance = cl[1].adjust(this.adjust(chance, 'strength'), 'defenseGen');

					if (Math.random() < 1 - Math.pow(chance, 0.5)) { return text + ' However, due to [2:their] defensive clothing, it had no effect!'; }
					this.interrupt(cl[1]);
					cl[1].gain('wolves\' mark');
					if (Math.random() < chance) { cl[1].gain('cut up'); }
					if (Math.random() < Math.pow(chance, 20) && cl[1].has('fallen') && cl[1].isDisabled(true)) { this.has('wolf').creator.kill(cl[1], 'tore apart by wolves'); return text.replace('[S]', ', killing [2:them]'); }
					if (Math.random() < Math.pow(chance, 8) && cl[1].has('fallen')) { cl[1].gain('cut up'); cl[1].gain('bleeding out'); return text.replace('[S]', ', opening up a great wound where blood begins to spill out everywhere'); }
					if (Math.random() < Math.pow(chance, 3) && !cl[1].has('fallen')) { cl[1].gain('fallen'); return text.replace('[S]', ', pinning [2:them] onto the ground'); }
				},
				req: ['wolf', '- any'],
				pReq: ['e:10']
			});
			new G.move({
				chance: 0.75,
				text: '[1] runs toward [2].',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], 20);
				},
				req: ['wolf', 'any'],
				pReq: ['e:10/100']
			});
			new G.move({
				chance: function() {
					let base = 1.25;
					let count = 0;
					for (let i in this.combat.overseer.extras) {
						if (this.combat.overseer.extras[i].has('wolf') && (this.combat.overseer.extras[i].team == this.team || this.combat.overseer.extras[i].team == 0)) { count++; }
					}
					return base / Math.max(Math.pow(count, 1.75), 1);
				},
				text: '[1] howls at the sky, calling in another wolf to fight alongside [1:them]!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					let wolf = G.newPhantomChar(G.perksBN['wolf'], this.combat.overseer, this.has('wolf').creator);
					wolf.gain(choose(['haste', 'bulky', 'cowardly', 'meek']));
					wolf.gain('vulnerable');
					wolf.cloneID = this.cloneID + 1;
					let count = 0;
					for (let i of this.combat.overseer.extras) {
						if (i.has('wolf') && i.has('wolf').creator == this.has('wolf').creator) { count++; }
					}
					wolf.name += ' #' + count;
					this.lose('pet wolf');
				},
				req: ['wolf any']
			});

			new G.move({
				chance: 1,
				text: '[1] unshackles [1:their] pet tiger!',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					let tiger = G.newPhantomChar(G.perksBN['tiger'], this.combat.overseer, this);
					tiger.onDeath = function() { this.has('tiger').creator.gain('grieving').power = 2; }
					tiger.itemRef = this.has('pet tiger');
					this.lose('pet tiger');
				},
				req: ['pet_tiger !frenzied !determined%0.5']
			});	
			new G.move({
				chance: 1,
				text: '[1] [sprints|runs|charges] toward [2].',
				successFunc: function(cl) {
					this.combat.moveToward(cl[1], 60);
				},
				req: ['tiger', 'any%0.5|*able']
			});
			new G.move({
				chance: 1,
				text: '[1] slashes at [2] with [1:their] sharp claws[S]!',
				successFunc: function(cl, text) {
					let chance = cl[1].adjust(this.adjust(0.25, 'strength'), 'defenseGen');
					this.interrupt(cl[1]);

					if (Math.random() < chance) { cl[1].gain('cut up'); }
					if (Math.random() < chance) { cl[1].gain('cut up'); }
					if (Math.random() < chance) { cl[1].gain('cut up'); }
					if (Math.random() < chance) { cl[1].gain('fallen'); return text.replace('[S]', ', which brings [2:them] to the ground'); }
				},
				req: ['tiger any', 'able|any%0.25 !fallen'],
				pReq: ['h:1.5 v:0.5']
			});
			new G.move({
				chance: 1,
				text: '[1] locks [1:their] jaw onto [2]\'s neck[S]!',
				successFunc: function(cl, text) {
					let chance = cl[1].adjust(this.adjust(0.15, 'strength'), 'defenseGen');
					this.interrupt(cl[1]);

					cl[1].gain('cut up'); 
					if (Math.random() < Math.pow(chance, 5)) { this.has('tiger').creator.kill(cl[1], 'tiger; '+choose(['severed neck', 'torn apart', 'blood drained', 'completely mauled'])); this.gain('invigorated'); return text.replace('[S]', ', killing [2:them]') + '<br>[1] is becoming stronger, empowered by this success!'; }
					if (Math.random() < chance) { cl[1].gain('bleeding out'); this.gain('invigorated'); return text.replace('[S]', ', which [snaps|severs] [2:their] vital arteries, causing [2:them] to start bleeding out') + '<br>[1] is becoming stronger, empowered by this success!'; }
					return text + ' However, nothing really happened as [1:they] couldn\'t quite break through [2:their] defensive armor!';
				},
				req: ['tiger', 'any fallen'],
				pReq: ['h:1.5 v:0.5']
			});
			new G.move({
				chance: 1,
				text: '[1] gets ready to [pounce|attack].',
				req: ['tiger', 'any fallen'],
				pReq: ['h:1.5 v:0.5']
			});
			
			//ancient scepter (summons and funny spells)
			new G.move({
				chance: 0.5,
				text: '[1] [stares|glances at|touches|holds] the blue orb on [1:their] ancient scepter, [impressed|curious|intrigued].',
				element: G.moveAssets.elements.alone,
				req: ['ancient_scepter !frenzied']
			});
			new G.move({
				chance: 2,
				text: '[1] [focuses hard|concentrates] on [1:their] ancient scepter to [charge|infuse|channel] it with magic!<br>This might take a while...',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.gain('ancient charging');
				},
				req: ['ancient_scepter any%0.5|able%0.5|wizard_robe%0.5|levitating '+hardDisables],
				reqFunc: function() {
					return (this.has('ancient scepter').charges < this.has('wizard robe')?4:2);
				}
			});
			new G.move({
				chance: 1,
				text: '[1] holds [1:their] ancient scepter up into the air, chanting something unintellgible as the magical orb begins to glow brightly!<br>Suddenly, a grayish-white portal emerges in a flash of light as a serpentine figure flies out of it, roaring! <br>Looking closely, it\'s a ghastly wyvern, entirely composed of sharp looking, semi-translucent armor with a pair of glowing white eyes...',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('ancient scepter').charges -= 2;
					let dragon = G.newPhantomChar(G.perksBN['phantasmal dragon'], this.combat.overseer, this);
					dragon.gain('flying');
					dragon.gain('ironskin');
					dragon.gain('combat gear');
					dragon.gain('bulky');
					dragon.gain('mint enhanced');
				},
				req: ['ancient_scepter able%0.5|wizard_robe able'],
				reqFunc: function() {
					for (let i in this.combat.overseer.extras) {
						if (this.combat.overseer.extras[i].has('phantasmal dragon') && this.combat.overseer.extras[i].has('phantasmal dragon').creator == this) { return false; }
					}
					return (this.has('ancient scepter').charges >= 2);
				}
			});	
			new G.move({
				chance: 0.5,
				text: '[1] flies toward [2].',
				successFunc: function(cl) { this.combat.moveToward(cl[1], 100); },
				req: ['phantasmal_dragon flying !carrying', 'any !=%0.8'],
				pReq: ['d:100/10000']
			});
			new G.move({
				chance: 0.5,
				text: '[1] dives toward [2] and picks [2:them] up effortlessly with [1:their] large jaws, then quickly flies back up, carrying [2:them] with [1:them]!',
				failText: '[1] dives toward [2], but [2:they] managed to avoid [1:them].',
				fail: function(cl) { return cl[1].adjust(0.1, 'dodge'); },
				successFunc: function(cl) {
					this.gain('carrying').perk.addItem.call(this.has('carrying'), cl[1]);
					this.gain('skipped');
					cl[1].gain('paralyzed');
					cl[1].gain('coupled').partner = this;
				},
				req: ['phantasmal_dragon flying !carrying', 'any !=%0.8 !flying !invulnerable !immaterial !coupled'],
				pReq: ['d:200']
			});
			new G.move({
				chance: 1,
				text: '[1] bites down, crushing [2] between its rock-hard lower jaw and innumerably many upper teeth.<br>If you hear closely, you can even hear the sound of [a few bones being broken|flesh being grinded down into a fine sludge|armor cracking under the weight|[2:their] soul leaving [2:their] body].',
				element: G.moveAssets.elements.alone,
				func: function() {
					this.combat.horizontal += (Math.random() < 0.5)?-1:1 * (Math.random() * 40 + 40);
				},
				successFunc: function() {
					this.gain('skipped');
					let char = this.has('carrying').items[0];
					this.combat.overseer.addChar(char);
					this.combat.overseer.injectColor('red');

					char.gain('scratched');
					char.gain('bruised');
					let chance = 0.75;
					chance = char.adjust(chance, 'defenseGen');
					this.interrupt(char);

					if (Math.random() < chance) { char.gain('bruised'); }
					if (Math.random() < Math.pow(chance, 2)) { char.gain('bruised'); }
					if (Math.random() < chance) { char.gain('cut up'); }
					if (Math.random() < chance) { char.gain('cut up'); }
					if (Math.random() < chance) { char.gain('cut up'); }
					if (Math.random() < chance) { char.gain('cut up'); }
					if (Math.random() < chance) { char.gain('singed'); }
					if (Math.random() < Math.pow(chance, 3)) { char.gain('bleeding out'); }
				},
				req: ['phantasmal_dragon carrying flying']
			});
			G.adjustFuncs.fallDefense = function(chance) {
				let pow = 1;
				pow += this.isDisabled() * 0.6;
				pow += this.isInjured() * 0.2;

				if (this.has('levitating')) { pow *= 0.001; }
				if (this.has('flying')) { pow = 0; }
				if (this.has('wizard robe')) { pow *= 0.85; }
				if (this.has('ninja')) { pow *= 0.7; }
				if (this.has('survivalist')) { pow *= 0.85; }
				if (this.has('ironskin')) { pow *= 0.5; }

				return 1 - Math.pow(1 - chance, pow);
			}
			new G.move({
				chance: 0.6,
				text: 'Out of boredom, [1] lets [1:their] mouth open, dropping [2] from the sky down several hundred meters onto the ground as [1:they] flies off to find [1:their] next victim...',
				element: G.moveAssets.elements.alone,
				func: function() {
					this.combat.horizontal += (Math.random() < 0.5)?-1:1 * (Math.random() * 40 + 40);
				},
				successFunc: function(cl, text) {
					let char = this.has('carrying').items[0];
					char.lose('paralyzed');
					char.lose('coupled');
					this.lose('carrying');
					this.combat.overseer.addChar(char);
					let chance = 0.9;
					chance = char.adjust(chance, 'fallDefense');
					this.interrupt(char);

					if (Math.random() < chance) { this.has('phantasmal dragon').creator.kill(char, 'lacking a parachute'); return; }
					char.gain('crippled');
					char.gain('unconscious');
					return text + '<br>Somehow, [2] miraculously survived the fall! Despite this, [2:they] are still very much knocked out from the fall.';
				},
				req: ['phantasmal_dragon carrying flying']
			});
			G.moveAssets.summonExpiration = function(idPerkName, chanceMult, pow) {
				return function() {
					return (this.has(idPerkName).mt ** pow) * chanceMult;
				}
			};
			new G.move({
				chance: function() {
					return Math.min((this.has('phantasmal dragon').mt ** 4) * 0.0005, 10);
				},
				text: 'Suddenly, [1] lets out a last scream as its body disintegrates into a storm of grayish-white orbs of light!',
				element: G.moveAssets.elements.alone,
				successFunc: function() { this.combat.overseer.injectColor('green'); this.kill(this, 'expired'); this.gain('nihil'); },
				req: ['phantasmal_dragon every !carrying']
			});
			new G.move({
				chance: function() {
					return Math.min((this.has('phantasmal dragon').mt ** 2) * 0.005, 10);
				},
				text: 'Suddenly, [1] lets out a last scream as its body disintegrates into a storm of grayish-white orbs of light.<br>As it disintegrates, [2] drops out of [1:their] mouth and starts a hundreds-meter fall onto the ground!',
				element: G.moveAssets.elements.alone,
				successFunc: function(cl, text) { 
					let char = this.has('carrying').items[0];
					char.lose('paralyzed');
					char.lose('coupled');
					this.lose('carrying');
					this.combat.overseer.injectColor('green');
					this.combat.overseer.addChar(char);
					let chance = 0.9;
					chance = char.adjust(chance, 'fallDefense');

					if (Math.random() < chance) { this.has('phantasmal dragon').creator.kill(char, 'lacking a parachute'); return; }
					char.gain('crippled');
					char.gain('unconscious');
					this.kill(this, 'expired'); this.gain('nihil');
					return text + '<br>Somehow, [2] miraculously survived the fall! Despite this, [2:they] are still very much knocked out from the fall.';
				},
				req: ['phantasmal_dragon every carrying']
			});

			new G.move({
				chance: 1,
				text: '[1] holds [1:their] ancient scepter up into the air, chanting something unintellgible as the magical orb begins to glow brightly!<br>Suddenly, vast swaths of inky void emanates out of the orb, coagulating into a sphere as a distinct point of light begin forming from within! Looking closer, the whole thing resembles an... eye?',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('ancient scepter').charges -= 2;
					let eye = G.newPhantomChar(G.perksBN['eye of the void'], this.combat.overseer, this);
					eye.gain('immaterial');
					eye.gain('levitating').duration = 10000;
					eye.gain('infallible');
					eye.gain('skipped').count = 2;
				},
				req: ['ancient_scepter able%0.5|wizard_robe able'],
				reqFunc: function() {
					for (let i in this.combat.overseer.extras) {
						if (this.combat.overseer.extras[i].has('eye of the void') && this.combat.overseer.extras[i].has('eye of the void').creator == this) { return false; }
					}
					return (this.has('ancient scepter').charges >= 2);
				}
			});	
			new G.move({
				chance: 1,
				text: 'Suddenly, [1]\'s pupil enlarges as it fixates its sight onto [2]! [2] can feel the danger desperately telling [2:their] body to get as far away as possible...',
				successFunc: function(cl) {
					cl[1].gain('mark of the void');
					cl[1].gain('terrified');
					this.gain('skipped');
				},
				req: ['eye_of_the_void every', 'any%0.1|able !=%0.9 !mark_of_the_void'],
				pReq: ['d:35']
			});
			new G.move({
				chance: 20,
				text: 'With an inverse shockwave imploding air into [1:their] center, [1]\'s pupil begins glowing with a fiery red as bright-red flames in the form of a concentrated high-velocity beam arrives at [2]\'s body![S]',
				successFunc: function(cl, text) {
					cl[1].lose('mark of the void');
					cl[1].lose('terrified');
					this.gain('skipped');
					this.combat.overseer.injectColor('red');

					let chance = 0.5;
					chance = cl[1].adjust(chance, 'fireDefense');
					if (Math.random() < chance) { this.has('eye of the void').creator.kill(cl[1], 'cooked to well done'); return; };
					for (let i = 0; i < 20; i++) { if (Math.random() < chance) { cl[1].gain('singed'); } }
					if (Math.random() < chance) { cl[1].gain('fallen'); }
					if (Math.random() < Math.pow(chance, 2)) { cl[1].gain('shell-shocked'); }
					return text.replace('[S]', '<br>Miraculously, [2:they] survived this attack, but is left with third-degree burns all over [2:their] body...');
				},
				req: ['eye_of_the_void every', '+|- any mark_of_the_void'],
				pReq: ['d:60']
			});
			new G.move({
				chance: function() {
					let add = 0;
					let mult = 1;
					if (this.has('cowardly')) { add += 2.5; }
					if (this.has('vigilant')) { add += 2.5; }
					if (this.has('terrified')) { add += 5; }
					if (this.has('analytical')) { add += 1;}
					add += this.isInjured() * 0.5;

					mult *= Math.pow(0.8, this.isAiled());
					if (this.has('blind')) { mult *= 0.1; }
					if (this.has('naive')) { mult *= 0.5; }
					if (this.has('dizzy')) { mult *= 0.8; }
					if (this.has('dazed')) { mult *= 0.8; }

					return add * mult;
				},
				text: 'Sensing imminent death, [1] runs away from [2]!',
				successFunc: function(cl) { this.combat.moveToward(cl[1], -1 * (Math.random() * 40 + 30)); },
				req: ['able mark_of_the_void', 'eye_of_the_void']
			});
			new G.move({
				chance: function() {
					return Math.min(((this.has('eye of the void').mt - 3) ** 3) * 0.006, 10);
				},
				text: 'Abruptly, [1] starts rapidly shrinking, soon reduced to all but a pitch-black point in the air and letting off an enormous amount of black smoke. Soon after that, the black point disappeared as well.',
				element: G.moveAssets.elements.alone,
				successFunc: function() { this.combat.overseer.injectColor('green'); this.kill(this, 'expired'); this.gain('nihil'); },
				req: ['eye_of_the_void']
			});

			new G.move({
				chance: 1,
				text: '[1] holds [1:their] ancient scepter up into the air, chanting something unintellgible as the magical orb begins to glow brightly!<br>Suddenly, immense quantities of mist and steam pour out of the blue orb, rapidly rising into the air! Soon, they start forming clouds that stretch across the horizon and reach high into space - but no water is falling, and it is simply the thunderous roars that continue on for the rest of eternity...',
				element: G.moveAssets.elements.alone,
				successFunc: function() {
					this.has('ancient scepter').charges -= 2;
					let storm = G.newPhantomChar(G.perksBN['heavenly hypercane'], this.combat.overseer, this);
					storm.gain('immaterial');
					storm.gain('invulnerable');
					storm.gain('infallible');
					storm.gain('untargetable');
					storm.gain('skipped').count = 4;
				},
				req: ['ancient_scepter able%0.5|wizard_robe able'],
				reqFunc: function() {
					for (let i in this.combat.overseer.extras) {
						if (this.combat.overseer.extras[i].has('heavenly hypercane')) { return false; }
					}
					return (this.has('ancient scepter').charges >= 2);
				}
			});	
			G.adjustFuncs.electricityDefense = function(chance) {
				let pow = 1;
				if (this.has('wet')) { pow += 2; }
				if (this.has('ironskin')) { pow += 2; }
				if (this.has('singed')) { pow += this.has('singed').count * 0.2; }
				if (this.has('seared')) { pow += this.has('seared').count * 1.5; }
				if (this.has('burnt')) { pow += this.has('burnt').count * 6; }
				
				if (this.has('combat gear')) { pow *= 0.9; }
				if (this.has('parka')) { pow *= 0.9; }
				if (this.has('dapper suit')) { pow *= 0.9; }
				if (this.has('knight armor')) { pow *= 0.2; }

				return 1 - Math.pow(1 - chance, pow);
			};
			new G.move({
				chance: 1,
				text: 'Suddenly, one of [1]\'s stray lightning bolts float low enough to the ground to become attracted to the ground!<br>The streak of cyan-violet lightning hits [2][S]!',
				successFunc: function(cl, text) {
					this.gain('skipped').count = Math.floor(Math.random() * 6) + 2;
					cl[1].gain('singed');
					let chance = 0.5;
					chance = cl[1].adjust(chance, 'electricityDefense');

					this.combat.overseer.injectColor('red');
					for (let i = 0; i < 20; i++) {
						if (Math.random() < chance) { cl[1].gain('singed'); }
					}
					if (Math.random() < Math.pow(chance, 2)) { this.has('heavenly hypercane').creator.kill(cl[1], 'overclocked natural AED'); return text.replace('[S]', ', stopping [2:their] heart'); }
					if (Math.random() < chance) { cl[1].gain('paralyzed'); return text.replace('[S]', ', which completely paralyzes [2:them]'); }
					return text.replace('[S]', ', and while [2:they] survived, it still left [2:them] with some pretty heavy burns');
				},
				req: ['heavenly_hypercane', '!=%0.2 every']
			});

			//respawn anchor (1 move + idle)
			new G.move({
				chance: 0.5,
				text: '[1] wonders whether to activate [1:their] respawn anchor.',
				element: G.moveAssets.elements.alone,
				req: ['respawn_anchor']
			});
			G.adjustFuncs.activation = function(chance) {
				let pow = 1;

				if (this.has('clumsy')) { pow += 0.6; }
				if (this.has('meek')) { pow += 0.3; }
				if (this.has('naive')) { pow += 0.3; }
				pow += 0.2 * this.isAiled();
				
				if (this.has('inventor')) { pow *= 0.5; }
				if (this.has('artist')) { pow *= 0.75; }
				if (this.has('vigilant')) { pow *= 0.95; }
				if (this.has('the gift')) { pow *= 0.6; }
				if (this.has('goth')) { pow *= 0.6; }

				return 1 - Math.pow(1 - chance, pow);
			}
			new G.move({
				chance: 5,
				text: '[1] places down [1:their] respawn anchor and attempts to activate it. Soon enough, it started to glow, signaling a successful activation!',
				failText: '[1] places down [1:their] respawn anchor and attempts to activate it[S].',
				fail: function() { return this.adjust(0.5, 'activation'); },
				successFunc: function() { this.lose('respawn anchor'); this.gain('will respawn'); },
				failFunc: function(cl, text) { 
					let chance = 0.4;
					chance = this.adjust(chance, 'activation');

					if (Math.random() < Math.pow(chance, 2)) { 
						let all = this.combat.overseer.participants.concat(this.combat.overseer.extras);
						let chars = [];
						for (let i of all) {
							if (Math.abs(i.combat.horizontal - this.combat.horizontal) < 10 && i.combat.vertical >= this.combat.vertical) { chars.push(i); }
						}
						for (let i of chars) {
							if (i != this) { this.combat.overseer.addChar(i); }
							this.kill(i, '[INTENTIONAL GAME DESIGN]');
						}
						this.lose('respawn anchor'); 
						if (chars.length == 1) { return text + '<br>However, [1:they] made a mistake while trying to activate it, and the respawn anchor blew up into a miniature mushroom cloud in front of [1:them], killing [1:them] instantly!'; }
						else { return text + '<br>However, [1:they] made a mistake while trying to activate it, and the respawn anchor blew up into a miniature mushroom cloud in front of [1:them] alongside [ALL-1], killing them all instantly!'; } 
					}
					if (Math.random() < chance) { this.lose('respawn anchor'); return text.replace('[S]', ', however, the respawn anchor broke while fidgeting with its complex inner workings'); }
					return text.replace('[S]', ', however, [1:they] couldn\'t quite figure out how to do so, and gives up shortly after');
				},
				element: G.moveAssets.elements.alone,
				req: ['respawn_anchor any%0.8|cowardly']
			});

			//freezing sapphire
			new G.move({
				chance: function() {
					const all = this.combat.overseer.all();
					let count = 0;
					for (let i of all) {
						if (i.team != this.team || i.team == 0) { count++; }
					}
					return Math.pow(count, 2.5) * 0.5;
				},
				text: '[1] throws [1:their] freezing sapphire, which shatters on contact and explodes into an expanding cloud of freezing mist that envelops [ALL-1]! <br>After the mist dissipated, all those affected has been turned into living statues of magical ice.',
				successFunc: function(cl) {
					this.lose('freezing sapphire');
					const all = this.combat.overseer.all();
					let list = [];
					for (let i of all) {
						if (i == cl[1]) { continue; }
						if (cl[1].combat.projectileDist(i) <= 17.5 && (this.team != i || i.team == 0 || i == this)) { list.push(i); }
					}
					for (let i of list) { this.combat.overseer.addChar(i); i.gain('deep frozen').duration = 3; }
				},
				req: ['freezing_sapphire any '+hardDisables, 'any'],
				pReq: ['p:20/50']
			});

			//high pressure garden hose 
			new G.move({
				chance: 4,
				text: '[1] fills up [1:their] garden hose with water.',
				element: G.moveAssets.elements.alone,
				successFunc: function() { this.has('high pressure garden hose').charges++; },
				req: ['high_pressure_garden_hose any'],
				reqFunc: function() { return this.has('high pressure garden hose').charges < 1; }
			});
			G.adjustFuncs.stanceDefense = function(chance) {
				let pow = 1;
				if (this.has('knight armor')) { pow += 1; } 
				if (this.has('clumsy')) { pow += 0.5; }
				if (this.has('meek')) { pow += 0.5; }
				if (this.has('blind')) { pow += 0.5; }
				if (this.has('dizzy')) { pow += 0.5; }
				if (this.has('dazed')) { pow += 0.5; }
				pow += 0.5 * this.isInjured();
				pow += 0.5 * this.isAiled();
				pow += 0.5 * this.isDisabled();

				if (this.has('combat gear')) { pow *= 0.7; }
				if (this.has('ironskin')) { pow *= 0.6; }
				if (this.has('infallible')) { pow *= 0.1; }
				if (this.has('riot shield') || this.has('kite shield')) { pow *= 0.5; }

				return 1 - Math.pow(1 - chance, pow);
			};
			new G.move({
				chance: 2,
				text: '[1] [opens the valve on|fires|unleashes|turns on] [1:their] garden hose, [with |]water [rushing out of it|coming out|flying out|sputtering out of it] with [incredibly high velocities|great speed|deadly force]!',
				element: new G.element({
					interact: 4,
					interactMin: 0
				}),
				successFunc: function(cl, text) {
					this.has('high pressure garden hose').charges--;
					if (cl.length <= 1) { return text + '<br>However, it did not hit anyone!'; }
					let afflictions = [];
					for (let i = 1; i < cl.length; i++) {
						if (cl[i].has('fallen')) {
							cl[i].gain('bruised');
							if (Math.random() < cl[i].adjust(0.5, 'defenseGen')) { cl[i].gain('bruised'); }
							if (Math.random() < cl[i].adjust(0.5, 'defenseGen')) { cl[i].gain('bruised'); }
							afflictions.push('greatly bruising [N]');
							continue;
						}
						cl[i].combat.moveToward(this, -6);
 						let chance = Math.pow(1 / (this.combat.projectileDist(cl[i]) + 1), 0.33);
						chance = cl[i].adjust(chance, 'stanceDefense');
						if (Math.random() < chance) { cl[i].gain('bruised'); }
						if (Math.random() < chance) { cl[i].gain('fallen'); afflictions.push('knocking [N] down'); continue; }
						afflictions.push('makes [N] stumble');
					}
					for (let i = 0; i < afflictions.length; i++) {
						afflictions[i] = afflictions[i].replace('[N]', '['+(i + 2)+']');
					}
					return text + '<br>It hits [ALL-1], ' + oxfordsConcat(afflictions) + '!';
				},
				req: ['high_pressure_garden_hose any%0.5|able', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any'],
				reqFunc: function() { return (this.has('high pressure garden hose').charges >= 1); },
				pReq: ['p:10', 'p:15', 'p:20', 'p:25']
			});
			new G.move({
				chance: 4,
				text: '[1] [opens the valve on|fires|unleashes|turns on] [1:their] garden hose, with [strong|foul-smelling|disgusting green] acid [rushing out of it|coming out|flying out|sputtering out of it] of it, [promising|foreseeing|illustrating|demonstrating] [a slow and painful death|an agonizing demise].',
				element: new G.element({
					interact: 4,
					interactMin: 0
				}),
				successFunc: function(cl, text) {
					this.has('high pressure garden hose').charges--;
					this.has('high pressure garden hose').content.splice(this.has('high pressure garden hose').content.indexOf('acid'), 1);
					if (cl.length <= 1) { return text + '<br>However, it did not hit anyone!'; }
					let afflictions = [];
					for (let i = 1; i < cl.length; i++) {
						if (cl[i].has('fallen')) {
							cl[i].gain('singed');
							let chance = cl[i].adjust(0.5, 'defenseGen');
							for (let ii = 0; ii < 6; ii++) {
								if (Math.random() < chance) { cl[i].gain('singed'); }
							}
							afflictions.push('heavily burning [N]');
							continue;
						}
 						let chance = Math.pow(1 / (this.combat.projectileDist(cl[i]) + 1), 0.33);
						chance = cl[i].adjust(chance, 'stanceDefense');
						for (let ii = 0; ii < 3; ii++) {
							if (Math.random() < chance) { cl[i].gain('singed'); }
						}
						if (Math.random() < chance) { 
							cl[i].gain('fallen'); 
							afflictions.push('knocking down and burning [N]');
						} else {
							afflictions.push('burning [N]');
						}
					}
					for (let i = 0; i < afflictions.length; i++) {
						afflictions[i] = afflictions[i].replace('[N]', '['+(i + 2)+']');
					}
					return text + '<br>It hits [ALL-1], ' + oxfordsConcat(afflictions) + '!';
				},
				req: ['high_pressure_garden_hose any%0.5|able', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any'],
				reqFunc: function() { return (this.has('high pressure garden hose').charges >= 1 && this.has('high pressure garden hose').content.includes('acid')); },
				pReq: ['p:10', 'p:15', 'p:20', 'p:25']
			});
			new G.move({
				chance: 4,
				text: '[1] [opens the valve on|fires|unleashes|turns on] [1:their] garden hose, with [dangerously flammable|unstable|flammable|angry] gasoline [rushing out of it|coming out|flying out|sputtering out of it] of it in a few short bursts.',
				element: new G.element({
					interact: 3,
					interactMin: 0
				}),
				successFunc: function(cl, text) {
					this.has('high pressure garden hose').charges--;
					this.has('high pressure garden hose').content.splice(this.has('high pressure garden hose').content.indexOf('gasoline'), 1);
					if (cl.length <= 1) { return text + '<br>However, it did not hit anyone!'; }
					let afflictions = [];
					for (let i = 1; i < cl.length; i++) {
						if (cl[i].has('fallen') && Math.random() < 1 - this.adjust(0.2, 'bulletAccuracy', cl[i].combat.horizontal - this.combat.horizontal, cl[i].combat.vertical - this.combat.vertical)) { 
							cl[i].gain('oiled');
							afflictions.push('completely [coating|drenching] [N] in it');
							continue;
						}
						if (Math.random() < 1 - this.adjust(0.5, 'bulletAccuracy', cl[i].combat.horizontal - this.combat.horizontal, cl[i].combat.vertical - this.combat.vertical)) {
							cl[i].gain('oiled');
							afflictions.push('hitting [N]');
						}
					}
					for (let i = 0; i < afflictions.length; i++) {
						afflictions[i] = afflictions[i].replace('[N]', '['+(i + 2)+']');
					}
					return text + '<br>It hits [ALL-1], ' + oxfordsConcat(afflictions) + '!';
				},
				req: ['high_pressure_garden_hose any%0.05|pyromania%0.5|flamethrower%0.5|topaz_on_a_stick%0.5', 'delete%0.5 !=%0.8 !oiled any%0.5|fallen', 'delete%0.5 !=%0.8 !oiled any%0.5|fallen', 'delete%0.5 !=%0.8 !oiled any%0.5|fallen'],
				reqFunc: function() { return (this.has('high pressure garden hose').charges >= 1 && this.has('high pressure garden hose').content.includes('gasoline')); },
				pReq: ['p:10', 'p:15', 'p:20']
			});
			new G.move({
				chance: 4,
				text: '[1] [opens the valve on|fires|unleashes|turns on] [1:their] garden hose, with [liquid|water-saturated|water-infused] silt [rushing out of it|coming out|flying out|sputtering out of it] of it, [powerful|hard|forceful] enough to [deliver a quick and painless death|saw the body in half|cut through anything].',
				element: new G.element({
					interact: 3,
					interactMin: 0
				}),
				successFunc: function(cl, text) {
					this.has('high pressure garden hose').charges--;
					this.has('high pressure garden hose').content.splice(this.has('high pressure garden hose').content.indexOf('silt'), 1);
					if (cl.length <= 1) { return text + '<br>However, it did not hit anyone!'; }
					let afflictions = [];
					for (let i = 1; i < cl.length; i++) {
						if (cl[i].has('fallen')) {
							cl[i].gain('cut up');
							let chance = cl[i].adjust(0.5, 'defenseGen');
							for (let ii = 0; ii < 2; ii++) {
								if (Math.random() < chance) { cl[i].gain('cut up'); }
							}
							afflictions.push('heavily [cutting|injuring|drilling into] [N]');
							continue;
						}
 						let chance = Math.pow(1 / (this.combat.projectileDist(cl[i]) + 1), 0.1);
						chance = cl[i].adjust(chance, 'defenseGen');
						if (Math.random() < chance) { cl[i].gain('cut up'); }
						if (Math.random() < chance) { cl[i].gain('cut up'); }
						afflictions.push('[injuring|cutting] [N]');
					}
					for (let i = 0; i < afflictions.length; i++) {
						afflictions[i] = afflictions[i].replace('[N]', '['+(i + 2)+']');
					}
					return text + '<br>It hits [ALL-1], ' + oxfordsConcat(afflictions) + '!';
				},
				req: ['high_pressure_garden_hose any%0.5|able', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any', 'delete%0.5 !=%0.8 any'],
				reqFunc: function() { return (this.has('high pressure garden hose').charges >= 1 && this.has('high pressure garden hose').content.includes('silt')); },
				pReq: ['p:10', 'p:15', 'p:20']
			});
			new G.move({
				chance: 4,
				text: '[1] [opens the valve on|fires|unleashes|turns on] [1:their] garden hose, with [colorful|super-sticky|gluey] slime [rushing out of it|coming out|flying out|sputtering out of it] of it, [sticky|sticky|clingy] enough to [stick limbs together|reduce mobility to zero|render all movement futile|make anyone into a vibrant frankenstein monster].',
				element: new G.element({
					interact: 2,
					interactMin: 0
				}),
				successFunc: function(cl, text) {
					this.has('high pressure garden hose').charges--;
					this.has('high pressure garden hose').content.splice(this.has('high pressure garden hose').content.indexOf('slime'), 1);
					if (cl.length <= 1) { return text + '<br>However, it did not hit anyone!'; }
					let afflictions = [];
					for (let i = 1; i < cl.length; i++) {
 						let chance = Math.pow(1 / (this.combat.projectileDist(cl[i]) + 1), 0.1);
						chance = 1 - cl[i].adjust(1 - chance, 'dodge');
						if (Math.random() < chance) {
							cl[i].gain('slimed');
							afflictions.push('[sticks to|immobilizes] [N]')
						}
						afflictions.push('misses [N]');
					}
					for (let i = 0; i < afflictions.length; i++) {
						afflictions[i] = afflictions[i].replace('[N]', '['+(i + 2)+']');
					}
					return text + '<br>Aiming at [ALL-1], it ' + oxfordsConcat(afflictions) + '!';
				},
				req: ['high_pressure_garden_hose any%0.5|able', 'delete%0.5 !=%0.8 !slimed any', 'delete%0.5 !=%0.8 !slimed any', 'delete%0.5 !=%0.8 !slimed any'],
				reqFunc: function() { return (this.has('high pressure garden hose').charges >= 1 && this.has('high pressure garden hose').content.includes('slime')); },
				pReq: ['p:10', 'p:15']
			});
			new G.move({
				chance: 0.5,
				text: '[1] struggles to get all that [unbearable|disabling|inconvenient|annoying|sticky] slime off [1:them].',
				req: ['slimed any !unconscious']
			});
			new G.move({
				chance: 1,
				text: '[1] finally manages to get all the [unbearable|disabling|inconvenient|annoying|sticky] slime off [1:themself].',
				successFunc: function() {
					this.lose('slimed');
				},
				req: ['slimed any !unconscious'],
				reqFunc: function() { return this.has('slimed').duration <= 0; }
			});

			//mint essence
			new G.move({
				chance: 1,
				text: '[1] tries to swallow [1:their] mint essence, and with a bit of struggling, [1:they] manages it!',
				failText: '[1] tries to swallow [1:their] mint essence, but [1:they] found it too strong to swallow right now.',
				fail: function() {
					let chance = 0.5;
					let pow = 1;
					pow *= Math.pow(0.8, this.isDisabled());
					pow *= Math.pow(0.8, this.isInjured());
					pow *= Math.pow(0.8, this.isAiled());

					return 1 - Math.pow(1 - chance, pow);
				},
				successFunc: function() {
					this.lose('mint essence');
					this.gain('mint enhanced');
				},
				element: G.moveAssets.elements.alone,
				req: ['mint_essence any%0.5|able '+hardDisables]
			});

			//topaz with a hole crafting
			new G.move({
				chance: 0.9,
				text: '[1] remembers [1:their] topaz with a suspiciously shaped hole, and soon realized...<br>[1] got a nearby branch and put the topaz onto one end, which neatly snaps together! In [1:their] [amazement|astonishment], the topaz feels tingly and electric to the touch, now faintly glowing yellow!',
				element: G.moveAssets.elements.alone,
				successFunc: function() { this.lose('topaz with a hole'); this.gain('topaz on a stick'); },
				req: ['topaz_with_a_hole inventor%0.5|scrappy%0.2|artist%0.3|any%0.5|the_gift%0.5|goth%0.2|big_stick !topaz_on_a_stick '+hardDisables]
			});

			//topaz on a stick (2 moves, 1 strike and 1 ranged, plus one charge)
			new G.move({
				chance: 3,
				text: '[1] holds up [1:their] topaz on a stick onto the sky, as a request for more power! And it seems that [the gods agree|it is working]...',
				failText: '[1] holds up [1:their] topaz on a stick onto the sky, as a request for more power! But [nothing happens|it seems that the gods are a bit reluctant]...',
				fail: 0.15,
				element: G.moveAssets.elements.alone,
				successFunc: function() { this.has('topaz on a stick').charges += 2; },
				req: ['topaz_on_a_stick any%0.8|wizard_robe '+hardDisables],
				reqFunc: function() { return this.has('topaz on a stick').charges < (this.has('wizard robe')?3:2); }
			});
			G.oiledFunc = function(cl, text) {
				cl[1].lose('oiled');
				if (Math.random() < cl[1].adjust(0.75, 'fireDefense')) {
					this.kill(cl[1], 'self-incinerated');
					return text.replace('[S]', 'which sets the gasoline covering [2:them] alight, burning [2:them] alive!');
				}
				cl[1].gain('burnt');
				cl[1].gain('seared');
				cl[1].gain('singed');
				cl[1].gain('fallen');
				return text.replace('[S]', 'which sets the gasoline covering [2:them] alight, netting [2:them] some serious burns before [2:they] managed to put the fire out!');
			}
			new G.move({
				chance: 4,
				text: '[1] [back |]strikes [2] with [1:their] topaz on a stick, [S]!',
				failText: '[1] tries to strike [2] with [1:their] topaz on a stick, but [2:they] managed to [narrowly |]avoid it.',
				fail: function(cl) { return cl[1].adjust(this.adjust(0.1, 'swing'), 'dodge'); },
				func: G.moveAssets.readyForPunch,
				successFunc: function(cl, text) {
					this.has('topaz on a stick').charges--;
					let chance = cl[1].adjust(0.6, 'electricityDefense');

					if (cl[1].has('oiled')) { return G.oiledFunc(cl, text); }

					if (Math.random() < Math.pow(chance, 4) && (cl[1].isInjured() || cl[1].isAiled())) { this.kill(cl[1], 'electrifried'); return text.replace('[S]', 'which stops [2:their] heart'); }
					if (Math.random() < Math.pow(chance, 2.5)) { cl[1].gain('paralyzed'); cl[1].gain('fallen'); return text.replace('[S]', 'which leaves [2:them] completely paralyzed'); }
					for (let i = 0; i < 6; i++) {
						if (Math.random() < chance) { cl[1].gain('singed'); }
					}
					if (Math.random() < chance && !cl[1].has('fallen')) { cl[1].gain('fallen'); return text.replace('[S]', 'leaving [2:them] on the ground and defenseless'); }
					return text.replace('[S]', 'leaving a greatly seared, wildly branching and growing mark on [2:them]');
				},
				req: ['topaz_on_a_stick any%0.3|able%0.6|ninja%0.2|wizard_robe%0.2 '+hardDisables, 'any'],
				reqFunc: function() { return (this.has('topaz on a stick').charges > 0); },
				pReq: ['e:10']
			});
			new G.move({
				chance: 2,
				text: '[1] murmurs something quietly, and [1:their] topaz on a stick gets brighter with every syllable... then, as the light comes to a climax, a thunderous bolt of lightning outshining the sun snaps to [2], [S]!',
				successFunc: function(cl, text) {
					this.has('topaz on a stick').charges -= 2;
					let chance = cl[1].adjust(0.7, 'electricityDefense');

					if (cl[1].has('oiled')) { return G.oiledFunc(cl, text); }

					if (Math.random() < Math.pow(chance, 4) && (cl[1].isInjured() || cl[1].isAiled())) { this.kill(cl[1], 'electrifried'); return text.replace('[S]', 'which stops [2:their] heart'); }
					if (Math.random() < Math.pow(chance, 2.5)) { cl[1].gain('paralyzed'); cl[1].gain('fallen'); return text.replace('[S]', 'which leaves [2:them] completely paralyzed'); }
					for (let i = 0; i < 6; i++) {
						if (Math.random() < chance) { cl[1].gain('singed'); }
					}
					return text.replace('[S]', 'leaving a greatly seared, wildly branching and growing mark on [2:them]');
				},
				req: ['topaz_on_a_stick any%0.5|able%0.2|wizard_robe%0.2|the_gift%0.4|marksmen%0.1|cowardly%0.1|meek%0.1 '+hardDisables, '!=%0.75 any'],
				reqFunc: function() { return (this.has('topaz on a stick').charges > 1); },
				pReq: ['e:3/40']
			});

			//snake charmers flute
			new G.move({
				chance: 2,
				text: '[1] hums a short tune on [1:their] snaker charmer\'s flute, and a purple snake slithers out of the ground, its head soaring toward the sky. [1] grabs onto its head and, as impenetrable thorns begin to grow around its place of conception, manages to ascend to the sky with it!',
				successFunc: function() {
					this.gain('snake climbing');
					this.combat.vertical += 5;
				},
				req: ['snake_charmer\'s_flute injured|ailed bruised|cut_up|singed any%0.5|crippled|seared|lacerated|poisoned !snake_climbing '+hardDisables]
			});
			new G.move({
				chance: 0.25,
				text: '[1] continues to rise higher and higher with the mysterious purple snake.',
				req: ['snake_climbing']
			});
			new G.move({
				chance: 1,
				text: 'With another tune on [1:their] snake charmer\'s flute, [1:they] rapidly descend back to the ground as the snake slithers back into the ground.',
				successFunc: function() {
					this.lose('snake climbing');
				},
				req: ['snake_charmer\'s_flute snake_climbing any%0.5 !injured%0.2|ailed%0.2|bruised%0.2|cut_up%0.2|singed%0.2|crippled%0.3|seared%0.3|lacerated%0.3|poisoned%0.3 '+hardDisables]
			});
			
			G.parse = function(text,actors)
			{
				/*
					syntax :
					'[1] looks at [2]'
						> names of people or teams
					'[1] looks at [1:g|himself|herself|themself|itself]'
						> outputs one of the 4 options depending on gender
						> shortcuts : [1:they], [1:them], [1:their], [1:themself]
					'[1] [wanders|walks|skips] around'
						> outputs one of several options, at random
						> note that this can be nested, ie. '[1] [eats [cake|ice cream]|looks at [2]]'
	  				'[ALL]'
	   					> every people and team using oxford\'s commas
		 			'[ALL-1-2]'
	  					> every people and team except for chars or teams marked by 1 and 2
				*/
				var input = text.split(''); //seemingly just for editing purposes -CS
				var out = '';
				var tag = '';
				var intag = 0;
				l('roundStats').style.display = 'none';
				for (var i in input)
				{
					if (input[i]=='[' && intag==0) {intag++;tag='';}
					else if (input[i]=='[' && intag>0) {intag++;tag+='[';}
					else if (input[i]==']' && intag>1) {intag--;tag+=']';}
					else if (input[i]==']' && intag==1)
					{
						if (tag=='RED'){out+='[RED]'}
						else if (tag=='BLUE'){out+='[BLUE]'}
						else if (tag.indexOf('ALL')==0) {
							let list = [];
							let exemptList = tag.split('-');
							exemptList.splice(0, 1);
							for (let i = 0; i < actors.length; i++) {
								if (exemptList.includes((i + 1).toString())) { continue; }
								list.push('<e>'+actors[i].name+'</e>');
							}
							out += oxfordsConcat(list);
						}
						else if (tag.length>0) {
							var bits=tag.split('|');
							//if (!isNaN(bits[0]) && (tag.indexOf('|')==-1 || tag.indexOf(':')!=-1) && actors[parseInt(bits[0])-1])
							if (tag.indexOf('|')==-1 || tag.indexOf(':')!=-1)
							{
								var prop=0;
								if (bits[0].indexOf(':')!=-1){prop=bits[0].split(':')[1];bits[0]=bits[0].split(':')[0];}
								
								if (!isNaN(bits[0]) && actors[parseInt(bits[0])-1])
								{
									var actor=actors[parseInt(bits[0])-1];
									if (prop=='g') {
										out+=G.parse([bits[1],bits[2],bits[3],bits[4]][actor.gender].replaceAll('{PIPE}','|').replaceAll('{COLON}',':'),actors);
									}
									else if (prop) { 
										out += G.charParseModules[prop].parse(actor); 
									} else { 
										out+='<e>'+actor.name+'</e>'; 
									}
								}
								else out+='<e>[invalid actor : '+bits[0]+']</e>';
							}
							else if (tag.indexOf('|')!=-1)
							{
								out+=G.parse(c(bits).replaceAll('{PIPE}','|').replaceAll('{COLON}',':'),actors);
							}
							else out+='['+tag+']';
						}
						else out+='['+tag+']';
						intag=0;
						tag='';
					}
					else if (intag)
					{
						if (intag>1 && input[i]=='|') tag+='{PIPE}';
						else if (intag>1 && input[i]==':') tag+='{COLON}';
						else tag+=input[i];
					}
					else
					{
						var toAdd=input[i];
						out+=toAdd;
					}
				}
				return out;
			}
			
			//round
			G.round=0;
			G.round_speed = 1;
			G.happenings = [];
			G.outputstr = "";
			G.animateHappenings = function (){
				if (G.happenings.length == 0) { return; }
				let happening = G.happenings.shift();
				let h_index = G.happenings.length - G.n_happenings
				let happeningDiv = document.createElement('div');
				happeningDiv.innerHTML = happening;
				happeningDiv.style.zIndex = h_index;
				let round = l('round') 
				if (!round){return;}
				l('round').appendChild(happeningDiv);
				setTimeout(G.animateHappenings, G.game_speed);
			}
			G.nextRound=function()
			{
				if (G.simulating) { return; }
				G.simulating = true;
				let actions = [];
				G.deadThisRound = [];
				G.revivedThisRound = [];
				l('round').innerHTML = '';
				// Flo's animation 
				G.n_happenings = 0;
				G.happenings = [];
				G.outputstr = '';
				// WEATHER CHANGING
				var new_weather = G.changeWeather(G.weatherSettings.current);
				if (new_weather != 0) {
					// Weather Transition!!
					// So proud of it :)
					G.weatherSettings.current_string = G.getWeatherTransitionString(G.weatherSettings.current,new_weather);
					G.weatherSettings.current = new_weather;
				}
				G.ShowTheWeather()
				for (let i in G.teams){G.teams[i].acted=false;}
				for (let i in G.chars){G.chars[i].acted=false;}
				for (let i in G.ongoingCombats) { if (G.ongoingCombats[i].processed) { G.ongoingCombats[i].processed = false; G.ongoingCombats[i].roundCount++; G.ongoingCombats[i].clearOut(); G.ongoingCombats[i].addBox('Continuing the fight from last round, with [ALL]...', deepArrCopy(G.ongoingCombats[i].participants), true); } }
				for (let i = 0; i < randomFloor(Math.pow(1 - G.getAliveCharsN() / G.chars.length, 2) * 2 + 0.1); i++) {
					//console.log('yes');
					if (Math.random() < 0.5 / (G.ongoingCombats.length * 2 + 1)) {
						//chooses someone able to initiate combat with someone else
						var pool = [];
						for (let ii in G.chars) {
							if (G.chars[ii].isOut() || (Math.random() < 0.8 && (G.chars[ii].isDisabled() || G.chars[ii].combat || Math.random() < 1 - 1 / (1 + G.chars[i].has('has fought').count) || (G.chars[ii].has('peaceful') && Math.random() < 0.9)))) { continue; }
							pool.push(G.chars[ii]);
						}
						if (pool.length > 0) { choose(pool).initiateCombat(); }
					}
				}
				for (let i in G.teams) {
					if (G.teams[i].charsAlive != G.getAliveCharsN()) { continue; }
					//that team is the only one left standing, trigger in team duels
					var pool = [];
					for (let ii in G.chars) {
						if (G.chars[ii].isOut() || (Math.random() < 0.8 && (G.chars[ii].isDisabled() || G.chars[ii].combat || Math.random() < 1 - 1 / (1 + G.chars[i].has('has fought').count) || (G.chars[ii].has('peaceful') && Math.random() < 0.9)))) { continue; }
						pool.push(G.chars[ii]);
					}
					if (pool.length > 0 && Math.random() < 0.75) { choose(pool).initiateInTeamDuel(); }
				}
				G.ongoingCombats = shuffle(G.ongoingCombats);
				let currentFights = [];
				for (let i in G.ongoingCombats) { currentFights.push(G.ongoingCombats[i]); }
				
				let everybody=shuffle(deepArrCopy(G.teams).concat(deepArrCopy(G.chars)).concat(currentFights));
				for (var iAct=0;iAct<everybody.length;iAct++)
				{
					var me=everybody[iAct];

					if (me.type == 'char') { for (let i in me.perks) {
						if (me.perks[i].perk.update) { me.perks[i].perk.update.call(me.perks[i]); }
					} for (let i in me.perks) {
						if (me.perks[i]) { me.perks[i].t++; }
					} }
					
					if (!(me instanceof G.combatOverseer) && !me.combat && (me.tier==0 || (Math.random()<1/5))) {
						var acts=[];
						for (var i in actsList)
						{
							var act=actsList[i];
							if (!act.checkSelf(me)) { continue; }
							var loops=0;
							//chances over 1 add the act multiple times to the choice list
							for (var ii=0;ii<Math.min(randomFloor((typeof act.chance === 'function')?act.chance.call(me):act.chance), 50);ii++)
							{
								acts.push(act);
							}
						}
						var choice=0;
						var actors=[];
						for (var i in acts)
						{
							var act=acts[i];
							actors=act.fit(me);//returns a random selection of people who match the act; the first person must be "me"
							//if does not match, returns false
							if (actors)
							{
								if (act.reqFunc && !act.reqFunc([0].concat(actors))) { continue; }
								choice=act;
								break;
							}
						}
						if (choice)
						{
							if (choice.chance!=Math.min(FORCE, 50)) {actsList.splice(actsList.indexOf(choice),1);actsList.push(choice);}//put it back at the end
							//for (var i in actors){actors[i].acted=true;}
							if (actors.length>=1) actors[0].acted=true;
							var text=choice.text;
							var overrideText=0;
							choice.uses++;
							if (choice.func) overrideText=choice.func(([0]).concat(actors));
							var text=G.parse(overrideText||text,actors);
							var classes=['enter'];
							if (text.indexOf('[RED]')!=-1) classes.push('red');
								text=text.replaceAll('[RED]','');
							if (text.indexOf('[BLUE]')!=-1) classes.push('blue');
								text=text.replaceAll('[BLUE]','');
							if (text.indexOf('[GREEN]')!=-1) classes.push('green');
								text=text.replaceAll('[GREEN]','');
							var action={chars:actors,text:text,classes:classes.join(' ')};
							actions.push(action);
							
							var pics='';
							var chars=[];
							for (var ii in action.chars)
							{
								if (action.chars[ii].type=='team')
								{
									for (var iii in action.chars[ii].chars)
									{
										if (chars.indexOf(action.chars[ii].chars[iii])==-1) chars.push(action.chars[ii].chars[iii]);
									}
								}
								else if (chars.indexOf(action.chars[ii])==-1) chars.push(action.chars[ii]);
							}
							for (var ii in chars)
							{
								pics+=`<div class="charDisplay"><div class="display: inline-block;"><img src="${chars[ii].pic}" class="pic" ${chars[ii].trueTeam?.color?('style="border: 2px solid '+chars[ii].trueTeam.color+'"'):('')} title="${chars[ii].name}"/></div>`;
								if (chars[ii].team?.icon) { pics += '<div class="teamIcon" style="background-image: url(' + chars[ii].team.icon + ');"></div>'; }
								if (chars[ii].has('dead')) { pics += `<div class="picSkull"></div>`; }
								if (chars[ii].has('revived')) { pics += `<div class="picAngel"></div>`; }
								// Add stats
								console.log(chars[ii]);
								// Work out grid size ahead of time, 2 column????
								pics += `<div class="charStats">`;
								let _traits = "";
								let _items  = "";
								let _statuses = "";
								// Width control
								let _t = 0;
								let _i = 0;
								let _s = 0;
								const TRAIT_ICONS = ["leader","peaceful","sociopath","kind","unstable","bulky","meek","naive","devious","seductive","suicidal","cute","annoying","scrappy","survivalist","rich","inventor","goth","lunatic","medic","marksman","animal ken","ninja","stubborn", "analytical","artist","pyromania","cowardly","clumsy","glasses","the gift","plot armor"]
								const ITEM_ICONS = []
								const STATUS_ICONS = []
								
								const URL = "assets"
								for (let p of chars[ii].perks) {
									console.log(p);
									console.log(p.perk.name in TRAIT_ICONS);
									if (p.perk.type === "trait" && TRAIT_ICONS.includes(p.perk.name)) {
										if (_traits.length == 0) {
											_traits += `<div class="charTraits"><div class="charBG" style="width:###TRAITS###"></div>`;
										}
										_t ++;
										_traits += `<img src="${URL}/traits/${p.perk.name}.png" class="icon" title="${p.perk.name}"/>`;
									}
									
									else if (p.perk.type === "item" && p.perk.name in ITEM_ICONS) {
										if (_items.length == 0) {
											_items += `<div class="charItems"><div class="charBG"></div>`;
										}
										_i ++;
										_items += `<div class="charItems"><img src="${URL}/items/${p.perk.name}" class="icon" title="${p.perk.name}"/></div>`;
									}

									else if (p.perk.type === "status" && p.perk.name in STATUS_ICONS) {
										if (length(_statuses) == 0) {
											_statuses += `<div class="charStatuses"><div class="charBG"></div>`;
										}
										_statuses += `<div class="charStatuses"><img src="${URL}/status/${p.perk.name}.png" class="icon" title="${p.perk.name}"/></div>`;
									}

								};
								if (_traits.length > 0) {
									
										_traits = _traits.replace('###TRAITS###', `${8+(_t*20)}px`);
										_traits += `</div>`;
									}
								if (_items.length > 0) {
									_items += `</div>`;
									}
								if (_statuses.length > 0) {
									_statuses += `</div>`;
								}
								pics += `${_traits}${_items}${_statuses}`;

								pics += '</div></div>';
							}
							// huehuehue
							G.n_happenings++;
							G.happenings.push(`<div class="box action${action.classes?(' '+action.classes):''}"><div class="actionCharContainer">${pics}</div><div>${action.text}</div></div>`);
						
						}
					}
					else if (me instanceof G.combatOverseer) {
						//get html for combat sequence
						let overseer = me;
						if (overseer.processed) { continue; }
						overseer.processed = true;
						let count = 0;
						overseer.participants = shuffle(overseer.participants);
						overseer.extras = shuffle(overseer.extras);
						let participants = overseer.participants.concat(overseer.extras);
						for (let i in participants) {
							for (let ii in participants) {
								if (i == ii) { continue; }
								if (!participants[i].isOut() && participants[i].combat && participants[ii].combat) { participants[i].combat.moveToward(participants[ii], Math.pow(Math.abs(participants[i].combat.horizontal - participants[ii].combat.horizontal) + 1, 0.6) - 1); }
								if (!participants[i].isOut() && participants[i].combat && participants[ii].combat && Math.abs(participants[ii].combat.horizontal - participants[i].combat.horizontal) <= 0.75) { participants[i].combat.moveToward(participants[ii], -1 * Math.random()); }
							}
						}
						for (let i = 0; i < 60; i++) {
							participants = overseer.participants.concat(overseer.extras);
							for (let i in participants) {
								if (participants[i].makeMove()) { participants[i].fleeCombat(); }
							}
							for (let i in participants) { if (participants[i].combat && isNaN(participants[i].combat.horizontal)) { throw 'NaN has appeared!'; } }
							if (participants.length <= 1 || Math.random() > 1 / Math.max(count * 0.03 + 0.7, 1)) { break; }
							count++;
						}
						let overseerBoxes = G.parseBoxes(overseer.processInjects());
						G.happenings.concat();
						G.n_happenings += overseerBoxes.length;
					}
					if (me.type == 'char' && me.has('act again') && !me.combat) { me.lose('act again'); i--; }
				}
				
				if (!G.happenings) G.happenings[0]=`<div class="box action"><div></div><div>(Absolutely nothing happened.)</div></div>`;
				G.logPos=0;
				G.log(str);
				G.updateLogButtons();
				
				G.round++;
				
				/*if (true)
				{
					var str2='';
					for (var i in actsList)
					{
						str2+=actsList[i].text+'<br>';
					}
					str+=`<div style="position:absolute;left:0px;top:0px;">${str2}</div>`;
				}*/
				
				// l('round').innerHTML=str;

				setTimeout(G.animateHappenings, G.game_speed);
				/*var nodes=l('round').getElementsByClassName('action');
					for (var i=nodes.length-1;i>=0;i--){animRemove(nodes[i]);}
				l('round').insertAdjacentHTML('afterbegin',str);*/
				if (!G.autoroundOn)
				{
					var nodes=l('round').getElementsByClassName('action');
					for (var i=nodes.length-1;i>=0;i--){animAdd(nodes[i]);}
				}
				str = '';
				G.cacheAllTeamDeathCounts();
				let dead=0,alive=0,others=0;
				for (var i in G.chars)
				{
					var me=G.chars[i];
					if (me.has('dead')) dead++;
					else if (me.has('ghost') || me.has('zombie')) others++;
					else alive++;
				}
				str+=`<div class="smallHeader">Alive : ${alive} | Dead : ${dead}</div><div id="roundStatsGrid" style="grid-template-columns: repeat([AMOUNT], 1fr);">`;
				if (others>0) str+=` | Other : ${others}`;
				let charCountBoxesCount = G.teams.length;
				for (let i in G.teams) {
					str += `<div class="box deathsBox" style="grid-column: ${(parseFloat(i) + 1)}; ${(G.teams[i].color?('border: '+G.teams[i].color+' solid 1px;'):'')};"><div class="smallHeader">${G.teams[i].name}</div>Alive : ${G.teams[i].getAliveCharsN()} | Dead : ${G.teams[i].getDeadCharsN()}</div>`;
				}
				for (let i in G.chars) {
					if (!G.chars[i].team) { 
						charCountBoxesCount++; 
						str += `<div class="box" style="grid-column: ${charCountBoxesCount}; text-align: center; background: rgba(0, 0, 0, 0);"><div class="smallHeader">Unaffiliated</div>Alive : ${G.getNoTeamAliveCharsN()} | Dead : ${G.getNoTeamDeadCharsN()}</div>`;
						break;
					}
				}
				str += '</div>';
				str = str.replace('[AMOUNT]', charCountBoxesCount);
				// Animate death
				let death_timer = 0;
				if (G.n_happenings > 0){
					death_timer = G.game_speed * G.n_happenings;
				}
				setTimeout(function() {
						console.log('death timer' + death_timer);
						l('roundStats').innerHTML=str;
						l('roundStats').classList.add('enter');
						l('roundN').innerHTML='Round '+G.round;
						l('roundStats').style.display='block';
				}, death_timer);

				if (alive==0)
				{
					if (G.chars.length==0) l('everyoneDeadDetails').innerHTML=`There's literally nobody here, dead or alive.`;
					else l('everyoneDeadDetails').innerHTML=`Everyone is dead.`;
					l('everyoneDead').style.display='block';
				}
				else l('everyoneDead').style.display='none';
				
				var deadThisRoundAllText = '';
				if (G.deadThisRound.length > 0) {
					var str = `<header>Died this round :</header>`;
					str += `<div style="font-size:12px;"><cap>`;
					var chars = G.deadThisRound;
					for (var i = 0; i < chars.length; i++)
					{
						str+=`<div style="display:inline-block;padding:4px 16px;">${chars[i].getMiniIcon()} <e style="color:#e2461f;">${chars[i].name}</e>`;
							if (chars[i].killer.length>0) str+=`, <span style="font-size:80%;">killed by <b>${chars[i].killer.map(killer=>killer.name).join(', ')}</b> (${chars[i].deathReason})</span>`;
							else str+=` <span style="font-size:80%;">(${chars[i].deathReason})</span>`;
						str+=`</div>`;
					}
					str += `</cap></div>`;
					deadThisRoundAllText += str;
				}
				if (G.revivedThisRound.length > 0) {
					var str = `<header>Revived this round :</header>`;
					str += `<div style="font-size:12px;"><cap>`;
					var chars = G.revivedThisRound;
					for (var i = 0; i < chars.length; i++)
					{
						str+=`<div style="display:inline-block;padding:4px 16px;">${chars[i].getMiniIcon()} <e style="color:#41e00a;">${chars[i].name}</e>`;
							if (chars[i].revivedBy.length>0) str+=`, <span style="font-size:80%;">revived by <b>${chars[i].revivedBy.map(revivedBy=>revivedBy.name).join(', ')}</b> (${chars[i].reviveReason})</span>`;
							else str+=` <span style="font-size:80%;">(${chars[i].reviveReason})</span>`;
						str+=`</div>`;
					}
					str += `</cap></div>`;
					deadThisRoundAllText += str;
				}
				l('deadThisRound').innerHTML=deadThisRoundAllText;
				l('deadThisRound').style.display='block';
				if (G.deadThisRound.length == 0 && G.revivedThisRound.length == 0) { l('deadThisRound').style.display='none'; }
				
				let end = false;
				G.simulating = false;
				
				if (alive>0)
				{
					let teamsAlive=[];
					let soleSurvivor=0;
					for (let i in G.chars)
					{
						let me=G.chars[i];
						if (me.has('dead')) {}
						else if (me.has('ghost') || me.has('zombie')) {}
						else
						{
							soleSurvivor=me;
							if (me.team && teamsAlive.indexOf(me.team)==-1) teamsAlive.push(me.team);
						}
					}
					if (G.chars.length>1 && alive==1)
					{
						l('soleSurvivor').style.display='block';
						l('soleSurvivorDetails').innerHTML=`<div>Everyone is dead except <e>${soleSurvivor.name}</e>${soleSurvivor.team?(' from <e>'+soleSurvivor.team.name+'</e>'):''}, who stands as the sole survivor.</div>`;
						end=true;
					}
					else if (G.teams.length>1 && teamsAlive.length==1)
					{
						l('soleSurvivor').style.display='block';
						l('soleSurvivorDetails').innerHTML=`<div><e>${teamsAlive[0].name}</e> emerges as the victorious team. Everyone else is dead.</div>`;
						end=true;
					}
					else l('soleSurvivor').style.display='none';
				}
				else
				{
					end=true;
					l('soleSurvivor').style.display='none';
				}
				
				if (end)
				{
					var str=`<header>Tally</header>`;
					str+=`<div style="font-size:12px;"><cap>`;
					//display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:stretch;align-items:stretch;
						var chars=G.chars.slice(0);
						chars=chars.sort((a,b)=>b.kills.length-a.kills.length);
						for (var i=0;i<chars.length;i++)
						{
							str+=`<div style="display:inline-block;padding:4px 16px;${i==0?'font-size:150%;':i<(Math.min(chars.length/2,3))?'font-size:125%;':''}"><img src="${chars[i].pic}" class="pic intext" title="${chars[i].name}"/> <b>#${i+1}</b> : <e>${chars[i].name}</e>${chars[i].has('dead')?'<span style="color:#e2461f;">&dagger;</span>':''}, <span style="font-size:80%;">with <b>${chars[i].kills.length==0?'no kills':chars[i].kills.length==1?'<span style="color:#e2461f;">1 kill</span>':('<span style="color:#e2461f;">'+chars[i].kills.length+' kills</span>')}</b></span></div>`;
						}
					str+=`</cap></div>`;
					l('tally').innerHTML=str;
					l('tally').style.display='block';
				}
				else l('tally').style.display='none';
			}
			G.gameTurnstile  = function() {
				// Show the teams before the game begins 
				// Characters may be unaffiliated. 
				// Should work for n teams, with m characters
				var teama = [];
				var teamb = [];
				var unaffiliated = [];
				var t_flag = false
				var otherflag = false;
				var teams=G.teams.slice(0);
				var teamless={chars:[],name:'NOTEAM'};
				
				otherflag = teams.length > 1	
				for (var i=0;i<G.chars.length;i++){if (!G.chars[i].team){teamless.chars.push(G.chars[i]);}}
				if (teamless.chars.length>0) teams.unshift(teamless);
				
				for (var i=0;i<teams.length;i++)
				{
					var char_str = '';
					var team=teams[i];
					
					for (var ii=0;ii<team.chars.length;ii++)
					{
						var me=team.chars[ii];
						char_str += `
						<div class="box" style="font-size:12px; padding-left:50px;">
							<div class="picBox"><img src="${me.pic}" class="pic" title="${me.name}"/>${me.has('dead')?'<div class="picSkull"></div>':''} ${me.has('revived')?'<div class="picAngel"></div>':''}</div>
							<div style="text-align:center;">
								<e style="float:left;margin-right:8px;">${me.name}</e>
								<div style="min-width:32%;display:inline-block;"><cap>Perks :</cap> ${me.perks.map(perk=>(perk.perk.type=='trait' && perk.perk.name!='no perk')?('<div class="bit" title="'+perk.desc+'">'+perk.perk.name+'</div>'):'').join(' ')}</div>
								<div style="min-width:32%;display:inline-block;"><cap>Items :</cap> ${me.perks.map(perk=>(perk.perk.type=='item' && perk.perk.name!='no item')?('<div class="bit" title="'+perk.desc+'">'+perk.perk.name+'</div>'):'').join(' ')}</div>
								<div style="min-width:32%;display:inline-block;"><cap>Other :</cap> ${me.perks.map(perk=>(perk.perk.type!='item' && perk.perk.type!='trait')?('<div class="bit" title="'+perk.desc+'">'+perk.perk.name+'</div>'):'').join(' ')}</div>
							</div>
							</div>
						`;
					}
					console.log(team)
					if (team.name==="NOTEAM"){
						unaffiliated.push(char_str)
					}
					else 
					{	
						var final_str = `<div class=""><cap>${team.name}</cap><div class="turnstilebox">${char_str}</div></div>`
						if(t_flag) teama.push(final_str);
						else teamb.push(final_str);
						t_flag = !t_flag;
					}
					//char_str += "</div>"

					
				}
				console.log(otherflag);
				console.log(unaffiliated);
				console.log(teama);
				console.log(teamb);
				if (!otherflag){
					teamb = unaffiliated.slice(0);
					unaffiliated = [];
				}
				var ul = unaffiliated.length;
				var u1
				var u2
				if(ul){
					let half = Math.floor(ul / 2)
					let first = unaffiliated.slice(0, half);
					let second = unaffiliated.slice(half, ul);
					if (first){
						u1 = `<div>${first.join("")}</div>`
					}
					if (second){
						u2 = `<div>${second.join("")}</div>`
					}
				}
				var t1
				var t2
				if (teama) {
					t1 = `<div>${teama.join("")}</div>`
				}
				if (teamb) {
					t2 = `<div>${teamb.join("")}</div>`
				}
				console.log(str)
				l('main').innerHTML=`
					<div style="text-align:left;overflow:hidden;position:absolute;left:10%;bottom:20%;z-index:2;"><div class="button" id="backToCreator">&lt; Go back to team setup</div></div>
					<div class="turnstilepage">
				    <div class="turnstilecontainer" id="turnstile">
						<div class="turnstileteam teama">${t1}</div>
						<div class="turnstileteam teamb">${t2}</div>
					</div>
					<div class="turnstilecontainer" id="turnstile2">
						<div class="turnstileteam unaffiliated-left">${u1}</div>
						<div class="turnstileteam unaffiliated-right">${u2}</div>

						<div class="begincontainer">
					<div class="beginbutton button bigButton" id="begin">Begin</div>
					</div>
					</div>
					</div>
				`
				teams = document.querySelectorAll('.turnstileteam');
				// Starting positions :>
				addEvent(l('backToCreator'),'click',function(){G.creator();});
				document.querySelector('.teama').style.transform = 'translateY(-50px)';
				document.querySelector('.teamb').style.transform = 'translateY(50px)';
				document.querySelector('.unaffiliated-left').style.transform = 'translateX(-50px)';
				document.querySelector('.unaffiliated-right').style.transform = 'translateX(50px)';


				// Bottom and top ones go after
				setTimeout(function() {
					l('turnstile').classList.add('turnstile-in');
				}, 1000);
				// The side unaffiliated "locks"
				setTimeout(function() {
					l('turnstile2').classList.add('turnstile-in');
				}, 200);

				// When we click begin
				l('begin').addEventListener('click', function() {
					this.disabled = true;
					// Again, side goes first, turnstile1 is the bottom and top
					setTimeout(function() {
						l('turnstile').classList.remove('turnstile-in');
						l('turnstile').classList.add('turnstile-out');
						l('popups').innerHTML = '<div style="height:100%;width: 100%;"></div><div style="height:100%;width: 100%;"></div>'
						l('popups').classList.add('transition')
					}, 500)
					// Sides aren't waited for
					l('turnstile2').classList.remove('turnstile-in');
					l('turnstile2').classList.add('turnstile-out');
					// Actually Start this thing.
					setTimeout(function() {
						G.actuallyStart();
						l('popups').classList.remove('transition')
						}, 2000);

					})

				};

			// New Turnstile :D
			G.gameTurnstile(); // Runs when you click start

			
			G.actuallyStart = function() { // Get hijacked, pointed at from above

				l('cornertips').innerHTML = `` // dirty dirty
				l('main').innerHTML=`
				<div style="text-align:left;overflow:hidden;"><div class="button" id="backToCreator">&lt; Go back to team setup</div><div class="button" id="exportSetup">Export initial setup...</div><span style="float:right;"><div class="button" id="viewDetails">Details...</div><div class="button" id="nextRound2">Next round &gt;</div></span></div>
				<header id="roundN"></header>
				<div style="height:23px;margin-top:-30px;margin-bottom:11px;clear:both;overflow:hidden;">
					<div class="button" id="logBackFull" style="float:left;">&lt; &lt;</div>
					<div class="button" id="logBack" style="float:left;">&lt; View previous round</div>
					<div class="button" id="logForwardFull" style="float:right;">&gt; &gt;</div>
					<div class="button" id="logForward" style="float:right;">View next round &gt;</div>
				</div>
				<div style="text-align:center;margin-bottom:10px" class="box ${weatherStates[G.weatherSettings.current].col}" id="summary">
					<div  id="WeatherIcon"></div>
					<div  id="ShowWeather"></div>
				</div>
				<div id="round"></div>
				<div class="box" id="deadThisRound" style="display:none;text-align:center;background:rgba(0,0,0,0.5);"></div>
				<div class="box red" id="everyoneDead" style="display:none;">
					<div id="everyoneDeadDetails"></div>
					<div>You may want to <div class="button" id="backToCreator2">Go back to team setup</div>.</div>
				</div>
				<div class="box blue" id="soleSurvivor" style="display:none;">
					<div id="soleSurvivorDetails"></div>
					<div>You may want to <div class="button" id="backToCreator3">Go back to team setup</div>, or keep going until no one is left alive.</div>
				</div>
				<div class="box" id="tally" style="display:none;text-align:center;background:rgba(0,0,0,0.5);"></div>
				<header id="stretchy">
					<div style="font-size:10px;" id="roundStats" class="box"></div>
					<div class="button bigButton" id="nextRound">Next round</div>
				</header>
				
			`;

			
			addEvent(l('nextRound'),'click',function(){G.nextRound();});
			addEvent(l('nextRound2'),'click',function(){G.nextRound();});
			addEvent(l('viewDetails'),'click',function(){G.viewDetails();});
			addEvent(l('backToCreator'),'click',function(){G.creator();});
			addEvent(l('backToCreator2'),'click',function(){G.creator();});
			addEvent(l('backToCreator3'),'click',function(){G.creator();});
			addEvent(l('exportSetup'),'click',function(){G.exportSetup(G.setupData);});
			
			addEvent(l('logBack'),'click',function(){G.logBack();});
			addEvent(l('logBackFull'),'click',function(){G.logBack(true);});
			addEvent(l('logForward'),'click',function(){G.logForward();});
			addEvent(l('logForwardFull'),'click',function(){G.logForward(true);});
			
			G.nextRound()
			}
			
			G.roundLog=[];
			G.logPos=0;//how many rounds back we are
			G.updateLogButtons=function()
			{
				if (!G.roundLog[G.logPos+1]) {l('logBack').style.display='none';l('logBackFull').style.display='none';} else {l('logBack').style.display='inline-block';l('logBackFull').style.display='inline-block';}
				if (!G.roundLog[G.logPos-1]) {l('logForward').style.display='none';l('logForwardFull').style.display='none';} else {l('logForward').style.display='inline-block';l('logForwardFull').style.display='inline-block';}
			}
			G.log=function(str)
			{
				G.roundLog.unshift(str);
				if (G.roundLog.length>=52) G.roundLog.pop();
			}
			G.logBack=function(full)
			{
				var str=G.roundLog[G.logPos+1]||0;
				if (full) str=G.roundLog[G.roundLog.length-1]||0;
				if (!str) return false;
				G.logPos++;
				if (full) G.logPos=G.roundLog.length-1;
				l('round').innerHTML=str;
				l('roundN').innerHTML='Round '+(G.round-G.logPos)+' ('+(G.logPos>0?('archive level -'+G.logPos):'current')+')';
				G.updateLogButtons();
			}
			G.logForward=function(full)
			{
				var str=G.roundLog[G.logPos-1]||0;
				if (full) str=G.roundLog[0]||0;
				if (!str) return false;
				G.logPos--;
				if (full) G.logPos=0;
				l('round').innerHTML=str;
				l('roundN').innerHTML='Round '+(G.round-G.logPos)+' ('+(G.logPos>0?('archive level -'+G.logPos):'current')+')';
				G.updateLogButtons();
			}	//G.nextRound();
		}
		
		G.autoroundOn=true;
		G.autoroundT=100;
		G.autoround=function(t)
		{
			if (t) G.autoroundT=Math.max(t*1000,10); else G.autoroundT=100;
			if (!G.started) G.start();
			G.autoroundOn=!G.autoroundOn;G.autoroundLoop();
		}
		G.autoroundLoop=function()
		{
			if (G.autoroundOn)
			{
				G.nextRound();
				setTimeout(G.autoroundLoop,G.autoroundT);
			}
		}

		if (autoCompileSetupsList) {
			let e = document.createElement('script');
			e.src = '/script.js';
			document.getElementById('body').appendChild(e);
		}
		
		G.creator();
	},
};

if (!G.launched) G.init();
</script>
